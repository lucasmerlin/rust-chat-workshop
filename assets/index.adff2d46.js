(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();function ja(e,t){const s=Object.create(null),a=e.split(",");for(let o=0;o<a.length;o++)s[a[o]]=!0;return t?o=>!!s[o.toLowerCase()]:o=>!!s[o]}const rf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lf=ja(rf);function Si(e){return!!e||e===""}function en(e){if(se(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],o=We(a)?pf(a):en(a);if(o)for(const l in o)t[l]=o[l]}return t}else{if(We(e))return e;if(Ne(e))return e}}const cf=/;(?![^(]*\))/g,uf=/:(.+)/;function pf(e){const t={};return e.split(cf).forEach(s=>{if(s){const a=s.split(uf);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function De(e){let t="";if(We(e))t=e;else if(se(e))for(let s=0;s<e.length;s++){const a=De(e[s]);a&&(t+=a+" ")}else if(Ne(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function he(e){if(!e)return null;let{class:t,style:s}=e;return t&&!We(t)&&(e.class=De(t)),s&&(e.style=en(s)),e}const ff="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",df=ja(ff),Pt=e=>We(e)?e:e==null?"":se(e)||Ne(e)&&(e.toString===Ci||!ce(e.toString))?JSON.stringify(e,Ei,2):String(e),Ei=(e,t)=>t&&t.__v_isRef?Ei(e,t.value):Yt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,o])=>(s[`${a} =>`]=o,s),{})}:Oi(t)?{[`Set(${t.size})`]:[...t.values()]}:Ne(t)&&!se(t)&&!$i(t)?String(t):t,Re={},Kt=[],An=()=>{},hf=()=>!1,mf=/^on[^a-z]/,Na=e=>mf.test(e),_r=e=>e.startsWith("onUpdate:"),rn=Object.assign,vr=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},kf=Object.prototype.hasOwnProperty,_e=(e,t)=>kf.call(e,t),se=Array.isArray,Yt=e=>Fa(e)==="[object Map]",Oi=e=>Fa(e)==="[object Set]",ce=e=>typeof e=="function",We=e=>typeof e=="string",yr=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",Mi=e=>Ne(e)&&ce(e.then)&&ce(e.catch),Ci=Object.prototype.toString,Fa=e=>Ci.call(e),gf=e=>Fa(e).slice(8,-1),$i=e=>Fa(e)==="[object Object]",wr=e=>We(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,da=ja(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ha=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},_f=/-(\w)/g,Vn=Ha(e=>e.replace(_f,(t,s)=>s?s.toUpperCase():"")),vf=/\B([A-Z])/g,Lt=Ha(e=>e.replace(vf,"-$1").toLowerCase()),Da=Ha(e=>e.charAt(0).toUpperCase()+e.slice(1)),no=Ha(e=>e?`on${Da(e)}`:""),js=(e,t)=>!Object.is(e,t),Zt=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},ya=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},Co=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let hl;const yf=()=>hl||(hl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let hn;class Ai{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&hn&&(this.parent=hn,this.index=(hn.scopes||(hn.scopes=[])).push(this)-1)}run(t){if(this.active){const s=hn;try{return hn=this,t()}finally{hn=s}}}on(){hn=this}off(){hn=this.parent}stop(t){if(this.active){let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function wf(e){return new Ai(e)}function bf(e,t=hn){t&&t.active&&t.effects.push(e)}function Ti(){return hn}function Ri(e){hn&&hn.cleanups.push(e)}const br=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Pi=e=>(e.w&ut)>0,Ii=e=>(e.n&ut)>0,xf=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ut},Sf=e=>{const{deps:t}=e;if(t.length){let s=0;for(let a=0;a<t.length;a++){const o=t[a];Pi(o)&&!Ii(o)?o.delete(e):t[s++]=o,o.w&=~ut,o.n&=~ut}t.length=s}},$o=new WeakMap;let bs=0,ut=1;const Ao=30;let Mn;const Ct=Symbol(""),To=Symbol("");class xr{constructor(t,s=null,a){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,bf(this,a)}run(){if(!this.active)return this.fn();let t=Mn,s=ot;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Mn,Mn=this,ot=!0,ut=1<<++bs,bs<=Ao?xf(this):ml(this),this.fn()}finally{bs<=Ao&&Sf(this),ut=1<<--bs,Mn=this.parent,ot=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Mn===this?this.deferStop=!0:this.active&&(ml(this),this.onStop&&this.onStop(),this.active=!1)}}function ml(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let ot=!0;const Li=[];function ls(){Li.push(ot),ot=!1}function cs(){const e=Li.pop();ot=e===void 0?!0:e}function yn(e,t,s){if(ot&&Mn){let a=$o.get(e);a||$o.set(e,a=new Map);let o=a.get(s);o||a.set(s,o=br()),ji(o)}}function ji(e,t){let s=!1;bs<=Ao?Ii(e)||(e.n|=ut,s=!Pi(e)):s=!e.has(Mn),s&&(e.add(Mn),Mn.deps.push(e))}function Zn(e,t,s,a,o,l){const c=$o.get(e);if(!c)return;let i=[];if(t==="clear")i=[...c.values()];else if(s==="length"&&se(e))c.forEach((u,p)=>{(p==="length"||p>=a)&&i.push(u)});else switch(s!==void 0&&i.push(c.get(s)),t){case"add":se(e)?wr(s)&&i.push(c.get("length")):(i.push(c.get(Ct)),Yt(e)&&i.push(c.get(To)));break;case"delete":se(e)||(i.push(c.get(Ct)),Yt(e)&&i.push(c.get(To)));break;case"set":Yt(e)&&i.push(c.get(Ct));break}if(i.length===1)i[0]&&Ro(i[0]);else{const u=[];for(const p of i)p&&u.push(...p);Ro(br(u))}}function Ro(e,t){const s=se(e)?e:[...e];for(const a of s)a.computed&&kl(a);for(const a of s)a.computed||kl(a)}function kl(e,t){(e!==Mn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Ef=ja("__proto__,__v_isRef,__isVue"),Ni=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(yr)),Of=Sr(),Mf=Sr(!1,!0),Cf=Sr(!0),gl=$f();function $f(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const a=Se(this);for(let l=0,c=this.length;l<c;l++)yn(a,"get",l+"");const o=a[t](...s);return o===-1||o===!1?a[t](...s.map(Se)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){ls();const a=Se(this)[t].apply(this,s);return cs(),a}}),e}function Sr(e=!1,t=!1){return function(a,o,l){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&l===(e?t?Uf:Bi:t?Wi:Di).get(a))return a;const c=se(a);if(!e&&c&&_e(gl,o))return Reflect.get(gl,o,l);const i=Reflect.get(a,o,l);return(yr(o)?Ni.has(o):Ef(o))||(e||yn(a,"get",o),t)?i:Ee(i)?c&&wr(o)?i:i.value:Ne(i)?e?Ut(i):Le(i):i}}const Af=Fi(),Tf=Fi(!0);function Fi(e=!1){return function(s,a,o,l){let c=s[a];if(ns(c)&&Ee(c)&&!Ee(o))return!1;if(!e&&(!wa(o)&&!ns(o)&&(c=Se(c),o=Se(o)),!se(s)&&Ee(c)&&!Ee(o)))return c.value=o,!0;const i=se(s)&&wr(a)?Number(a)<s.length:_e(s,a),u=Reflect.set(s,a,o,l);return s===Se(l)&&(i?js(o,c)&&Zn(s,"set",a,o):Zn(s,"add",a,o)),u}}function Rf(e,t){const s=_e(e,t);e[t];const a=Reflect.deleteProperty(e,t);return a&&s&&Zn(e,"delete",t,void 0),a}function Pf(e,t){const s=Reflect.has(e,t);return(!yr(t)||!Ni.has(t))&&yn(e,"has",t),s}function If(e){return yn(e,"iterate",se(e)?"length":Ct),Reflect.ownKeys(e)}const Hi={get:Of,set:Af,deleteProperty:Rf,has:Pf,ownKeys:If},Lf={get:Cf,set(e,t){return!0},deleteProperty(e,t){return!0}},jf=rn({},Hi,{get:Mf,set:Tf}),Er=e=>e,Wa=e=>Reflect.getPrototypeOf(e);function sa(e,t,s=!1,a=!1){e=e.__v_raw;const o=Se(e),l=Se(t);s||(t!==l&&yn(o,"get",t),yn(o,"get",l));const{has:c}=Wa(o),i=a?Er:s?Cr:Ns;if(c.call(o,t))return i(e.get(t));if(c.call(o,l))return i(e.get(l));e!==o&&e.get(t)}function aa(e,t=!1){const s=this.__v_raw,a=Se(s),o=Se(e);return t||(e!==o&&yn(a,"has",e),yn(a,"has",o)),e===o?s.has(e):s.has(e)||s.has(o)}function oa(e,t=!1){return e=e.__v_raw,!t&&yn(Se(e),"iterate",Ct),Reflect.get(e,"size",e)}function _l(e){e=Se(e);const t=Se(this);return Wa(t).has.call(t,e)||(t.add(e),Zn(t,"add",e,e)),this}function vl(e,t){t=Se(t);const s=Se(this),{has:a,get:o}=Wa(s);let l=a.call(s,e);l||(e=Se(e),l=a.call(s,e));const c=o.call(s,e);return s.set(e,t),l?js(t,c)&&Zn(s,"set",e,t):Zn(s,"add",e,t),this}function yl(e){const t=Se(this),{has:s,get:a}=Wa(t);let o=s.call(t,e);o||(e=Se(e),o=s.call(t,e)),a&&a.call(t,e);const l=t.delete(e);return o&&Zn(t,"delete",e,void 0),l}function wl(){const e=Se(this),t=e.size!==0,s=e.clear();return t&&Zn(e,"clear",void 0,void 0),s}function ra(e,t){return function(a,o){const l=this,c=l.__v_raw,i=Se(c),u=t?Er:e?Cr:Ns;return!e&&yn(i,"iterate",Ct),c.forEach((p,f)=>a.call(o,u(p),u(f),l))}}function la(e,t,s){return function(...a){const o=this.__v_raw,l=Se(o),c=Yt(l),i=e==="entries"||e===Symbol.iterator&&c,u=e==="keys"&&c,p=o[e](...a),f=s?Er:t?Cr:Ns;return!t&&yn(l,"iterate",u?To:Ct),{next(){const{value:d,done:h}=p.next();return h?{value:d,done:h}:{value:i?[f(d[0]),f(d[1])]:f(d),done:h}},[Symbol.iterator](){return this}}}}function et(e){return function(...t){return e==="delete"?!1:this}}function Nf(){const e={get(l){return sa(this,l)},get size(){return oa(this)},has:aa,add:_l,set:vl,delete:yl,clear:wl,forEach:ra(!1,!1)},t={get(l){return sa(this,l,!1,!0)},get size(){return oa(this)},has:aa,add:_l,set:vl,delete:yl,clear:wl,forEach:ra(!1,!0)},s={get(l){return sa(this,l,!0)},get size(){return oa(this,!0)},has(l){return aa.call(this,l,!0)},add:et("add"),set:et("set"),delete:et("delete"),clear:et("clear"),forEach:ra(!0,!1)},a={get(l){return sa(this,l,!0,!0)},get size(){return oa(this,!0)},has(l){return aa.call(this,l,!0)},add:et("add"),set:et("set"),delete:et("delete"),clear:et("clear"),forEach:ra(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=la(l,!1,!1),s[l]=la(l,!0,!1),t[l]=la(l,!1,!0),a[l]=la(l,!0,!0)}),[e,s,t,a]}const[Ff,Hf,Df,Wf]=Nf();function Or(e,t){const s=t?e?Wf:Df:e?Hf:Ff;return(a,o,l)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?a:Reflect.get(_e(s,o)&&o in a?s:a,o,l)}const Bf={get:Or(!1,!1)},Vf={get:Or(!1,!0)},zf={get:Or(!0,!1)},Di=new WeakMap,Wi=new WeakMap,Bi=new WeakMap,Uf=new WeakMap;function qf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kf(e){return e.__v_skip||!Object.isExtensible(e)?0:qf(gf(e))}function Le(e){return ns(e)?e:Mr(e,!1,Hi,Bf,Di)}function Yf(e){return Mr(e,!1,jf,Vf,Wi)}function Ut(e){return Mr(e,!0,Lf,zf,Bi)}function Mr(e,t,s,a,o){if(!Ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=o.get(e);if(l)return l;const c=Kf(e);if(c===0)return e;const i=new Proxy(e,c===2?a:s);return o.set(e,i),i}function Jt(e){return ns(e)?Jt(e.__v_raw):!!(e&&e.__v_isReactive)}function ns(e){return!!(e&&e.__v_isReadonly)}function wa(e){return!!(e&&e.__v_isShallow)}function Vi(e){return Jt(e)||ns(e)}function Se(e){const t=e&&e.__v_raw;return t?Se(t):e}function Ba(e){return ya(e,"__v_skip",!0),e}const Ns=e=>Ne(e)?Le(e):e,Cr=e=>Ne(e)?Ut(e):e;function $r(e){ot&&Mn&&(e=Se(e),ji(e.dep||(e.dep=br())))}function Ar(e,t){e=Se(e),e.dep&&Ro(e.dep)}function Ee(e){return!!(e&&e.__v_isRef===!0)}function V(e){return zi(e,!1)}function Pn(e){return zi(e,!0)}function zi(e,t){return Ee(e)?e:new Zf(e,t)}class Zf{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:Se(t),this._value=s?t:Ns(t)}get value(){return $r(this),this._value}set value(t){const s=this.__v_isShallow||wa(t)||ns(t);t=s?t:Se(t),js(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:Ns(t),Ar(this))}}function w(e){return Ee(e)?e.value:e}const Jf={get:(e,t,s)=>w(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const o=e[t];return Ee(o)&&!Ee(s)?(o.value=s,!0):Reflect.set(e,t,s,a)}};function Ui(e){return Jt(e)?e:new Proxy(e,Jf)}class Gf{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:a}=t(()=>$r(this),()=>Ar(this));this._get=s,this._set=a}get value(){return this._get()}set value(t){this._set(t)}}function qi(e){return new Gf(e)}function Qf(e){const t=se(e)?new Array(e.length):{};for(const s in e)t[s]=ed(e,s);return t}class Xf{constructor(t,s,a){this._object=t,this._key=s,this._defaultValue=a,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function ed(e,t,s){const a=e[t];return Ee(a)?a:new Xf(e,t,s)}var Ki;class nd{constructor(t,s,a,o){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[Ki]=!1,this._dirty=!0,this.effect=new xr(t,()=>{this._dirty||(this._dirty=!0,Ar(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=a}get value(){const t=Se(this);return $r(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Ki="__v_isReadonly";function td(e,t,s=!1){let a,o;const l=ce(e);return l?(a=e,o=An):(a=e.get,o=e.set),new nd(a,o,l||!o,s)}function rt(e,t,s,a){let o;try{o=a?e(...a):e()}catch(l){Va(l,t,s)}return o}function Tn(e,t,s,a){if(ce(e)){const l=rt(e,t,s,a);return l&&Mi(l)&&l.catch(c=>{Va(c,t,s)}),l}const o=[];for(let l=0;l<e.length;l++)o.push(Tn(e[l],t,s,a));return o}function Va(e,t,s,a=!0){const o=t?t.vnode:null;if(t){let l=t.parent;const c=t.proxy,i=s;for(;l;){const p=l.ec;if(p){for(let f=0;f<p.length;f++)if(p[f](e,c,i)===!1)return}l=l.parent}const u=t.appContext.config.errorHandler;if(u){rt(u,null,10,[e,c,i]);return}}sd(e,s,o,a)}function sd(e,t,s,a=!0){console.error(e)}let Fs=!1,Po=!1;const Je=[];let Hn=0;const Gt=[];let qn=null,yt=0;const Yi=Promise.resolve();let Tr=null;function Ge(e){const t=Tr||Yi;return e?t.then(this?e.bind(this):e):t}function ad(e){let t=Hn+1,s=Je.length;for(;t<s;){const a=t+s>>>1;Hs(Je[a])<e?t=a+1:s=a}return t}function Rr(e){(!Je.length||!Je.includes(e,Fs&&e.allowRecurse?Hn+1:Hn))&&(e.id==null?Je.push(e):Je.splice(ad(e.id),0,e),Zi())}function Zi(){!Fs&&!Po&&(Po=!0,Tr=Yi.then(Gi))}function od(e){const t=Je.indexOf(e);t>Hn&&Je.splice(t,1)}function rd(e){se(e)?Gt.push(...e):(!qn||!qn.includes(e,e.allowRecurse?yt+1:yt))&&Gt.push(e),Zi()}function bl(e,t=Fs?Hn+1:0){for(;t<Je.length;t++){const s=Je[t];s&&s.pre&&(Je.splice(t,1),t--,s())}}function Ji(e){if(Gt.length){const t=[...new Set(Gt)];if(Gt.length=0,qn){qn.push(...t);return}for(qn=t,qn.sort((s,a)=>Hs(s)-Hs(a)),yt=0;yt<qn.length;yt++)qn[yt]();qn=null,yt=0}}const Hs=e=>e.id==null?1/0:e.id,ld=(e,t)=>{const s=Hs(e)-Hs(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Gi(e){Po=!1,Fs=!0,Je.sort(ld);const t=An;try{for(Hn=0;Hn<Je.length;Hn++){const s=Je[Hn];s&&s.active!==!1&&rt(s,null,14)}}finally{Hn=0,Je.length=0,Ji(),Fs=!1,Tr=null,(Je.length||Gt.length)&&Gi()}}function cd(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Re;let o=s;const l=t.startsWith("update:"),c=l&&t.slice(7);if(c&&c in a){const f=`${c==="modelValue"?"model":c}Modifiers`,{number:d,trim:h}=a[f]||Re;h&&(o=s.map(m=>m.trim())),d&&(o=s.map(Co))}let i,u=a[i=no(t)]||a[i=no(Vn(t))];!u&&l&&(u=a[i=no(Lt(t))]),u&&Tn(u,e,6,o);const p=a[i+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Tn(p,e,6,o)}}function Qi(e,t,s=!1){const a=t.emitsCache,o=a.get(e);if(o!==void 0)return o;const l=e.emits;let c={},i=!1;if(!ce(e)){const u=p=>{const f=Qi(p,t,!0);f&&(i=!0,rn(c,f))};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!l&&!i?(Ne(e)&&a.set(e,null),null):(se(l)?l.forEach(u=>c[u]=null):rn(c,l),Ne(e)&&a.set(e,c),c)}function za(e,t){return!e||!Na(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,Lt(t))||_e(e,t))}let Qe=null,Ua=null;function ba(e){const t=Qe;return Qe=e,Ua=e&&e.type.__scopeId||null,t}function mO(e){Ua=e}function kO(){Ua=null}function W(e,t=Qe,s){if(!t||e._n)return e;const a=(...o)=>{a._d&&Pl(-1);const l=ba(t),c=e(...o);return ba(l),a._d&&Pl(1),c};return a._n=!0,a._c=!0,a._d=!0,a}function to(e){const{type:t,vnode:s,proxy:a,withProxy:o,props:l,propsOptions:[c],slots:i,attrs:u,emit:p,render:f,renderCache:d,data:h,setupState:m,ctx:k,inheritAttrs:y}=e;let v,E;const S=ba(e);try{if(s.shapeFlag&4){const C=o||a;v=Fn(f.call(C,C,d,l,m,h,k)),E=u}else{const C=t;v=Fn(C.length>1?C(l,{attrs:u,slots:i,emit:p}):C(l,null)),E=t.props?u:id(u)}}catch(C){Es.length=0,Va(C,e,1),v=N(pt)}let b=v;if(E&&y!==!1){const C=Object.keys(E),{shapeFlag:L}=b;C.length&&L&7&&(c&&C.some(_r)&&(E=ud(E,c)),b=It(b,E))}return s.dirs&&(b=It(b),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&(b.transition=s.transition),v=b,ba(S),v}const id=e=>{let t;for(const s in e)(s==="class"||s==="style"||Na(s))&&((t||(t={}))[s]=e[s]);return t},ud=(e,t)=>{const s={};for(const a in e)(!_r(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function pd(e,t,s){const{props:a,children:o,component:l}=e,{props:c,children:i,patchFlag:u}=t,p=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return a?xl(a,c,p):!!c;if(u&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const h=f[d];if(c[h]!==a[h]&&!za(p,h))return!0}}}else return(o||i)&&(!i||!i.$stable)?!0:a===c?!1:a?c?xl(a,c,p):!0:!!c;return!1}function xl(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let o=0;o<a.length;o++){const l=a[o];if(t[l]!==e[l]&&!za(s,l))return!0}return!1}function fd({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const Xi=e=>e.__isSuspense;function dd(e,t){t&&t.pendingBranch?se(e)?t.effects.push(...e):t.effects.push(e):rd(e)}function kn(e,t){if(Ke){let s=Ke.provides;const a=Ke.parent&&Ke.parent.provides;a===s&&(s=Ke.provides=Object.create(a)),s[e]=t}}function B(e,t,s=!1){const a=Ke||Qe;if(a){const o=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return s&&ce(t)?t.call(a.proxy):t}}function Js(e,t){return Pr(e,null,t)}const Sl={};function pe(e,t,s){return Pr(e,t,s)}function Pr(e,t,{immediate:s,deep:a,flush:o,onTrack:l,onTrigger:c}=Re){const i=Ke;let u,p=!1,f=!1;if(Ee(e)?(u=()=>e.value,p=wa(e)):Jt(e)?(u=()=>e,a=!0):se(e)?(f=!0,p=e.some(E=>Jt(E)||wa(E)),u=()=>e.map(E=>{if(Ee(E))return E.value;if(Jt(E))return St(E);if(ce(E))return rt(E,i,2)})):ce(e)?t?u=()=>rt(e,i,2):u=()=>{if(!(i&&i.isUnmounted))return d&&d(),Tn(e,i,3,[h])}:u=An,t&&a){const E=u;u=()=>St(E())}let d,h=E=>{d=v.onStop=()=>{rt(E,i,4)}};if(Ws)return h=An,t?s&&Tn(t,i,3,[u(),f?[]:void 0,h]):u(),An;let m=f?[]:Sl;const k=()=>{if(!!v.active)if(t){const E=v.run();(a||p||(f?E.some((S,b)=>js(S,m[b])):js(E,m)))&&(d&&d(),Tn(t,i,3,[E,m===Sl?void 0:m,h]),m=E)}else v.run()};k.allowRecurse=!!t;let y;o==="sync"?y=k:o==="post"?y=()=>Ye(k,i&&i.suspense):(k.pre=!0,i&&(k.id=i.uid),y=()=>Rr(k));const v=new xr(u,y);return t?s?k():m=v.run():o==="post"?Ye(v.run.bind(v),i&&i.suspense):v.run(),()=>{v.stop(),i&&i.scope&&vr(i.scope.effects,v)}}function hd(e,t,s){const a=this.proxy,o=We(e)?e.includes(".")?eu(a,e):()=>a[e]:e.bind(a,a);let l;ce(t)?l=t:(l=t.handler,s=t);const c=Ke;ss(this);const i=Pr(o,l.bind(a),s);return c?ss(c):$t(),i}function eu(e,t){const s=t.split(".");return()=>{let a=e;for(let o=0;o<s.length&&a;o++)a=a[s[o]];return a}}function St(e,t){if(!Ne(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ee(e))St(e.value,t);else if(se(e))for(let s=0;s<e.length;s++)St(e[s],t);else if(Oi(e)||Yt(e))e.forEach(s=>{St(s,t)});else if($i(e))for(const s in e)St(e[s],t);return e}function nu(e,t){e.shapeFlag&6&&e.component?nu(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ce(e){return ce(e)?{setup:e,name:e.name}:e}const Qt=e=>!!e.type.__asyncLoader,tu=e=>e.type.__isKeepAlive,md={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const s=ft(),a=s.ctx;if(!a.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const o=new Map,l=new Set;let c=null;const i=s.suspense,{renderer:{p:u,m:p,um:f,o:{createElement:d}}}=a,h=d("div");a.activate=(S,b,C,L,P)=>{const D=S.component;p(S,b,C,0,i),u(D.vnode,S,b,C,D,i,L,S.slotScopeIds,P),Ye(()=>{D.isDeactivated=!1,D.a&&Zt(D.a);const ee=S.props&&S.props.onVnodeMounted;ee&&wn(ee,D.parent,S)},i)},a.deactivate=S=>{const b=S.component;p(S,h,null,1,i),Ye(()=>{b.da&&Zt(b.da);const C=S.props&&S.props.onVnodeUnmounted;C&&wn(C,b.parent,S),b.isDeactivated=!0},i)};function m(S){so(S),f(S,s,i,!0)}function k(S){o.forEach((b,C)=>{const L=Do(b.type);L&&(!S||!S(L))&&y(C)})}function y(S){const b=o.get(S);!c||b.type!==c.type?m(b):c&&so(c),o.delete(S),l.delete(S)}pe(()=>[e.include,e.exclude],([S,b])=>{S&&k(C=>xs(S,C)),b&&k(C=>!xs(b,C))},{flush:"post",deep:!0});let v=null;const E=()=>{v!=null&&o.set(v,ao(s.subTree))};return is(E),Ir(E),Ka(()=>{o.forEach(S=>{const{subTree:b,suspense:C}=s,L=ao(b);if(S.type===L.type){so(L);const P=L.component.da;P&&Ye(P,C);return}m(S)})}),()=>{if(v=null,!t.default)return null;const S=t.default(),b=S[0];if(S.length>1)return c=null,S;if(!ts(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return c=null,b;let C=ao(b);const L=C.type,P=Do(Qt(C)?C.type.__asyncResolved||{}:L),{include:D,exclude:ee,max:oe}=e;if(D&&(!P||!xs(D,P))||ee&&P&&xs(ee,P))return c=C,b;const ge=C.key==null?L:C.key,ve=o.get(ge);return C.el&&(C=It(C),b.shapeFlag&128&&(b.ssContent=C)),v=ge,ve?(C.el=ve.el,C.component=ve.component,C.transition&&nu(C,C.transition),C.shapeFlag|=512,l.delete(ge),l.add(ge)):(l.add(ge),oe&&l.size>parseInt(oe,10)&&y(l.values().next().value)),C.shapeFlag|=256,c=C,Xi(b.type)?b:C}}},su=md;function xs(e,t){return se(e)?e.some(s=>xs(s,t)):We(e)?e.split(",").includes(t):e.test?e.test(t):!1}function kd(e,t){au(e,"a",t)}function gd(e,t){au(e,"da",t)}function au(e,t,s=Ke){const a=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(qa(t,a,s),s){let o=s.parent;for(;o&&o.parent;)tu(o.parent.vnode)&&_d(a,t,s,o),o=o.parent}}function _d(e,t,s,a){const o=qa(t,e,a,!0);Ya(()=>{vr(a[t],o)},s)}function so(e){let t=e.shapeFlag;t&256&&(t-=256),t&512&&(t-=512),e.shapeFlag=t}function ao(e){return e.shapeFlag&128?e.ssContent:e}function qa(e,t,s=Ke,a=!1){if(s){const o=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...c)=>{if(s.isUnmounted)return;ls(),ss(s);const i=Tn(t,s,e,c);return $t(),cs(),i});return a?o.unshift(l):o.push(l),l}}const Qn=e=>(t,s=Ke)=>(!Ws||e==="sp")&&qa(e,t,s),ou=Qn("bm"),is=Qn("m"),vd=Qn("bu"),Ir=Qn("u"),Ka=Qn("bum"),Ya=Qn("um"),yd=Qn("sp"),wd=Qn("rtg"),bd=Qn("rtc");function xd(e,t=Ke){qa("ec",e,t)}function Lr(e,t){const s=Qe;if(s===null)return e;const a=Ja(s)||s.proxy,o=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[c,i,u,p=Re]=t[l];ce(c)&&(c={mounted:c,updated:c}),c.deep&&St(i),o.push({dir:c,instance:a,value:i,oldValue:void 0,arg:u,modifiers:p})}return e}function ht(e,t,s,a){const o=e.dirs,l=t&&t.dirs;for(let c=0;c<o.length;c++){const i=o[c];l&&(i.oldValue=l[c].value);let u=i.dir[a];u&&(ls(),Tn(u,s,8,[e.el,i,e,t]),cs())}}const ru="components";function xa(e,t){return Ed(ru,e,!0,t)||e}const Sd=Symbol();function Ed(e,t,s=!0,a=!1){const o=Qe||Ke;if(o){const l=o.type;if(e===ru){const i=Do(l,!1);if(i&&(i===t||i===Vn(t)||i===Da(Vn(t))))return l}const c=El(o[e]||l[e],t)||El(o.appContext[e],t);return!c&&a?l:c}}function El(e,t){return e&&(e[t]||e[Vn(t)]||e[Da(Vn(t))])}function Gs(e,t,s,a){let o;const l=s&&s[a];if(se(e)||We(e)){o=new Array(e.length);for(let c=0,i=e.length;c<i;c++)o[c]=t(e[c],c,void 0,l&&l[c])}else if(typeof e=="number"){o=new Array(e);for(let c=0;c<e;c++)o[c]=t(c+1,c,void 0,l&&l[c])}else if(Ne(e))if(e[Symbol.iterator])o=Array.from(e,(c,i)=>t(c,i,void 0,l&&l[i]));else{const c=Object.keys(e);o=new Array(c.length);for(let i=0,u=c.length;i<u;i++){const p=c[i];o[i]=t(e[p],p,i,l&&l[i])}}else o=[];return s&&(s[a]=o),o}function Jn(e,t,s={},a,o){if(Qe.isCE||Qe.parent&&Qt(Qe.parent)&&Qe.parent.isCE)return N("slot",t==="default"?null:{name:t},a&&a());let l=e[t];l&&l._c&&(l._d=!1),O();const c=l&&lu(l(s)),i=q(Me,{key:s.key||c&&c.key||`_${t}`},c||(a?a():[]),c&&e._===1?64:-2);return!o&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),l&&l._c&&(l._d=!0),i}function lu(e){return e.some(t=>ts(t)?!(t.type===pt||t.type===Me&&!lu(t.children)):!0)?e:null}const Io=e=>e?gu(e)?Ja(e)||e.proxy:Io(e.parent):null,Sa=rn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Io(e.parent),$root:e=>Io(e.root),$emit:e=>e.emit,$options:e=>jr(e),$forceUpdate:e=>e.f||(e.f=()=>Rr(e.update)),$nextTick:e=>e.n||(e.n=Ge.bind(e.proxy)),$watch:e=>hd.bind(e)}),Od={get({_:e},t){const{ctx:s,setupState:a,data:o,props:l,accessCache:c,type:i,appContext:u}=e;let p;if(t[0]!=="$"){const m=c[t];if(m!==void 0)switch(m){case 1:return a[t];case 2:return o[t];case 4:return s[t];case 3:return l[t]}else{if(a!==Re&&_e(a,t))return c[t]=1,a[t];if(o!==Re&&_e(o,t))return c[t]=2,o[t];if((p=e.propsOptions[0])&&_e(p,t))return c[t]=3,l[t];if(s!==Re&&_e(s,t))return c[t]=4,s[t];Lo&&(c[t]=0)}}const f=Sa[t];let d,h;if(f)return t==="$attrs"&&yn(e,"get",t),f(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(s!==Re&&_e(s,t))return c[t]=4,s[t];if(h=u.config.globalProperties,_e(h,t))return h[t]},set({_:e},t,s){const{data:a,setupState:o,ctx:l}=e;return o!==Re&&_e(o,t)?(o[t]=s,!0):a!==Re&&_e(a,t)?(a[t]=s,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:o,propsOptions:l}},c){let i;return!!s[c]||e!==Re&&_e(e,c)||t!==Re&&_e(t,c)||(i=l[0])&&_e(i,c)||_e(a,c)||_e(Sa,c)||_e(o.config.globalProperties,c)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:_e(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};let Lo=!0;function Md(e){const t=jr(e),s=e.proxy,a=e.ctx;Lo=!1,t.beforeCreate&&Ol(t.beforeCreate,e,"bc");const{data:o,computed:l,methods:c,watch:i,provide:u,inject:p,created:f,beforeMount:d,mounted:h,beforeUpdate:m,updated:k,activated:y,deactivated:v,beforeDestroy:E,beforeUnmount:S,destroyed:b,unmounted:C,render:L,renderTracked:P,renderTriggered:D,errorCaptured:ee,serverPrefetch:oe,expose:ge,inheritAttrs:ve,components:Be,directives:Ve,filters:He}=t;if(p&&Cd(p,a,null,e.appContext.config.unwrapInjectedRef),c)for(const Z in c){const te=c[Z];ce(te)&&(a[Z]=te.bind(s))}if(o){const Z=o.call(s,s);Ne(Z)&&(e.data=Le(Z))}if(Lo=!0,l)for(const Z in l){const te=l[Z],ue=ce(te)?te.bind(s,s):ce(te.get)?te.get.bind(s,s):An,$e=!ce(te)&&ce(te.set)?te.set.bind(s):An,un=M({get:ue,set:$e});Object.defineProperty(a,Z,{enumerable:!0,configurable:!0,get:()=>un.value,set:Ze=>un.value=Ze})}if(i)for(const Z in i)cu(i[Z],a,s,Z);if(u){const Z=ce(u)?u.call(s):u;Reflect.ownKeys(Z).forEach(te=>{kn(te,Z[te])})}f&&Ol(f,e,"c");function je(Z,te){se(te)?te.forEach(ue=>Z(ue.bind(s))):te&&Z(te.bind(s))}if(je(ou,d),je(is,h),je(vd,m),je(Ir,k),je(kd,y),je(gd,v),je(xd,ee),je(bd,P),je(wd,D),je(Ka,S),je(Ya,C),je(yd,oe),se(ge))if(ge.length){const Z=e.exposed||(e.exposed={});ge.forEach(te=>{Object.defineProperty(Z,te,{get:()=>s[te],set:ue=>s[te]=ue})})}else e.exposed||(e.exposed={});L&&e.render===An&&(e.render=L),ve!=null&&(e.inheritAttrs=ve),Be&&(e.components=Be),Ve&&(e.directives=Ve)}function Cd(e,t,s=An,a=!1){se(e)&&(e=jo(e));for(const o in e){const l=e[o];let c;Ne(l)?"default"in l?c=B(l.from||o,l.default,!0):c=B(l.from||o):c=B(l),Ee(c)&&a?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>c.value,set:i=>c.value=i}):t[o]=c}}function Ol(e,t,s){Tn(se(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function cu(e,t,s,a){const o=a.includes(".")?eu(s,a):()=>s[a];if(We(e)){const l=t[e];ce(l)&&pe(o,l)}else if(ce(e))pe(o,e.bind(s));else if(Ne(e))if(se(e))e.forEach(l=>cu(l,t,s,a));else{const l=ce(e.handler)?e.handler.bind(s):t[e.handler];ce(l)&&pe(o,l,e)}}function jr(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:o,optionsCache:l,config:{optionMergeStrategies:c}}=e.appContext,i=l.get(t);let u;return i?u=i:!o.length&&!s&&!a?u=t:(u={},o.length&&o.forEach(p=>Ea(u,p,c,!0)),Ea(u,t,c)),Ne(t)&&l.set(t,u),u}function Ea(e,t,s,a=!1){const{mixins:o,extends:l}=t;l&&Ea(e,l,s,!0),o&&o.forEach(c=>Ea(e,c,s,!0));for(const c in t)if(!(a&&c==="expose")){const i=$d[c]||s&&s[c];e[c]=i?i(e[c],t[c]):t[c]}return e}const $d={data:Ml,props:_t,emits:_t,methods:_t,computed:_t,beforeCreate:tn,created:tn,beforeMount:tn,mounted:tn,beforeUpdate:tn,updated:tn,beforeDestroy:tn,beforeUnmount:tn,destroyed:tn,unmounted:tn,activated:tn,deactivated:tn,errorCaptured:tn,serverPrefetch:tn,components:_t,directives:_t,watch:Td,provide:Ml,inject:Ad};function Ml(e,t){return t?e?function(){return rn(ce(e)?e.call(this,this):e,ce(t)?t.call(this,this):t)}:t:e}function Ad(e,t){return _t(jo(e),jo(t))}function jo(e){if(se(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function tn(e,t){return e?[...new Set([].concat(e,t))]:t}function _t(e,t){return e?rn(rn(Object.create(null),e),t):t}function Td(e,t){if(!e)return t;if(!t)return e;const s=rn(Object.create(null),e);for(const a in t)s[a]=tn(e[a],t[a]);return s}function Rd(e,t,s,a=!1){const o={},l={};ya(l,Za,1),e.propsDefaults=Object.create(null),iu(e,t,o,l);for(const c in e.propsOptions[0])c in o||(o[c]=void 0);s?e.props=a?o:Yf(o):e.type.props?e.props=o:e.props=l,e.attrs=l}function Pd(e,t,s,a){const{props:o,attrs:l,vnode:{patchFlag:c}}=e,i=Se(o),[u]=e.propsOptions;let p=!1;if((a||c>0)&&!(c&16)){if(c&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let h=f[d];if(za(e.emitsOptions,h))continue;const m=t[h];if(u)if(_e(l,h))m!==l[h]&&(l[h]=m,p=!0);else{const k=Vn(h);o[k]=No(u,i,k,m,e,!1)}else m!==l[h]&&(l[h]=m,p=!0)}}}else{iu(e,t,o,l)&&(p=!0);let f;for(const d in i)(!t||!_e(t,d)&&((f=Lt(d))===d||!_e(t,f)))&&(u?s&&(s[d]!==void 0||s[f]!==void 0)&&(o[d]=No(u,i,d,void 0,e,!0)):delete o[d]);if(l!==i)for(const d in l)(!t||!_e(t,d)&&!0)&&(delete l[d],p=!0)}p&&Zn(e,"set","$attrs")}function iu(e,t,s,a){const[o,l]=e.propsOptions;let c=!1,i;if(t)for(let u in t){if(da(u))continue;const p=t[u];let f;o&&_e(o,f=Vn(u))?!l||!l.includes(f)?s[f]=p:(i||(i={}))[f]=p:za(e.emitsOptions,u)||(!(u in a)||p!==a[u])&&(a[u]=p,c=!0)}if(l){const u=Se(s),p=i||Re;for(let f=0;f<l.length;f++){const d=l[f];s[d]=No(o,u,d,p[d],e,!_e(p,d))}}return c}function No(e,t,s,a,o,l){const c=e[s];if(c!=null){const i=_e(c,"default");if(i&&a===void 0){const u=c.default;if(c.type!==Function&&ce(u)){const{propsDefaults:p}=o;s in p?a=p[s]:(ss(o),a=p[s]=u.call(null,t),$t())}else a=u}c[0]&&(l&&!i?a=!1:c[1]&&(a===""||a===Lt(s))&&(a=!0))}return a}function uu(e,t,s=!1){const a=t.propsCache,o=a.get(e);if(o)return o;const l=e.props,c={},i=[];let u=!1;if(!ce(e)){const f=d=>{u=!0;const[h,m]=uu(d,t,!0);rn(c,h),m&&i.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!l&&!u)return Ne(e)&&a.set(e,Kt),Kt;if(se(l))for(let f=0;f<l.length;f++){const d=Vn(l[f]);Cl(d)&&(c[d]=Re)}else if(l)for(const f in l){const d=Vn(f);if(Cl(d)){const h=l[f],m=c[d]=se(h)||ce(h)?{type:h}:h;if(m){const k=Tl(Boolean,m.type),y=Tl(String,m.type);m[0]=k>-1,m[1]=y<0||k<y,(k>-1||_e(m,"default"))&&i.push(d)}}}const p=[c,i];return Ne(e)&&a.set(e,p),p}function Cl(e){return e[0]!=="$"}function $l(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Al(e,t){return $l(e)===$l(t)}function Tl(e,t){return se(t)?t.findIndex(s=>Al(s,e)):ce(t)&&Al(t,e)?0:-1}const pu=e=>e[0]==="_"||e==="$stable",Nr=e=>se(e)?e.map(Fn):[Fn(e)],Id=(e,t,s)=>{if(t._n)return t;const a=W((...o)=>Nr(t(...o)),s);return a._c=!1,a},fu=(e,t,s)=>{const a=e._ctx;for(const o in e){if(pu(o))continue;const l=e[o];if(ce(l))t[o]=Id(o,l,a);else if(l!=null){const c=Nr(l);t[o]=()=>c}}},du=(e,t)=>{const s=Nr(t);e.slots.default=()=>s},Ld=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=Se(t),ya(t,"_",s)):fu(t,e.slots={})}else e.slots={},t&&du(e,t);ya(e.slots,Za,1)},jd=(e,t,s)=>{const{vnode:a,slots:o}=e;let l=!0,c=Re;if(a.shapeFlag&32){const i=t._;i?s&&i===1?l=!1:(rn(o,t),!s&&i===1&&delete o._):(l=!t.$stable,fu(t,o)),c=t}else t&&(du(e,t),c={default:1});if(l)for(const i in o)!pu(i)&&!(i in c)&&delete o[i]};function hu(){return{app:null,config:{isNativeTag:hf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nd=0;function Fd(e,t){return function(a,o=null){ce(a)||(a=Object.assign({},a)),o!=null&&!Ne(o)&&(o=null);const l=hu(),c=new Set;let i=!1;const u=l.app={_uid:Nd++,_component:a,_props:o,_container:null,_context:l,_instance:null,version:sh,get config(){return l.config},set config(p){},use(p,...f){return c.has(p)||(p&&ce(p.install)?(c.add(p),p.install(u,...f)):ce(p)&&(c.add(p),p(u,...f))),u},mixin(p){return l.mixins.includes(p)||l.mixins.push(p),u},component(p,f){return f?(l.components[p]=f,u):l.components[p]},directive(p,f){return f?(l.directives[p]=f,u):l.directives[p]},mount(p,f,d){if(!i){const h=N(a,o);return h.appContext=l,f&&t?t(h,p):e(h,p,d),i=!0,u._container=p,p.__vue_app__=u,Ja(h.component)||h.component.proxy}},unmount(){i&&(e(null,u._container),delete u._container.__vue_app__)},provide(p,f){return l.provides[p]=f,u}};return u}}function Fo(e,t,s,a,o=!1){if(se(e)){e.forEach((h,m)=>Fo(h,t&&(se(t)?t[m]:t),s,a,o));return}if(Qt(a)&&!o)return;const l=a.shapeFlag&4?Ja(a.component)||a.component.proxy:a.el,c=o?null:l,{i,r:u}=e,p=t&&t.r,f=i.refs===Re?i.refs={}:i.refs,d=i.setupState;if(p!=null&&p!==u&&(We(p)?(f[p]=null,_e(d,p)&&(d[p]=null)):Ee(p)&&(p.value=null)),ce(u))rt(u,i,12,[c,f]);else{const h=We(u),m=Ee(u);if(h||m){const k=()=>{if(e.f){const y=h?f[u]:u.value;o?se(y)&&vr(y,l):se(y)?y.includes(l)||y.push(l):h?(f[u]=[l],_e(d,u)&&(d[u]=f[u])):(u.value=[l],e.k&&(f[e.k]=u.value))}else h?(f[u]=c,_e(d,u)&&(d[u]=c)):m&&(u.value=c,e.k&&(f[e.k]=c))};c?(k.id=-1,Ye(k,s)):k()}}}const Ye=dd;function Hd(e){return Dd(e)}function Dd(e,t){const s=yf();s.__VUE__=!0;const{insert:a,remove:o,patchProp:l,createElement:c,createText:i,createComment:u,setText:p,setElementText:f,parentNode:d,nextSibling:h,setScopeId:m=An,cloneNode:k,insertStaticContent:y}=e,v=(g,_,x,T=null,A=null,j=null,z=!1,I=null,H=!!_.dynamicChildren)=>{if(g===_)return;g&&!hs(g,_)&&(T=G(g),ln(g,A,j,!0),g=null),_.patchFlag===-2&&(H=!1,_.dynamicChildren=null);const{type:R,ref:Q,shapeFlag:J}=_;switch(R){case Hr:E(g,_,x,T);break;case pt:S(g,_,x,T);break;case oo:g==null&&b(_,x,T,z);break;case Me:Ve(g,_,x,T,A,j,z,I,H);break;default:J&1?P(g,_,x,T,A,j,z,I,H):J&6?He(g,_,x,T,A,j,z,I,H):(J&64||J&128)&&R.process(g,_,x,T,A,j,z,I,H,me)}Q!=null&&A&&Fo(Q,g&&g.ref,j,_||g,!_)},E=(g,_,x,T)=>{if(g==null)a(_.el=i(_.children),x,T);else{const A=_.el=g.el;_.children!==g.children&&p(A,_.children)}},S=(g,_,x,T)=>{g==null?a(_.el=u(_.children||""),x,T):_.el=g.el},b=(g,_,x,T)=>{[g.el,g.anchor]=y(g.children,_,x,T,g.el,g.anchor)},C=({el:g,anchor:_},x,T)=>{let A;for(;g&&g!==_;)A=h(g),a(g,x,T),g=A;a(_,x,T)},L=({el:g,anchor:_})=>{let x;for(;g&&g!==_;)x=h(g),o(g),g=x;o(_)},P=(g,_,x,T,A,j,z,I,H)=>{z=z||_.type==="svg",g==null?D(_,x,T,A,j,z,I,H):ge(g,_,A,j,z,I,H)},D=(g,_,x,T,A,j,z,I)=>{let H,R;const{type:Q,props:J,shapeFlag:X,transition:ae,patchFlag:ye,dirs:Ae}=g;if(g.el&&k!==void 0&&ye===-1)H=g.el=k(g.el);else{if(H=g.el=c(g.type,j,J&&J.is,J),X&8?f(H,g.children):X&16&&oe(g.children,H,null,T,A,j&&Q!=="foreignObject",z,I),Ae&&ht(g,null,T,"created"),J){for(const Ie in J)Ie!=="value"&&!da(Ie)&&l(H,Ie,null,J[Ie],j,g.children,T,A,F);"value"in J&&l(H,"value",null,J.value),(R=J.onVnodeBeforeMount)&&wn(R,T,g)}ee(H,g,g.scopeId,z,T)}Ae&&ht(g,null,T,"beforeMount");const Te=(!A||A&&!A.pendingBranch)&&ae&&!ae.persisted;Te&&ae.beforeEnter(H),a(H,_,x),((R=J&&J.onVnodeMounted)||Te||Ae)&&Ye(()=>{R&&wn(R,T,g),Te&&ae.enter(H),Ae&&ht(g,null,T,"mounted")},A)},ee=(g,_,x,T,A)=>{if(x&&m(g,x),T)for(let j=0;j<T.length;j++)m(g,T[j]);if(A){let j=A.subTree;if(_===j){const z=A.vnode;ee(g,z,z.scopeId,z.slotScopeIds,A.parent)}}},oe=(g,_,x,T,A,j,z,I,H=0)=>{for(let R=H;R<g.length;R++){const Q=g[R]=I?tt(g[R]):Fn(g[R]);v(null,Q,_,x,T,A,j,z,I)}},ge=(g,_,x,T,A,j,z)=>{const I=_.el=g.el;let{patchFlag:H,dynamicChildren:R,dirs:Q}=_;H|=g.patchFlag&16;const J=g.props||Re,X=_.props||Re;let ae;x&&mt(x,!1),(ae=X.onVnodeBeforeUpdate)&&wn(ae,x,_,g),Q&&ht(_,g,x,"beforeUpdate"),x&&mt(x,!0);const ye=A&&_.type!=="foreignObject";if(R?ve(g.dynamicChildren,R,I,x,T,ye,j):z||ue(g,_,I,null,x,T,ye,j,!1),H>0){if(H&16)Be(I,_,J,X,x,T,A);else if(H&2&&J.class!==X.class&&l(I,"class",null,X.class,A),H&4&&l(I,"style",J.style,X.style,A),H&8){const Ae=_.dynamicProps;for(let Te=0;Te<Ae.length;Te++){const Ie=Ae[Te],Sn=J[Ie],Ft=X[Ie];(Ft!==Sn||Ie==="value")&&l(I,Ie,Sn,Ft,A,g.children,x,T,F)}}H&1&&g.children!==_.children&&f(I,_.children)}else!z&&R==null&&Be(I,_,J,X,x,T,A);((ae=X.onVnodeUpdated)||Q)&&Ye(()=>{ae&&wn(ae,x,_,g),Q&&ht(_,g,x,"updated")},T)},ve=(g,_,x,T,A,j,z)=>{for(let I=0;I<_.length;I++){const H=g[I],R=_[I],Q=H.el&&(H.type===Me||!hs(H,R)||H.shapeFlag&70)?d(H.el):x;v(H,R,Q,null,T,A,j,z,!0)}},Be=(g,_,x,T,A,j,z)=>{if(x!==T){for(const I in T){if(da(I))continue;const H=T[I],R=x[I];H!==R&&I!=="value"&&l(g,I,R,H,z,_.children,A,j,F)}if(x!==Re)for(const I in x)!da(I)&&!(I in T)&&l(g,I,x[I],null,z,_.children,A,j,F);"value"in T&&l(g,"value",x.value,T.value)}},Ve=(g,_,x,T,A,j,z,I,H)=>{const R=_.el=g?g.el:i(""),Q=_.anchor=g?g.anchor:i("");let{patchFlag:J,dynamicChildren:X,slotScopeIds:ae}=_;ae&&(I=I?I.concat(ae):ae),g==null?(a(R,x,T),a(Q,x,T),oe(_.children,x,Q,A,j,z,I,H)):J>0&&J&64&&X&&g.dynamicChildren?(ve(g.dynamicChildren,X,x,A,j,z,I),(_.key!=null||A&&_===A.subTree)&&Fr(g,_,!0)):ue(g,_,x,Q,A,j,z,I,H)},He=(g,_,x,T,A,j,z,I,H)=>{_.slotScopeIds=I,g==null?_.shapeFlag&512?A.ctx.activate(_,x,T,z,H):Pe(_,x,T,A,j,z,H):je(g,_,H)},Pe=(g,_,x,T,A,j,z)=>{const I=g.component=Jd(g,T,A);if(tu(g)&&(I.ctx.renderer=me),Gd(I),I.asyncDep){if(A&&A.registerDep(I,Z),!g.el){const H=I.subTree=N(pt);S(null,H,_,x)}return}Z(I,g,_,x,A,j,z)},je=(g,_,x)=>{const T=_.component=g.component;if(pd(g,_,x))if(T.asyncDep&&!T.asyncResolved){te(T,_,x);return}else T.next=_,od(T.update),T.update();else _.el=g.el,T.vnode=_},Z=(g,_,x,T,A,j,z)=>{const I=()=>{if(g.isMounted){let{next:Q,bu:J,u:X,parent:ae,vnode:ye}=g,Ae=Q,Te;mt(g,!1),Q?(Q.el=ye.el,te(g,Q,z)):Q=ye,J&&Zt(J),(Te=Q.props&&Q.props.onVnodeBeforeUpdate)&&wn(Te,ae,Q,ye),mt(g,!0);const Ie=to(g),Sn=g.subTree;g.subTree=Ie,v(Sn,Ie,d(Sn.el),G(Sn),g,A,j),Q.el=Ie.el,Ae===null&&fd(g,Ie.el),X&&Ye(X,A),(Te=Q.props&&Q.props.onVnodeUpdated)&&Ye(()=>wn(Te,ae,Q,ye),A)}else{let Q;const{el:J,props:X}=_,{bm:ae,m:ye,parent:Ae}=g,Te=Qt(_);if(mt(g,!1),ae&&Zt(ae),!Te&&(Q=X&&X.onVnodeBeforeMount)&&wn(Q,Ae,_),mt(g,!0),J&&ne){const Ie=()=>{g.subTree=to(g),ne(J,g.subTree,g,A,null)};Te?_.type.__asyncLoader().then(()=>!g.isUnmounted&&Ie()):Ie()}else{const Ie=g.subTree=to(g);v(null,Ie,x,T,g,A,j),_.el=Ie.el}if(ye&&Ye(ye,A),!Te&&(Q=X&&X.onVnodeMounted)){const Ie=_;Ye(()=>wn(Q,Ae,Ie),A)}(_.shapeFlag&256||Ae&&Qt(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&g.a&&Ye(g.a,A),g.isMounted=!0,_=x=T=null}},H=g.effect=new xr(I,()=>Rr(R),g.scope),R=g.update=()=>H.run();R.id=g.uid,mt(g,!0),R()},te=(g,_,x)=>{_.component=g;const T=g.vnode.props;g.vnode=_,g.next=null,Pd(g,_.props,T,x),jd(g,_.children,x),ls(),bl(),cs()},ue=(g,_,x,T,A,j,z,I,H=!1)=>{const R=g&&g.children,Q=g?g.shapeFlag:0,J=_.children,{patchFlag:X,shapeFlag:ae}=_;if(X>0){if(X&128){un(R,J,x,T,A,j,z,I,H);return}else if(X&256){$e(R,J,x,T,A,j,z,I,H);return}}ae&8?(Q&16&&F(R,A,j),J!==R&&f(x,J)):Q&16?ae&16?un(R,J,x,T,A,j,z,I,H):F(R,A,j,!0):(Q&8&&f(x,""),ae&16&&oe(J,x,T,A,j,z,I,H))},$e=(g,_,x,T,A,j,z,I,H)=>{g=g||Kt,_=_||Kt;const R=g.length,Q=_.length,J=Math.min(R,Q);let X;for(X=0;X<J;X++){const ae=_[X]=H?tt(_[X]):Fn(_[X]);v(g[X],ae,x,null,A,j,z,I,H)}R>Q?F(g,A,j,!0,!1,J):oe(_,x,T,A,j,z,I,H,J)},un=(g,_,x,T,A,j,z,I,H)=>{let R=0;const Q=_.length;let J=g.length-1,X=Q-1;for(;R<=J&&R<=X;){const ae=g[R],ye=_[R]=H?tt(_[R]):Fn(_[R]);if(hs(ae,ye))v(ae,ye,x,null,A,j,z,I,H);else break;R++}for(;R<=J&&R<=X;){const ae=g[J],ye=_[X]=H?tt(_[X]):Fn(_[X]);if(hs(ae,ye))v(ae,ye,x,null,A,j,z,I,H);else break;J--,X--}if(R>J){if(R<=X){const ae=X+1,ye=ae<Q?_[ae].el:T;for(;R<=X;)v(null,_[R]=H?tt(_[R]):Fn(_[R]),x,ye,A,j,z,I,H),R++}}else if(R>X)for(;R<=J;)ln(g[R],A,j,!0),R++;else{const ae=R,ye=R,Ae=new Map;for(R=ye;R<=X;R++){const pn=_[R]=H?tt(_[R]):Fn(_[R]);pn.key!=null&&Ae.set(pn.key,R)}let Te,Ie=0;const Sn=X-ye+1;let Ft=!1,pl=0;const ds=new Array(Sn);for(R=0;R<Sn;R++)ds[R]=0;for(R=ae;R<=J;R++){const pn=g[R];if(Ie>=Sn){ln(pn,A,j,!0);continue}let Nn;if(pn.key!=null)Nn=Ae.get(pn.key);else for(Te=ye;Te<=X;Te++)if(ds[Te-ye]===0&&hs(pn,_[Te])){Nn=Te;break}Nn===void 0?ln(pn,A,j,!0):(ds[Nn-ye]=R+1,Nn>=pl?pl=Nn:Ft=!0,v(pn,_[Nn],x,null,A,j,z,I,H),Ie++)}const fl=Ft?Wd(ds):Kt;for(Te=fl.length-1,R=Sn-1;R>=0;R--){const pn=ye+R,Nn=_[pn],dl=pn+1<Q?_[pn+1].el:T;ds[R]===0?v(null,Nn,x,dl,A,j,z,I,H):Ft&&(Te<0||R!==fl[Te]?Ze(Nn,x,dl,2):Te--)}}},Ze=(g,_,x,T,A=null)=>{const{el:j,type:z,transition:I,children:H,shapeFlag:R}=g;if(R&6){Ze(g.component.subTree,_,x,T);return}if(R&128){g.suspense.move(_,x,T);return}if(R&64){z.move(g,_,x,me);return}if(z===Me){a(j,_,x);for(let J=0;J<H.length;J++)Ze(H[J],_,x,T);a(g.anchor,_,x);return}if(z===oo){C(g,_,x);return}if(T!==2&&R&1&&I)if(T===0)I.beforeEnter(j),a(j,_,x),Ye(()=>I.enter(j),A);else{const{leave:J,delayLeave:X,afterLeave:ae}=I,ye=()=>a(j,_,x),Ae=()=>{J(j,()=>{ye(),ae&&ae()})};X?X(j,ye,Ae):Ae()}else a(j,_,x)},ln=(g,_,x,T=!1,A=!1)=>{const{type:j,props:z,ref:I,children:H,dynamicChildren:R,shapeFlag:Q,patchFlag:J,dirs:X}=g;if(I!=null&&Fo(I,null,x,g,!0),Q&256){_.ctx.deactivate(g);return}const ae=Q&1&&X,ye=!Qt(g);let Ae;if(ye&&(Ae=z&&z.onVnodeBeforeUnmount)&&wn(Ae,_,g),Q&6)K(g.component,x,T);else{if(Q&128){g.suspense.unmount(x,T);return}ae&&ht(g,null,_,"beforeUnmount"),Q&64?g.type.remove(g,_,x,A,me,T):R&&(j!==Me||J>0&&J&64)?F(R,_,x,!1,!0):(j===Me&&J&384||!A&&Q&16)&&F(H,_,x),T&&dt(g)}(ye&&(Ae=z&&z.onVnodeUnmounted)||ae)&&Ye(()=>{Ae&&wn(Ae,_,g),ae&&ht(g,null,_,"unmounted")},x)},dt=g=>{const{type:_,el:x,anchor:T,transition:A}=g;if(_===Me){$(x,T);return}if(_===oo){L(g);return}const j=()=>{o(x),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(g.shapeFlag&1&&A&&!A.persisted){const{leave:z,delayLeave:I}=A,H=()=>z(x,j);I?I(g.el,j,H):H()}else j()},$=(g,_)=>{let x;for(;g!==_;)x=h(g),o(g),g=x;o(_)},K=(g,_,x)=>{const{bum:T,scope:A,update:j,subTree:z,um:I}=g;T&&Zt(T),A.stop(),j&&(j.active=!1,ln(z,g,_,x)),I&&Ye(I,_),Ye(()=>{g.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},F=(g,_,x,T=!1,A=!1,j=0)=>{for(let z=j;z<g.length;z++)ln(g[z],_,x,T,A)},G=g=>g.shapeFlag&6?G(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),be=(g,_,x)=>{g==null?_._vnode&&ln(_._vnode,null,null,!0):v(_._vnode||null,g,_,null,null,null,x),bl(),Ji(),_._vnode=g},me={p:v,um:ln,m:Ze,r:dt,mt:Pe,mc:oe,pc:ue,pbc:ve,n:G,o:e};let re,ne;return t&&([re,ne]=t(me)),{render:be,hydrate:re,createApp:Fd(be,re)}}function mt({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Fr(e,t,s=!1){const a=e.children,o=t.children;if(se(a)&&se(o))for(let l=0;l<a.length;l++){const c=a[l];let i=o[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=o[l]=tt(o[l]),i.el=c.el),s||Fr(c,i))}}function Wd(e){const t=e.slice(),s=[0];let a,o,l,c,i;const u=e.length;for(a=0;a<u;a++){const p=e[a];if(p!==0){if(o=s[s.length-1],e[o]<p){t[a]=o,s.push(a);continue}for(l=0,c=s.length-1;l<c;)i=l+c>>1,e[s[i]]<p?l=i+1:c=i;p<e[s[l]]&&(l>0&&(t[a]=s[l-1]),s[l]=a)}}for(l=s.length,c=s[l-1];l-- >0;)s[l]=c,c=t[c];return s}const Bd=e=>e.__isTeleport,Ss=e=>e&&(e.disabled||e.disabled===""),Rl=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ho=(e,t)=>{const s=e&&e.to;return We(s)?t?t(s):null:s},Vd={__isTeleport:!0,process(e,t,s,a,o,l,c,i,u,p){const{mc:f,pc:d,pbc:h,o:{insert:m,querySelector:k,createText:y,createComment:v}}=p,E=Ss(t.props);let{shapeFlag:S,children:b,dynamicChildren:C}=t;if(e==null){const L=t.el=y(""),P=t.anchor=y("");m(L,s,a),m(P,s,a);const D=t.target=Ho(t.props,k),ee=t.targetAnchor=y("");D&&(m(ee,D),c=c||Rl(D));const oe=(ge,ve)=>{S&16&&f(b,ge,ve,o,l,c,i,u)};E?oe(s,P):D&&oe(D,ee)}else{t.el=e.el;const L=t.anchor=e.anchor,P=t.target=e.target,D=t.targetAnchor=e.targetAnchor,ee=Ss(e.props),oe=ee?s:P,ge=ee?L:D;if(c=c||Rl(P),C?(h(e.dynamicChildren,C,oe,o,l,c,i),Fr(e,t,!0)):u||d(e,t,oe,ge,o,l,c,i,!1),E)ee||ca(t,s,L,p,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ve=t.target=Ho(t.props,k);ve&&ca(t,ve,null,p,0)}else ee&&ca(t,P,D,p,1)}},remove(e,t,s,a,{um:o,o:{remove:l}},c){const{shapeFlag:i,children:u,anchor:p,targetAnchor:f,target:d,props:h}=e;if(d&&l(f),(c||!Ss(h))&&(l(p),i&16))for(let m=0;m<u.length;m++){const k=u[m];o(k,t,s,!0,!!k.dynamicChildren)}},move:ca,hydrate:zd};function ca(e,t,s,{o:{insert:a},m:o},l=2){l===0&&a(e.targetAnchor,t,s);const{el:c,anchor:i,shapeFlag:u,children:p,props:f}=e,d=l===2;if(d&&a(c,t,s),(!d||Ss(f))&&u&16)for(let h=0;h<p.length;h++)o(p[h],t,s,2);d&&a(i,t,s)}function zd(e,t,s,a,o,l,{o:{nextSibling:c,parentNode:i,querySelector:u}},p){const f=t.target=Ho(t.props,u);if(f){const d=f._lpa||f.firstChild;if(t.shapeFlag&16)if(Ss(t.props))t.anchor=p(c(e),t,i(e),s,a,o,l),t.targetAnchor=d;else{t.anchor=c(e);let h=d;for(;h;)if(h=c(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,f._lpa=t.targetAnchor&&c(t.targetAnchor);break}p(d,t,f,s,a,o,l)}}return t.anchor&&c(t.anchor)}const Ud=Vd,Me=Symbol(void 0),Hr=Symbol(void 0),pt=Symbol(void 0),oo=Symbol(void 0),Es=[];let Cn=null;function O(e=!1){Es.push(Cn=e?null:[])}function qd(){Es.pop(),Cn=Es[Es.length-1]||null}let Ds=1;function Pl(e){Ds+=e}function mu(e){return e.dynamicChildren=Ds>0?Cn||Kt:null,qd(),Ds>0&&Cn&&Cn.push(e),e}function U(e,t,s,a,o,l){return mu(n(e,t,s,a,o,l,!0))}function q(e,t,s,a,o){return mu(N(e,t,s,a,o,!0))}function ts(e){return e?e.__v_isVNode===!0:!1}function hs(e,t){return e.type===t.type&&e.key===t.key}const Za="__vInternal",ku=({key:e})=>e!=null?e:null,ha=({ref:e,ref_key:t,ref_for:s})=>e!=null?We(e)||Ee(e)||ce(e)?{i:Qe,r:e,k:t,f:!!s}:e:null;function n(e,t=null,s=null,a=0,o=null,l=e===Me?0:1,c=!1,i=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ku(t),ref:t&&ha(t),scopeId:Ua,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:a,dynamicProps:o,dynamicChildren:null,appContext:null};return i?(Dr(u,s),l&128&&e.normalize(u)):s&&(u.shapeFlag|=We(s)?8:16),Ds>0&&!c&&Cn&&(u.patchFlag>0||l&6)&&u.patchFlag!==32&&Cn.push(u),u}const N=Kd;function Kd(e,t=null,s=null,a=0,o=null,l=!1){if((!e||e===Sd)&&(e=pt),ts(e)){const i=It(e,t,!0);return s&&Dr(i,s),Ds>0&&!l&&Cn&&(i.shapeFlag&6?Cn[Cn.indexOf(e)]=i:Cn.push(i)),i.patchFlag|=-2,i}if(eh(e)&&(e=e.__vccOpts),t){t=fe(t);let{class:i,style:u}=t;i&&!We(i)&&(t.class=De(i)),Ne(u)&&(Vi(u)&&!se(u)&&(u=rn({},u)),t.style=en(u))}const c=We(e)?1:Xi(e)?128:Bd(e)?64:Ne(e)?4:ce(e)?2:0;return n(e,t,s,a,o,c,l,!0)}function fe(e){return e?Vi(e)||Za in e?rn({},e):e:null}function It(e,t,s=!1){const{props:a,ref:o,patchFlag:l,children:c}=e,i=t?we(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:i,key:i&&ku(i),ref:t&&t.ref?s&&o?se(o)?o.concat(ha(t)):[o,ha(t)]:ha(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&It(e.ssContent),ssFallback:e.ssFallback&&It(e.ssFallback),el:e.el,anchor:e.anchor}}function r(e=" ",t=0){return N(Hr,null,e,t)}function de(e="",t=!1){return t?(O(),q(pt,null,e)):N(pt,null,e)}function Fn(e){return e==null||typeof e=="boolean"?N(pt):se(e)?N(Me,null,e.slice()):typeof e=="object"?tt(e):N(Hr,null,String(e))}function tt(e){return e.el===null||e.memo?e:It(e)}function Dr(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(se(t))s=16;else if(typeof t=="object")if(a&65){const o=t.default;o&&(o._c&&(o._d=!1),Dr(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!(Za in t)?t._ctx=Qe:o===3&&Qe&&(Qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ce(t)?(t={default:t,_ctx:Qe},s=32):(t=String(t),a&64?(s=16,t=[r(t)]):s=8);e.children=t,e.shapeFlag|=s}function we(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const o in a)if(o==="class")t.class!==a.class&&(t.class=De([t.class,a.class]));else if(o==="style")t.style=en([t.style,a.style]);else if(Na(o)){const l=t[o],c=a[o];c&&l!==c&&!(se(l)&&l.includes(c))&&(t[o]=l?[].concat(l,c):c)}else o!==""&&(t[o]=a[o])}return t}function wn(e,t,s,a=null){Tn(e,t,7,[s,a])}const Yd=hu();let Zd=0;function Jd(e,t,s){const a=e.type,o=(t?t.appContext:e.appContext)||Yd,l={uid:Zd++,vnode:e,type:a,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ai(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uu(a,o),emitsOptions:Qi(a,o),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:a.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=cd.bind(null,l),e.ce&&e.ce(l),l}let Ke=null;const ft=()=>Ke||Qe,ss=e=>{Ke=e,e.scope.on()},$t=()=>{Ke&&Ke.scope.off(),Ke=null};function gu(e){return e.vnode.shapeFlag&4}let Ws=!1;function Gd(e,t=!1){Ws=t;const{props:s,children:a}=e.vnode,o=gu(e);Rd(e,s,o,t),Ld(e,a);const l=o?Qd(e,t):void 0;return Ws=!1,l}function Qd(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Ba(new Proxy(e.ctx,Od));const{setup:a}=s;if(a){const o=e.setupContext=a.length>1?vu(e):null;ss(e),ls();const l=rt(a,e,0,[e.props,o]);if(cs(),$t(),Mi(l)){if(l.then($t,$t),t)return l.then(c=>{Il(e,c,t)}).catch(c=>{Va(c,e,0)});e.asyncDep=l}else Il(e,l,t)}else _u(e,t)}function Il(e,t,s){ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=Ui(t)),_u(e,s)}let Ll;function _u(e,t,s){const a=e.type;if(!e.render){if(!t&&Ll&&!a.render){const o=a.template||jr(e).template;if(o){const{isCustomElement:l,compilerOptions:c}=e.appContext.config,{delimiters:i,compilerOptions:u}=a,p=rn(rn({isCustomElement:l,delimiters:i},c),u);a.render=Ll(o,p)}}e.render=a.render||An}ss(e),ls(),Md(e),cs(),$t()}function Xd(e){return new Proxy(e.attrs,{get(t,s){return yn(e,"get","$attrs"),t[s]}})}function vu(e){const t=a=>{e.exposed=a||{}};let s;return{get attrs(){return s||(s=Xd(e))},slots:e.slots,emit:e.emit,expose:t}}function Ja(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ui(Ba(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Sa)return Sa[s](e)}}))}function Do(e,t=!0){return ce(e)?e.displayName||e.name:e.name||t&&e.__name}function eh(e){return ce(e)&&"__vccOpts"in e}const M=(e,t)=>td(e,t,Ws);function nh(){return th().slots}function th(){const e=ft();return e.setupContext||(e.setupContext=vu(e))}function gn(e,t,s){const a=arguments.length;return a===2?Ne(t)&&!se(t)?ts(t)?N(e,null,[t]):N(e,t):N(e,null,t):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&ts(s)&&(s=[s]),N(e,t,s))}const sh="3.2.39",ah="http://www.w3.org/2000/svg",wt=typeof document<"u"?document:null,jl=wt&&wt.createElement("template"),oh={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const o=t?wt.createElementNS(ah,e):wt.createElement(e,s?{is:s}:void 0);return e==="select"&&a&&a.multiple!=null&&o.setAttribute("multiple",a.multiple),o},createText:e=>wt.createTextNode(e),createComment:e=>wt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,s,a,o,l){const c=s?s.previousSibling:t.lastChild;if(o&&(o===l||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===l||!(o=o.nextSibling)););else{jl.innerHTML=a?`<svg>${e}</svg>`:e;const i=jl.content;if(a){const u=i.firstChild;for(;u.firstChild;)i.appendChild(u.firstChild);i.removeChild(u)}t.insertBefore(i,s)}return[c?c.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function rh(e,t,s){const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function lh(e,t,s){const a=e.style,o=We(s);if(s&&!o){for(const l in s)Wo(a,l,s[l]);if(t&&!We(t))for(const l in t)s[l]==null&&Wo(a,l,"")}else{const l=a.display;o?t!==s&&(a.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=l)}}const Nl=/\s*!important$/;function Wo(e,t,s){if(se(s))s.forEach(a=>Wo(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=ch(e,t);Nl.test(s)?e.setProperty(Lt(a),s.replace(Nl,""),"important"):e[a]=s}}const Fl=["Webkit","Moz","ms"],ro={};function ch(e,t){const s=ro[t];if(s)return s;let a=Vn(t);if(a!=="filter"&&a in e)return ro[t]=a;a=Da(a);for(let o=0;o<Fl.length;o++){const l=Fl[o]+a;if(l in e)return ro[t]=l}return t}const Hl="http://www.w3.org/1999/xlink";function ih(e,t,s,a,o){if(a&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(Hl,t.slice(6,t.length)):e.setAttributeNS(Hl,t,s);else{const l=lf(t);s==null||l&&!Si(s)?e.removeAttribute(t):e.setAttribute(t,l?"":s)}}function uh(e,t,s,a,o,l,c){if(t==="innerHTML"||t==="textContent"){a&&c(a,o,l),e[t]=s==null?"":s;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const u=s==null?"":s;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),s==null&&e.removeAttribute(t);return}let i=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Si(s):s==null&&u==="string"?(s="",i=!0):u==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(t)}const[yu,ph]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const s=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(s&&Number(s[1])<=53)}return[e,t]})();let Bo=0;const fh=Promise.resolve(),dh=()=>{Bo=0},hh=()=>Bo||(fh.then(dh),Bo=yu());function Bt(e,t,s,a){e.addEventListener(t,s,a)}function mh(e,t,s,a){e.removeEventListener(t,s,a)}function kh(e,t,s,a,o=null){const l=e._vei||(e._vei={}),c=l[t];if(a&&c)c.value=a;else{const[i,u]=gh(t);if(a){const p=l[t]=_h(a,o);Bt(e,i,p,u)}else c&&(mh(e,i,c,u),l[t]=void 0)}}const Dl=/(?:Once|Passive|Capture)$/;function gh(e){let t;if(Dl.test(e)){t={};let a;for(;a=e.match(Dl);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Lt(e.slice(2)),t]}function _h(e,t){const s=a=>{const o=a.timeStamp||yu();(ph||o>=s.attached-1)&&Tn(vh(a,s.value),t,5,[a])};return s.value=e,s.attached=hh(),s}function vh(e,t){if(se(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>o=>!o._stopped&&a&&a(o))}else return t}const Wl=/^on[a-z]/,yh=(e,t,s,a,o=!1,l,c,i,u)=>{t==="class"?rh(e,a,o):t==="style"?lh(e,s,a):Na(t)?_r(t)||kh(e,t,s,a,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wh(e,t,a,o))?uh(e,t,a,l,c,i,u):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),ih(e,t,a,o))};function wh(e,t,s,a){return a?!!(t==="innerHTML"||t==="textContent"||t in e&&Wl.test(t)&&ce(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Wl.test(t)&&We(s)?!1:t in e}const Bl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return se(t)?s=>Zt(t,s):t};function bh(e){e.target.composing=!0}function Vl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xh={created(e,{modifiers:{lazy:t,trim:s,number:a}},o){e._assign=Bl(o);const l=a||o.props&&o.props.type==="number";Bt(e,t?"change":"input",c=>{if(c.target.composing)return;let i=e.value;s&&(i=i.trim()),l&&(i=Co(i)),e._assign(i)}),s&&Bt(e,"change",()=>{e.value=e.value.trim()}),t||(Bt(e,"compositionstart",bh),Bt(e,"compositionend",Vl),Bt(e,"change",Vl))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:a,number:o}},l){if(e._assign=Bl(l),e.composing||document.activeElement===e&&e.type!=="range"&&(s||a&&e.value.trim()===t||(o||e.type==="number")&&Co(e.value)===t))return;const c=t==null?"":t;e.value!==c&&(e.value=c)}},Sh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zl=(e,t)=>s=>{if(!("key"in s))return;const a=Lt(s.key);if(t.some(o=>o===a||Sh[o]===a))return e(s)},wu={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ms(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),ms(e,!0),a.enter(e)):a.leave(e,()=>{ms(e,!1)}):ms(e,t))},beforeUnmount(e,{value:t}){ms(e,t)}};function ms(e,t){e.style.display=t?e._vod:"none"}const Eh=rn({patchProp:yh},oh);let Ul;function Oh(){return Ul||(Ul=Hd(Eh))}const Mh=(...e)=>{const t=Oh().createApp(...e),{mount:s}=t;return t.mount=a=>{const o=Ch(a);if(!o)return;const l=t._component;!ce(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.innerHTML="";const c=s(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},t};function Ch(e){return We(e)?document.querySelector(e):e}var $h=Object.defineProperty,ql=Object.getOwnPropertySymbols,Ah=Object.prototype.hasOwnProperty,Th=Object.prototype.propertyIsEnumerable,Kl=(e,t,s)=>t in e?$h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Rh=(e,t)=>{for(var s in t||(t={}))Ah.call(t,s)&&Kl(e,s,t[s]);if(ql)for(var s of ql(t))Th.call(t,s)&&Kl(e,s,t[s]);return e},bu="usehead",Yl="head:count",lo="data-head-attrs",xu="data-meta-body",Ph=(e,t,s)=>{const a=s.createElement(e);for(const o of Object.keys(t))if(o==="body"&&t.body===!0)a.setAttribute(xu,"true");else{let l=t[o];if(o==="key"||l===!1)continue;o==="children"?a.textContent=l:a.setAttribute(o,l)}return a};function Zl(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const s=t.getAttribute("nonce");if(s&&!e.getAttribute("nonce")){const a=t.cloneNode(!0);return a.setAttribute("nonce",""),a.nonce=s,s===e.nonce&&e.isEqualNode(a)}}return e.isEqualNode(t)}var Ih=e=>{const t=["key","id","name","property"];for(const s of t){const a=typeof e.getAttribute=="function"?e.hasAttribute(s)?e.getAttribute(s):void 0:e[s];if(a!==void 0)return{name:s,value:a}}},Lh=()=>{const e=B(bu);if(!e)throw new Error("You may forget to apply app.use(head)");return e},jh=["title","meta","link","base","style","script","noscript","htmlAttrs","bodyAttrs"],Nh=(e,t)=>e==null?"":typeof e=="string"?e.replace("%s",t!=null?t:""):e(w(t)),Fh=e=>{const t=[],s=Object.keys(e);for(const a of s)if(e[a]!=null)switch(a){case"title":t.push({tag:a,props:{children:e[a]}});break;case"titleTemplate":break;case"base":t.push({tag:a,props:Rh({key:"default"},e[a])});break;default:if(jh.includes(a)){const o=e[a];Array.isArray(o)?o.forEach(l=>{t.push({tag:a,props:l})}):o&&t.push({tag:a,props:o})}break}return t},Jl=(e,t)=>{const s=e.getAttribute(lo);if(s)for(const o of s.split(","))o in t||e.removeAttribute(o);const a=[];for(const o in t){const l=t[o];l!=null&&(l===!1?e.removeAttribute(o):e.setAttribute(o,l),a.push(o))}a.length?e.setAttribute(lo,a.join(",")):e.removeAttribute(lo)},Hh=(e=window.document,t,s)=>{var a,o;const l=e.head,c=e.body;let i=l.querySelector(`meta[name="${Yl}"]`),u=c.querySelectorAll(`[${xu}]`);const p=i?Number(i.getAttribute("content")):0,f=[],d=[];if(u)for(let m=0;m<u.length;m++)u[m]&&((a=u[m].tagName)==null?void 0:a.toLowerCase())===t&&d.push(u[m]);if(i)for(let m=0,k=i.previousElementSibling;m<p;m++,k=(k==null?void 0:k.previousElementSibling)||null)((o=k==null?void 0:k.tagName)==null?void 0:o.toLowerCase())===t&&f.push(k);else i=e.createElement("meta"),i.setAttribute("name",Yl),i.setAttribute("content","0"),l.append(i);let h=s.map(m=>{var k;return{element:Ph(m.tag,m.props,e),body:(k=m.props.body)!=null?k:!1}});h=h.filter(m=>{for(let k=0;k<f.length;k++){const y=f[k];if(Zl(y,m.element))return f.splice(k,1),!1}for(let k=0;k<d.length;k++){const y=d[k];if(Zl(y,m.element))return d.splice(k,1),!1}return!0}),d.forEach(m=>{var k;return(k=m.parentNode)==null?void 0:k.removeChild(m)}),f.forEach(m=>{var k;return(k=m.parentNode)==null?void 0:k.removeChild(m)}),h.forEach(m=>{m.body===!0?c.insertAdjacentElement("beforeend",m.element):l.insertBefore(m.element,i)}),i.setAttribute("content",""+(p-f.length+h.filter(m=>!m.body).length))},Dh=e=>{let t=[],s=new Set;e&&t.push(Pn(e));const a={install(o){o.config.globalProperties.$head=a,o.provide(bu,a)},get headTags(){const o=[],l=t.map(c=>w(c).titleTemplate).reverse().find(c=>c!=null);return t.forEach(c=>{Fh(w(c)).forEach(u=>{if(u.tag==="meta"||u.tag==="base"||u.tag==="script"){const p=Ih(u.props);if(p){let f=-1;for(let d=0;d<o.length;d++){const h=o[d],m=h.props[p.name],k=u.props[p.name];if(h.tag===u.tag&&m===k){f=d;break}}f!==-1&&o.splice(f,1)}}l&&u.tag==="title"&&(u.props.children=Nh(l,u.props.children)),o.push(u)})}),o},addHeadObjs(o){t.push(o)},removeHeadObjs(o){t=t.filter(l=>l!==o)},updateDOM(o=window.document){let l,c={},i={};const u={};for(const f of a.headTags){if(f.tag==="title"){l=f.props.children;continue}if(f.tag==="htmlAttrs"){Object.assign(c,f.props);continue}if(f.tag==="bodyAttrs"){Object.assign(i,f.props);continue}u[f.tag]=u[f.tag]||[],u[f.tag].push(f)}l!==void 0&&(o.title=l),Jl(o.documentElement,c),Jl(o.body,i);const p=new Set([...Object.keys(u),...s]);for(const f of p)Hh(o,f,u[f]||[]);s.clear(),Object.keys(u).forEach(f=>s.add(f))}};return a},Wh=typeof window<"u",Bh=e=>{const t=Lh(),s=V(e);t.addHeadObjs(s),Wh&&(Js(()=>{t.updateDOM()}),Ka(()=>{t.removeHeadObjs(s),t.updateDOM()}))};const Os=Symbol("v-click-clicks"),bt=Symbol("v-click-clicks-elements"),Vo=Symbol("v-click-clicks-order-map"),Ms=Symbol("v-click-clicks-disabled"),Su=Symbol("slidev-slide-scale"),Y=Symbol("slidev-slidev-context"),Vh=Symbol("slidev-route"),zh=Symbol("slidev-slide-context"),vt="slidev-vclick-target",co="slidev-vclick-hidden",Uh="slidev-vclick-fade",io="slidev-vclick-hidden-explicitly",ks="slidev-vclick-current",ia="slidev-vclick-prior";function zo(e,t){if(!e)return!1;const s=e.indexOf(t);return s>=0?(e.splice(s,1),!0):!1}function qh(...e){let t,s,a;e.length===1?(t=0,a=1,[s]=e):[t,s,a=1]=e;const o=[];let l=t;for(;l<s;)o.push(l),l+=a||1;return o}function Kh(e){return e!=null}function Yh(e,t){return Object.fromEntries(Object.entries(e).map(([s,a])=>t(s,a)).filter(Kh))}const Et={theme:"default",title:"How to build a Rust Chat Server",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,info:!1,highlighter:"prism",lineNumbers:!1,colorSchema:"auto",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Avenir Next"','"Nunito Sans"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Avenir Next","Nunito Sans","Fira Code"],provider:"google",local:["Avenir Next"],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"windicss"},xe=Et;var bi;const lt=(bi=xe.aspectRatio)!=null?bi:16/9;var xi;const At=(xi=xe.canvasWidth)!=null?xi:980,Eu=Math.round(At/lt),Ou=M(()=>Yh(xe.themeConfig||{},(e,t)=>[`--slidev-theme-${e}`,t]));function xn(e,t,s){Object.defineProperty(e,t,{value:s,writable:!0,enumerable:!1})}const jt=Le({page:0,clicks:0});let Zh=[],Jh=[];xn(jt,"$syncUp",!0);xn(jt,"$syncDown",!0);xn(jt,"$paused",!1);xn(jt,"$onSet",e=>Zh.push(e));xn(jt,"$onPatch",e=>Jh.push(e));xn(jt,"$patch",async()=>!1);function Mu(e,t,s=!1){const a=[];let o=!1,l=!1,c,i;const u=Le(t);function p(m){a.push(m)}function f(m,k){clearTimeout(c),o=!0,u[m]=k,c=setTimeout(()=>o=!1,0)}function d(m){o||(clearTimeout(i),l=!0,Object.entries(m).forEach(([k,y])=>{u[k]=y}),i=setTimeout(()=>l=!1,0))}function h(m){let k;s?s&&window.addEventListener("storage",v=>{v&&v.key===m&&v.newValue&&d(JSON.parse(v.newValue))}):(k=new BroadcastChannel(m),k.addEventListener("message",v=>d(v.data)));function y(){!s&&k&&!l?k.postMessage(Se(u)):s&&!l&&window.localStorage.setItem(m,JSON.stringify(u)),o||a.forEach(v=>v(u))}if(pe(u,y,{deep:!0}),s){const v=window.localStorage.getItem(m);v&&d(JSON.parse(v))}}return{init:h,onPatch:p,patch:f,state:u}}const{init:Gh,onPatch:Qh,patch:Gl,state:uo}=Mu(jt,{page:1,clicks:0}),Nt=Le({});let Xh=[],em=[];xn(Nt,"$syncUp",!0);xn(Nt,"$syncDown",!0);xn(Nt,"$paused",!1);xn(Nt,"$onSet",e=>Xh.push(e));xn(Nt,"$onPatch",e=>em.push(e));xn(Nt,"$patch",async()=>!1);const{init:nm,onPatch:tm,patch:Cu,state:Oa}=Mu(Nt,{},!1),sm="modulepreload",am=function(e){return"/rust-chat-workshop/"+e},Ql={},us=function(t,s,a){return!s||s.length===0?t():Promise.all(s.map(o=>{if(o=am(o),o in Ql)return;Ql[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":sm,l||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),l)return new Promise((u,p)=>{i.addEventListener("load",u),i.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};var Xl;const In=typeof window<"u",om=e=>typeof e<"u",rm=Object.prototype.toString,Ma=e=>typeof e=="function",lm=e=>typeof e=="number",$u=e=>typeof e=="string",Uo=e=>rm.call(e)==="[object Object]",qo=()=>+Date.now(),Tt=()=>{};In&&((Xl=window==null?void 0:window.navigator)==null?void 0:Xl.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function an(e){return typeof e=="function"?e():w(e)}function cm(e,t){function s(...a){e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})}return s}const Au=e=>e();function im(e=Au){const t=V(!0);function s(){t.value=!1}function a(){t.value=!0}return{isActive:t,pause:s,resume:a,eventFilter:(...l)=>{t.value&&e(...l)}}}function um(e){return e}function pm(e,t){var s;if(typeof e=="number")return e+t;const a=((s=e.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:s[0])||"",o=e.slice(a.length),l=parseFloat(a)+t;return Number.isNaN(l)?e:l+o}function fm(e,t){let s,a,o;const l=V(!0),c=()=>{l.value=!0,o()};pe(e,c,{flush:"sync"});const i=Ma(t)?t:t.get,u=Ma(t)?void 0:t.set,p=qi((f,d)=>(a=f,o=d,{get(){return l.value&&(s=i(),l.value=!1),a(),s},set(h){u==null||u(h)}}));return Object.isExtensible(p)&&(p.trigger=c),p}function Gn(e){return Ti()?(Ri(e),!0):!1}function dm(e){if(!Ee(e))return Le(e);const t=new Proxy({},{get(s,a,o){return w(Reflect.get(e.value,a,o))},set(s,a,o){return Ee(e.value[a])&&!Ee(o)?e.value[a].value=o:e.value[a]=o,!0},deleteProperty(s,a){return Reflect.deleteProperty(e.value,a)},has(s,a){return Reflect.has(e.value,a)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Le(t)}function hm(e){return typeof e=="function"?M(e):V(e)}var mm=Object.defineProperty,km=Object.defineProperties,gm=Object.getOwnPropertyDescriptors,ec=Object.getOwnPropertySymbols,_m=Object.prototype.hasOwnProperty,vm=Object.prototype.propertyIsEnumerable,nc=(e,t,s)=>t in e?mm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ym=(e,t)=>{for(var s in t||(t={}))_m.call(t,s)&&nc(e,s,t[s]);if(ec)for(var s of ec(t))vm.call(t,s)&&nc(e,s,t[s]);return e},wm=(e,t)=>km(e,gm(t));function bm(e){if(!Ee(e))return Qf(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const s in e.value)t[s]=qi(()=>({get(){return e.value[s]},set(a){if(Array.isArray(e.value)){const o=[...e.value];o[s]=a,e.value=o}else{const o=wm(ym({},e.value),{[s]:a});Object.setPrototypeOf(o,e.value),e.value=o}}}));return t}function xm(e,t=!0){ft()?ou(e):t?e():Ge(e)}function Tu(e,t=!0){ft()?is(e):t?e():Ge(e)}function Sm(e){ft()&&Ya(e)}function Em(e,t=1e3,s={}){const{immediate:a=!0,immediateCallback:o=!1}=s;let l=null;const c=V(!1);function i(){l&&(clearInterval(l),l=null)}function u(){c.value=!1,i()}function p(){w(t)<=0||(c.value=!0,o&&e(),i(),l=setInterval(e,an(t)))}if(a&&In&&p(),Ee(t)){const f=pe(t,()=>{c.value&&In&&p()});Gn(f)}return Gn(u),{isActive:c,pause:u,resume:p}}function Om(e,t,s={}){const{immediate:a=!0}=s,o=V(!1);let l=null;function c(){l&&(clearTimeout(l),l=null)}function i(){o.value=!1,c()}function u(...p){c(),o.value=!0,l=setTimeout(()=>{o.value=!1,l=null,e(...p)},an(t))}return a&&(o.value=!0,In&&u()),Gn(i),{isPending:o,start:u,stop:i}}function Ru(e=!1,t={}){const{truthyValue:s=!0,falsyValue:a=!1}=t,o=Ee(e),l=V(e);function c(i){if(arguments.length)return l.value=i,l.value;{const u=an(s);return l.value=l.value===u?an(a):u,l.value}}return o?c:[l,c]}var tc=Object.getOwnPropertySymbols,Mm=Object.prototype.hasOwnProperty,Cm=Object.prototype.propertyIsEnumerable,$m=(e,t)=>{var s={};for(var a in e)Mm.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&tc)for(var a of tc(e))t.indexOf(a)<0&&Cm.call(e,a)&&(s[a]=e[a]);return s};function Am(e,t,s={}){const a=s,{eventFilter:o=Au}=a,l=$m(a,["eventFilter"]);return pe(e,cm(o,t),l)}var Tm=Object.defineProperty,Rm=Object.defineProperties,Pm=Object.getOwnPropertyDescriptors,Ca=Object.getOwnPropertySymbols,Pu=Object.prototype.hasOwnProperty,Iu=Object.prototype.propertyIsEnumerable,sc=(e,t,s)=>t in e?Tm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Im=(e,t)=>{for(var s in t||(t={}))Pu.call(t,s)&&sc(e,s,t[s]);if(Ca)for(var s of Ca(t))Iu.call(t,s)&&sc(e,s,t[s]);return e},Lm=(e,t)=>Rm(e,Pm(t)),jm=(e,t)=>{var s={};for(var a in e)Pu.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&Ca)for(var a of Ca(e))t.indexOf(a)<0&&Iu.call(e,a)&&(s[a]=e[a]);return s};function Nm(e,t,s={}){const a=s,{eventFilter:o}=a,l=jm(a,["eventFilter"]),{eventFilter:c,pause:i,resume:u,isActive:p}=im(o);return{stop:Am(e,t,Lm(Im({},l),{eventFilter:c})),pause:i,resume:u,isActive:p}}function $n(e){var t;const s=an(e);return(t=s==null?void 0:s.$el)!=null?t:s}const nn=In?window:void 0,Fm=In?window.document:void 0,Hm=In?window.navigator:void 0;function ie(...e){let t,s,a,o;if($u(e[0])?([s,a,o]=e,t=nn):[t,s,a,o]=e,!t)return Tt;let l=Tt;const c=pe(()=>$n(t),u=>{l(),u&&(u.addEventListener(s,a,o),l=()=>{u.removeEventListener(s,a,o),l=Tt})},{immediate:!0,flush:"post"}),i=()=>{c(),l()};return Gn(i),i}function Dm(e,t,s={}){const{window:a=nn,ignore:o,capture:l=!0,detectIframe:c=!1}=s;if(!a)return;const i=V(!0);let u;const p=h=>{a.clearTimeout(u);const m=$n(e),k=h.composedPath();!m||m===h.target||k.includes(m)||!i.value||o&&o.length>0&&o.some(y=>{const v=$n(y);return v&&(h.target===v||k.includes(v))})||t(h)},f=[ie(a,"click",p,{passive:!0,capture:l}),ie(a,"pointerdown",h=>{const m=$n(e);i.value=!!m&&!h.composedPath().includes(m)},{passive:!0}),ie(a,"pointerup",h=>{if(h.button===0){const m=h.composedPath();h.composedPath=()=>m,u=a.setTimeout(()=>p(h),50)}},{passive:!0}),c&&ie(a,"blur",h=>{var m;const k=$n(e);((m=document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!(k!=null&&k.contains(document.activeElement))&&t(h)})].filter(Boolean);return()=>f.forEach(h=>h())}const Wm=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):e?()=>!0:()=>!1;function Bm(e,t,s={}){const{target:a=nn,eventName:o="keydown",passive:l=!1}=s,c=Wm(e);return ie(a,o,u=>{c(u)&&t(u)},l)}function Vm(e={}){const{window:t=nn}=e,s=fm(()=>null,()=>t==null?void 0:t.document.activeElement);return t&&(ie(t,"blur",s.trigger,!0),ie(t,"focus",s.trigger,!0)),s}function Qs(e,t=!1){const s=V(),a=()=>s.value=Boolean(e());return a(),Tu(a,t),s}function Vt(e,t={}){const{window:s=nn}=t,a=Qs(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let o;const l=V(!1),c=()=>{!a.value||(o||(o=s.matchMedia(e)),l.value=o.matches)};return xm(()=>{c(),o&&("addEventListener"in o?o.addEventListener("change",c):o.addListener(c),Gn(()=>{"removeEventListener"in o?o.removeEventListener("change",c):o.removeListener(c)}))}),l}const zm={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var Um=Object.defineProperty,ac=Object.getOwnPropertySymbols,qm=Object.prototype.hasOwnProperty,Km=Object.prototype.propertyIsEnumerable,oc=(e,t,s)=>t in e?Um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ym=(e,t)=>{for(var s in t||(t={}))qm.call(t,s)&&oc(e,s,t[s]);if(ac)for(var s of ac(t))Km.call(t,s)&&oc(e,s,t[s]);return e};function Zm(e,t={}){function s(i,u){let p=e[i];return u!=null&&(p=pm(p,u)),typeof p=="number"&&(p=`${p}px`),p}const{window:a=nn}=t;function o(i){return a?a.matchMedia(i).matches:!1}const l=i=>Vt(`(min-width: ${s(i)})`,t),c=Object.keys(e).reduce((i,u)=>(Object.defineProperty(i,u,{get:()=>l(u),enumerable:!0,configurable:!0}),i),{});return Ym({greater(i){return Vt(`(min-width: ${s(i,.1)})`,t)},greaterOrEqual:l,smaller(i){return Vt(`(max-width: ${s(i,-.1)})`,t)},smallerOrEqual(i){return Vt(`(max-width: ${s(i)})`,t)},between(i,u){return Vt(`(min-width: ${s(i)}) and (max-width: ${s(u,-.1)})`,t)},isGreater(i){return o(`(min-width: ${s(i,.1)})`)},isGreaterOrEqual(i){return o(`(min-width: ${s(i)})`)},isSmaller(i){return o(`(max-width: ${s(i,-.1)})`)},isSmallerOrEqual(i){return o(`(max-width: ${s(i)})`)},isInBetween(i,u){return o(`(min-width: ${s(i)}) and (max-width: ${s(u,-.1)})`)}},c)}function Jm(e={}){const{navigator:t=Hm,read:s=!1,source:a,copiedDuring:o=1500}=e,l=["copy","cut"],c=Qs(()=>t&&"clipboard"in t),i=V(""),u=V(!1),p=Om(()=>u.value=!1,o);function f(){t.clipboard.readText().then(h=>{i.value=h})}if(c.value&&s)for(const h of l)ie(h,f);async function d(h=an(a)){c.value&&h!=null&&(await t.clipboard.writeText(h),i.value=h,u.value=!0,p.start())}return{isSupported:c,text:i,copied:u,copy:d}}function Gm(e){return JSON.parse(JSON.stringify(e))}const Ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yo="__vueuse_ssr_handlers__";Ko[Yo]=Ko[Yo]||{};const Qm=Ko[Yo];function Xm(e,t){return Qm[e]||t}function ek(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}var nk=Object.defineProperty,rc=Object.getOwnPropertySymbols,tk=Object.prototype.hasOwnProperty,sk=Object.prototype.propertyIsEnumerable,lc=(e,t,s)=>t in e?nk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,cc=(e,t)=>{for(var s in t||(t={}))tk.call(t,s)&&lc(e,s,t[s]);if(rc)for(var s of rc(t))sk.call(t,s)&&lc(e,s,t[s]);return e};const ak={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function jn(e,t,s,a={}){var o;const{flush:l="pre",deep:c=!0,listenToStorageChanges:i=!0,writeDefaults:u=!0,mergeDefaults:p=!1,shallow:f,window:d=nn,eventFilter:h,onError:m=D=>{console.error(D)}}=a,k=(f?Pn:V)(t);if(!s)try{s=Xm("getDefaultStorage",()=>{var D;return(D=nn)==null?void 0:D.localStorage})()}catch(D){m(D)}if(!s)return k;const y=an(t),v=ek(y),E=(o=a.serializer)!=null?o:ak[v],{pause:S,resume:b}=Nm(k,()=>C(k.value),{flush:l,deep:c,eventFilter:h});return d&&i&&ie(d,"storage",P),P(),k;function C(D){try{D==null?s.removeItem(e):s.setItem(e,E.write(D))}catch(ee){m(ee)}}function L(D){if(!(D&&D.key!==e)){S();try{const ee=D?D.newValue:s.getItem(e);if(ee==null)return u&&y!==null&&s.setItem(e,E.write(y)),y;if(!D&&p){const oe=E.read(ee);return Ma(p)?p(oe,y):v==="object"&&!Array.isArray(oe)?cc(cc({},y),oe):oe}else return typeof ee!="string"?ee:E.read(ee)}catch(ee){m(ee)}finally{b()}}}function P(D){D&&D.key!==e||(k.value=L(D))}}function ok(e){return Vt("(prefers-color-scheme: dark)",e)}var rk=Object.defineProperty,lk=Object.defineProperties,ck=Object.getOwnPropertyDescriptors,ic=Object.getOwnPropertySymbols,ik=Object.prototype.hasOwnProperty,uk=Object.prototype.propertyIsEnumerable,uc=(e,t,s)=>t in e?rk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,pk=(e,t)=>{for(var s in t||(t={}))ik.call(t,s)&&uc(e,s,t[s]);if(ic)for(var s of ic(t))uk.call(t,s)&&uc(e,s,t[s]);return e},fk=(e,t)=>lk(e,ck(t));function gO(e,t={}){var s,a,o;const l=(s=t.draggingElement)!=null?s:nn,c=(a=t.handle)!=null?a:e,i=V((o=an(t.initialValue))!=null?o:{x:0,y:0}),u=V(),p=k=>t.pointerTypes?t.pointerTypes.includes(k.pointerType):!0,f=k=>{an(t.preventDefault)&&k.preventDefault(),an(t.stopPropagation)&&k.stopPropagation()},d=k=>{var y;if(!p(k)||an(t.exact)&&k.target!==an(e))return;const v=an(e).getBoundingClientRect(),E={x:k.pageX-v.left,y:k.pageY-v.top};((y=t.onStart)==null?void 0:y.call(t,E,k))!==!1&&(u.value=E,f(k))},h=k=>{var y;!p(k)||!u.value||(i.value={x:k.pageX-u.value.x,y:k.pageY-u.value.y},(y=t.onMove)==null||y.call(t,i.value,k),f(k))},m=k=>{var y;!p(k)||!u.value||(u.value=void 0,(y=t.onEnd)==null||y.call(t,i.value,k),f(k))};return In&&(ie(c,"pointerdown",d,!0),ie(l,"pointermove",h,!0),ie(l,"pointerup",m,!0)),fk(pk({},bm(i)),{position:i,isDragging:M(()=>!!u.value),style:M(()=>`left:${i.value.x}px;top:${i.value.y}px;`)})}var pc=Object.getOwnPropertySymbols,dk=Object.prototype.hasOwnProperty,hk=Object.prototype.propertyIsEnumerable,mk=(e,t)=>{var s={};for(var a in e)dk.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&pc)for(var a of pc(e))t.indexOf(a)<0&&hk.call(e,a)&&(s[a]=e[a]);return s};function kk(e,t,s={}){const a=s,{window:o=nn}=a,l=mk(a,["window"]);let c;const i=Qs(()=>o&&"ResizeObserver"in o),u=()=>{c&&(c.disconnect(),c=void 0)},p=pe(()=>$n(e),d=>{u(),i.value&&o&&d&&(c=new ResizeObserver(t),c.observe(d,l))},{immediate:!0,flush:"post"}),f=()=>{u(),p()};return Gn(f),{isSupported:i,stop:f}}function gk(e,t={}){const{immediate:s=!0,window:a=nn}=t,o=V(!1);let l=null;function c(){!o.value||!a||(e(),l=a.requestAnimationFrame(c))}function i(){!o.value&&a&&(o.value=!0,c())}function u(){o.value=!1,l!=null&&a&&(a.cancelAnimationFrame(l),l=null)}return s&&i(),Gn(u),{isActive:o,pause:u,resume:i}}function _k(e,t={width:0,height:0},s={}){const{box:a="content-box"}=s,o=V(t.width),l=V(t.height);return kk(e,([c])=>{const i=a==="border-box"?c.borderBoxSize:a==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;i?(o.value=i.reduce((u,{inlineSize:p})=>u+p,0),l.value=i.reduce((u,{blockSize:p})=>u+p,0)):(o.value=c.contentRect.width,l.value=c.contentRect.height)},s),pe(()=>$n(e),c=>{o.value=c?t.width:0,l.value=c?t.height:0}),{width:o,height:l}}const fc=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function vk(e,t={}){const{document:s=Fm,autoExit:a=!1}=t,o=e||(s==null?void 0:s.querySelector("html")),l=V(!1);let c=fc[0];const i=Qs(()=>{if(s){for(const y of fc)if(y[1]in s)return c=y,!0}else return!1;return!1}),[u,p,f,,d]=c;async function h(){!i.value||(s!=null&&s[f]&&await s[p](),l.value=!1)}async function m(){if(!i.value)return;await h();const y=$n(o);y&&(await y[u](),l.value=!0)}async function k(){l.value?await h():await m()}return s&&ie(s,d,()=>{l.value=!!(s!=null&&s[f])},!1),a&&Gn(h),{isSupported:i,isFullscreen:l,enter:m,exit:h,toggle:k}}function yk(e,t,s={}){const{root:a,rootMargin:o="0px",threshold:l=.1,window:c=nn}=s,i=Qs(()=>c&&"IntersectionObserver"in c);let u=Tt;const p=i.value?pe(()=>({el:$n(e),root:$n(a)}),({el:d,root:h})=>{if(u(),!d)return;const m=new IntersectionObserver(t,{root:h,rootMargin:o,threshold:l});m.observe(d),u=()=>{m.disconnect(),u=Tt}},{immediate:!0,flush:"post"}):Tt,f=()=>{u(),p()};return Gn(f),{isSupported:i,stop:f}}const wk={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function bk(e={}){const{reactive:t=!1,target:s=nn,aliasMap:a=wk,passive:o=!0,onEventFired:l=Tt}=e,c=Le(new Set),i={toJSON(){return{}},current:c},u=t?Le(i):i,p=new Set,f=new Set;function d(y,v){y in u&&(t?u[y]=v:u[y].value=v)}function h(){for(const y of f)d(y,!1)}function m(y,v){var E,S;const b=(E=y.key)==null?void 0:E.toLowerCase(),L=[(S=y.code)==null?void 0:S.toLowerCase(),b].filter(Boolean);b&&(v?c.add(b):c.delete(b));for(const P of L)f.add(P),d(P,v);b==="meta"&&!v?(p.forEach(P=>{c.delete(P),d(P,!1)}),p.clear()):typeof y.getModifierState=="function"&&y.getModifierState("Meta")&&v&&[...c,...L].forEach(P=>p.add(P))}ie(s,"keydown",y=>(m(y,!0),l(y)),{passive:o}),ie(s,"keyup",y=>(m(y,!1),l(y)),{passive:o}),ie("blur",h,{passive:!0}),ie("focus",h,{passive:!0});const k=new Proxy(u,{get(y,v,E){if(typeof v!="string")return Reflect.get(y,v,E);if(v=v.toLowerCase(),v in a&&(v=a[v]),!(v in u))if(/[+_-]/.test(v)){const b=v.split(/[+_-]/g).map(C=>C.trim());u[v]=M(()=>b.every(C=>w(k[C])))}else u[v]=V(!1);const S=Reflect.get(y,v,E);return t?w(S):S}});return k}function _O(e={}){const{type:t="page",touch:s=!0,resetOnTouchEnds:a=!1,initialValue:o={x:0,y:0},window:l=nn,eventFilter:c}=e,i=V(o.x),u=V(o.y),p=V(null),f=y=>{t==="page"?(i.value=y.pageX,u.value=y.pageY):t==="client"&&(i.value=y.clientX,u.value=y.clientY),p.value="mouse"},d=()=>{i.value=o.x,u.value=o.y},h=y=>{if(y.touches.length>0){const v=y.touches[0];t==="page"?(i.value=v.pageX,u.value=v.pageY):t==="client"&&(i.value=v.clientX,u.value=v.clientY),p.value="touch"}},m=y=>c===void 0?f(y):c(()=>f(y),{}),k=y=>c===void 0?h(y):c(()=>h(y),{});return l&&(ie(l,"mousemove",m,{passive:!0}),ie(l,"dragover",m,{passive:!0}),s&&(ie(l,"touchstart",k,{passive:!0}),ie(l,"touchmove",k,{passive:!0}),a&&ie(l,"touchend",d,{passive:!0}))),{x:i,y:u,sourceType:p}}var Yn;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Yn||(Yn={}));function xk(e,t={}){const s=hm(e),{threshold:a=50,onSwipe:o,onSwipeEnd:l,onSwipeStart:c}=t,i=Le({x:0,y:0}),u=(P,D)=>{i.x=P,i.y=D},p=Le({x:0,y:0}),f=(P,D)=>{p.x=P,p.y=D},d=M(()=>i.x-p.x),h=M(()=>i.y-p.y),{max:m,abs:k}=Math,y=M(()=>m(k(d.value),k(h.value))>=a),v=V(!1),E=V(!1),S=M(()=>y.value?k(d.value)>k(h.value)?d.value>0?Yn.LEFT:Yn.RIGHT:h.value>0?Yn.UP:Yn.DOWN:Yn.NONE),b=P=>t.pointerTypes?t.pointerTypes.includes(P.pointerType):!0,C=[ie(e,"pointerdown",P=>{var D,ee;if(!b(P))return;E.value=!0,(ee=(D=s.value)==null?void 0:D.style)==null||ee.setProperty("touch-action","none");const oe=P.target;oe==null||oe.setPointerCapture(P.pointerId);const{clientX:ge,clientY:ve}=P;u(ge,ve),f(ge,ve),c==null||c(P)}),ie(e,"pointermove",P=>{if(!b(P)||!E.value)return;const{clientX:D,clientY:ee}=P;f(D,ee),!v.value&&y.value&&(v.value=!0),v.value&&(o==null||o(P))}),ie(e,"pointerup",P=>{var D,ee;!b(P)||(v.value&&(l==null||l(P,S.value)),E.value=!1,v.value=!1,(ee=(D=s.value)==null?void 0:D.style)==null||ee.setProperty("touch-action","initial"))})],L=()=>C.forEach(P=>P());return{isSwiping:Ut(v),direction:Ut(S),posStart:Ut(i),posEnd:Ut(p),distanceX:d,distanceY:h,stop:L}}var Sk=Object.defineProperty,dc=Object.getOwnPropertySymbols,Ek=Object.prototype.hasOwnProperty,Ok=Object.prototype.propertyIsEnumerable,hc=(e,t,s)=>t in e?Sk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Mk=(e,t)=>{for(var s in t||(t={}))Ek.call(t,s)&&hc(e,s,t[s]);if(dc)for(var s of dc(t))Ok.call(t,s)&&hc(e,s,t[s]);return e};function vO(e={}){const{controls:t=!1,offset:s=0,immediate:a=!0,interval:o="requestAnimationFrame"}=e,l=V(qo()+s),c=()=>l.value=qo()+s,i=o==="requestAnimationFrame"?gk(c,{immediate:a}):Em(c,o,{immediate:a});return t?Mk({timestamp:l},i):l}var Ck=Object.defineProperty,mc=Object.getOwnPropertySymbols,$k=Object.prototype.hasOwnProperty,Ak=Object.prototype.propertyIsEnumerable,kc=(e,t,s)=>t in e?Ck(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Tk=(e,t)=>{for(var s in t||(t={}))$k.call(t,s)&&kc(e,s,t[s]);if(mc)for(var s of mc(t))Ak.call(t,s)&&kc(e,s,t[s]);return e};const Rk={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Tk({linear:um},Rk);function Wn(e,t,s,a={}){var o,l,c;const{clone:i=!1,passive:u=!1,eventName:p,deep:f=!1,defaultValue:d}=a,h=ft(),m=s||(h==null?void 0:h.emit)||((o=h==null?void 0:h.$emit)==null?void 0:o.bind(h))||((c=(l=h==null?void 0:h.proxy)==null?void 0:l.$emit)==null?void 0:c.bind(h==null?void 0:h.proxy));let k=p;t||(t="modelValue"),k=p||k||`update:${t.toString()}`;const y=E=>i?Ma(i)?i(E):Gm(E):E,v=()=>om(e[t])?y(e[t]):d;if(u){const E=v(),S=V(E);return pe(()=>e[t],b=>S.value=y(b)),pe(S,b=>{(b!==e[t]||f)&&m(k,b)},{deep:f}),S}else return M({get(){return v()},set(E){m(k,E)}})}function yO({window:e=nn}={}){if(!e)return V(!1);const t=V(e.document.hasFocus());return ie(e,"blur",()=>{t.value=!1}),ie(e,"focus",()=>{t.value=!0}),t}function Pk(e={}){const{window:t=nn,initialWidth:s=1/0,initialHeight:a=1/0,listenOrientation:o=!0,includeScrollbar:l=!0}=e,c=V(s),i=V(a),u=()=>{t&&(l?(c.value=t.innerWidth,i.value=t.innerHeight):(c.value=t.document.documentElement.clientWidth,i.value=t.document.documentElement.clientHeight))};return u(),Tu(u),ie("resize",u,{passive:!0}),o&&ie("orientationchange",u,{passive:!0}),{width:c,height:i}}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const zt=typeof window<"u";function Ik(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Oe=Object.assign;function po(e,t){const s={};for(const a in t){const o=t[a];s[a]=Ln(o)?o.map(e):e(o)}return s}const Cs=()=>{},Ln=Array.isArray,Lk=/\/$/,jk=e=>e.replace(Lk,"");function fo(e,t,s="/"){let a,o={},l="",c="";const i=t.indexOf("#");let u=t.indexOf("?");return i<u&&i>=0&&(u=-1),u>-1&&(a=t.slice(0,u),l=t.slice(u+1,i>-1?i:t.length),o=e(l)),i>-1&&(a=a||t.slice(0,i),c=t.slice(i,t.length)),a=Dk(a!=null?a:t,s),{fullPath:a+(l&&"?")+l+c,path:a,query:o,hash:c}}function Nk(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function gc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Fk(e,t,s){const a=t.matched.length-1,o=s.matched.length-1;return a>-1&&a===o&&as(t.matched[a],s.matched[o])&&Lu(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function as(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Lu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Hk(e[s],t[s]))return!1;return!0}function Hk(e,t){return Ln(e)?_c(e,t):Ln(t)?_c(t,e):e===t}function _c(e,t){return Ln(t)?e.length===t.length&&e.every((s,a)=>s===t[a]):e.length===1&&e[0]===t}function Dk(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),a=e.split("/");let o=s.length-1,l,c;for(l=0;l<a.length;l++)if(c=a[l],c!==".")if(c==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+a.slice(l-(l===a.length?1:0)).join("/")}var Bs;(function(e){e.pop="pop",e.push="push"})(Bs||(Bs={}));var $s;(function(e){e.back="back",e.forward="forward",e.unknown=""})($s||($s={}));function Wk(e){if(!e)if(zt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),jk(e)}const Bk=/^[^#]+#/;function Vk(e,t){return e.replace(Bk,"#")+t}function zk(e,t){const s=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-s.left-(t.left||0),top:a.top-s.top-(t.top||0)}}const Ga=()=>({left:window.pageXOffset,top:window.pageYOffset});function Uk(e){let t;if("el"in e){const s=e.el,a=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=zk(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function vc(e,t){return(history.state?history.state.position-t:-1)+e}const Zo=new Map;function qk(e,t){Zo.set(e,t)}function Kk(e){const t=Zo.get(e);return Zo.delete(e),t}let Yk=()=>location.protocol+"//"+location.host;function ju(e,t){const{pathname:s,search:a,hash:o}=t,l=e.indexOf("#");if(l>-1){let i=o.includes(e.slice(l))?e.slice(l).length:1,u=o.slice(i);return u[0]!=="/"&&(u="/"+u),gc(u,"")}return gc(s,e)+a+o}function Zk(e,t,s,a){let o=[],l=[],c=null;const i=({state:h})=>{const m=ju(e,location),k=s.value,y=t.value;let v=0;if(h){if(s.value=m,t.value=h,c&&c===k){c=null;return}v=y?h.position-y.position:0}else a(m);o.forEach(E=>{E(s.value,k,{delta:v,type:Bs.pop,direction:v?v>0?$s.forward:$s.back:$s.unknown})})};function u(){c=s.value}function p(h){o.push(h);const m=()=>{const k=o.indexOf(h);k>-1&&o.splice(k,1)};return l.push(m),m}function f(){const{history:h}=window;!h.state||h.replaceState(Oe({},h.state,{scroll:Ga()}),"")}function d(){for(const h of l)h();l=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",f),{pauseListeners:u,listen:p,destroy:d}}function yc(e,t,s,a=!1,o=!1){return{back:e,current:t,forward:s,replaced:a,position:window.history.length,scroll:o?Ga():null}}function Jk(e){const{history:t,location:s}=window,a={value:ju(e,s)},o={value:t.state};o.value||l(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(u,p,f){const d=e.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+u:Yk()+e+u;try{t[f?"replaceState":"pushState"](p,"",h),o.value=p}catch(m){console.error(m),s[f?"replace":"assign"](h)}}function c(u,p){const f=Oe({},t.state,yc(o.value.back,u,o.value.forward,!0),p,{position:o.value.position});l(u,f,!0),a.value=u}function i(u,p){const f=Oe({},o.value,t.state,{forward:u,scroll:Ga()});l(f.current,f,!0);const d=Oe({},yc(a.value,u,null),{position:f.position+1},p);l(u,d,!1),a.value=u}return{location:a,state:o,push:i,replace:c}}function Gk(e){e=Wk(e);const t=Jk(e),s=Zk(e,t.state,t.location,t.replace);function a(l,c=!0){c||s.pauseListeners(),history.go(l)}const o=Oe({location:"",base:e,go:a,createHref:Vk.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Qk(e){return typeof e=="string"||e&&typeof e=="object"}function Nu(e){return typeof e=="string"||typeof e=="symbol"}const nt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Fu=Symbol("");var wc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(wc||(wc={}));function os(e,t){return Oe(new Error,{type:e,[Fu]:!0},t)}function zn(e,t){return e instanceof Error&&Fu in e&&(t==null||!!(e.type&t))}const bc="[^/]+?",Xk={sensitive:!1,strict:!1,start:!0,end:!0},eg=/[.+*?^${}()[\]/\\]/g;function ng(e,t){const s=Oe({},Xk,t),a=[];let o=s.start?"^":"";const l=[];for(const p of e){const f=p.length?[]:[90];s.strict&&!p.length&&(o+="/");for(let d=0;d<p.length;d++){const h=p[d];let m=40+(s.sensitive?.25:0);if(h.type===0)d||(o+="/"),o+=h.value.replace(eg,"\\$&"),m+=40;else if(h.type===1){const{value:k,repeatable:y,optional:v,regexp:E}=h;l.push({name:k,repeatable:y,optional:v});const S=E||bc;if(S!==bc){m+=10;try{new RegExp(`(${S})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${k}" (${S}): `+C.message)}}let b=y?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;d||(b=v&&p.length<2?`(?:/${b})`:"/"+b),v&&(b+="?"),o+=b,m+=20,v&&(m+=-8),y&&(m+=-20),S===".*"&&(m+=-50)}f.push(m)}a.push(f)}if(s.strict&&s.end){const p=a.length-1;a[p][a[p].length-1]+=.7000000000000001}s.strict||(o+="/?"),s.end?o+="$":s.strict&&(o+="(?:/|$)");const c=new RegExp(o,s.sensitive?"":"i");function i(p){const f=p.match(c),d={};if(!f)return null;for(let h=1;h<f.length;h++){const m=f[h]||"",k=l[h-1];d[k.name]=m&&k.repeatable?m.split("/"):m}return d}function u(p){let f="",d=!1;for(const h of e){(!d||!f.endsWith("/"))&&(f+="/"),d=!1;for(const m of h)if(m.type===0)f+=m.value;else if(m.type===1){const{value:k,repeatable:y,optional:v}=m,E=k in p?p[k]:"";if(Ln(E)&&!y)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const S=Ln(E)?E.join("/"):E;if(!S)if(v)h.length<2&&(f.endsWith("/")?f=f.slice(0,-1):d=!0);else throw new Error(`Missing required param "${k}"`);f+=S}}return f||"/"}return{re:c,score:a,keys:l,parse:i,stringify:u}}function tg(e,t){let s=0;for(;s<e.length&&s<t.length;){const a=t[s]-e[s];if(a)return a;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function sg(e,t){let s=0;const a=e.score,o=t.score;for(;s<a.length&&s<o.length;){const l=tg(a[s],o[s]);if(l)return l;s++}if(Math.abs(o.length-a.length)===1){if(xc(a))return 1;if(xc(o))return-1}return o.length-a.length}function xc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ag={type:0,value:""},og=/[a-zA-Z0-9_]/;function rg(e){if(!e)return[[]];if(e==="/")return[[ag]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${s})/"${p}": ${m}`)}let s=0,a=s;const o=[];let l;function c(){l&&o.push(l),l=[]}let i=0,u,p="",f="";function d(){!p||(s===0?l.push({type:0,value:p}):s===1||s===2||s===3?(l.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:p,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),p="")}function h(){p+=u}for(;i<e.length;){if(u=e[i++],u==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:u==="/"?(p&&d(),c()):u===":"?(d(),s=1):h();break;case 4:h(),s=a;break;case 1:u==="("?s=2:og.test(u)?h():(d(),s=0,u!=="*"&&u!=="?"&&u!=="+"&&i--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:s=3:f+=u;break;case 3:d(),s=0,u!=="*"&&u!=="?"&&u!=="+"&&i--,f="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${p}"`),d(),c(),o}function lg(e,t,s){const a=ng(rg(e.path),s),o=Oe(a,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function cg(e,t){const s=[],a=new Map;t=Oc({strict:!1,end:!0,sensitive:!1},t);function o(f){return a.get(f)}function l(f,d,h){const m=!h,k=ig(f);k.aliasOf=h&&h.record;const y=Oc(t,f),v=[k];if("alias"in f){const b=typeof f.alias=="string"?[f.alias]:f.alias;for(const C of b)v.push(Oe({},k,{components:h?h.record.components:k.components,path:C,aliasOf:h?h.record:k}))}let E,S;for(const b of v){const{path:C}=b;if(d&&C[0]!=="/"){const L=d.record.path,P=L[L.length-1]==="/"?"":"/";b.path=d.record.path+(C&&P+C)}if(E=lg(b,d,y),h?h.alias.push(E):(S=S||E,S!==E&&S.alias.push(E),m&&f.name&&!Ec(E)&&c(f.name)),k.children){const L=k.children;for(let P=0;P<L.length;P++)l(L[P],E,h&&h.children[P])}h=h||E,u(E)}return S?()=>{c(S)}:Cs}function c(f){if(Nu(f)){const d=a.get(f);d&&(a.delete(f),s.splice(s.indexOf(d),1),d.children.forEach(c),d.alias.forEach(c))}else{const d=s.indexOf(f);d>-1&&(s.splice(d,1),f.record.name&&a.delete(f.record.name),f.children.forEach(c),f.alias.forEach(c))}}function i(){return s}function u(f){let d=0;for(;d<s.length&&sg(f,s[d])>=0&&(f.record.path!==s[d].record.path||!Hu(f,s[d]));)d++;s.splice(d,0,f),f.record.name&&!Ec(f)&&a.set(f.record.name,f)}function p(f,d){let h,m={},k,y;if("name"in f&&f.name){if(h=a.get(f.name),!h)throw os(1,{location:f});y=h.record.name,m=Oe(Sc(d.params,h.keys.filter(S=>!S.optional).map(S=>S.name)),f.params&&Sc(f.params,h.keys.map(S=>S.name))),k=h.stringify(m)}else if("path"in f)k=f.path,h=s.find(S=>S.re.test(k)),h&&(m=h.parse(k),y=h.record.name);else{if(h=d.name?a.get(d.name):s.find(S=>S.re.test(d.path)),!h)throw os(1,{location:f,currentLocation:d});y=h.record.name,m=Oe({},d.params,f.params),k=h.stringify(m)}const v=[];let E=h;for(;E;)v.unshift(E.record),E=E.parent;return{name:y,path:k,params:m,matched:v,meta:pg(v)}}return e.forEach(f=>l(f)),{addRoute:l,resolve:p,removeRoute:c,getRoutes:i,getRecordMatcher:o}}function Sc(e,t){const s={};for(const a of t)a in e&&(s[a]=e[a]);return s}function ig(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ug(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ug(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const a in e.components)t[a]=typeof s=="boolean"?s:s[a];return t}function Ec(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function pg(e){return e.reduce((t,s)=>Oe(t,s.meta),{})}function Oc(e,t){const s={};for(const a in e)s[a]=a in t?t[a]:e[a];return s}function Hu(e,t){return t.children.some(s=>s===e||Hu(e,s))}const Du=/#/g,fg=/&/g,dg=/\//g,hg=/=/g,mg=/\?/g,Wu=/\+/g,kg=/%5B/g,gg=/%5D/g,Bu=/%5E/g,_g=/%60/g,Vu=/%7B/g,vg=/%7C/g,zu=/%7D/g,yg=/%20/g;function Wr(e){return encodeURI(""+e).replace(vg,"|").replace(kg,"[").replace(gg,"]")}function wg(e){return Wr(e).replace(Vu,"{").replace(zu,"}").replace(Bu,"^")}function Jo(e){return Wr(e).replace(Wu,"%2B").replace(yg,"+").replace(Du,"%23").replace(fg,"%26").replace(_g,"`").replace(Vu,"{").replace(zu,"}").replace(Bu,"^")}function bg(e){return Jo(e).replace(hg,"%3D")}function xg(e){return Wr(e).replace(Du,"%23").replace(mg,"%3F")}function Sg(e){return e==null?"":xg(e).replace(dg,"%2F")}function $a(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Eg(e){const t={};if(e===""||e==="?")return t;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<a.length;++o){const l=a[o].replace(Wu," "),c=l.indexOf("="),i=$a(c<0?l:l.slice(0,c)),u=c<0?null:$a(l.slice(c+1));if(i in t){let p=t[i];Ln(p)||(p=t[i]=[p]),p.push(u)}else t[i]=u}return t}function Mc(e){let t="";for(let s in e){const a=e[s];if(s=bg(s),a==null){a!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ln(a)?a.map(l=>l&&Jo(l)):[a&&Jo(a)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+s,l!=null&&(t+="="+l))})}return t}function Og(e){const t={};for(const s in e){const a=e[s];a!==void 0&&(t[s]=Ln(a)?a.map(o=>o==null?null:""+o):a==null?a:""+a)}return t}const Mg=Symbol(""),Cc=Symbol(""),Br=Symbol(""),Uu=Symbol(""),Go=Symbol("");function gs(){let e=[];function t(a){return e.push(a),()=>{const o=e.indexOf(a);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e,reset:s}}function st(e,t,s,a,o){const l=a&&(a.enterCallbacks[o]=a.enterCallbacks[o]||[]);return()=>new Promise((c,i)=>{const u=d=>{d===!1?i(os(4,{from:s,to:t})):d instanceof Error?i(d):Qk(d)?i(os(2,{from:t,to:d})):(l&&a.enterCallbacks[o]===l&&typeof d=="function"&&l.push(d),c())},p=e.call(a&&a.instances[o],t,s,u);let f=Promise.resolve(p);e.length<3&&(f=f.then(u)),f.catch(d=>i(d))})}function ho(e,t,s,a){const o=[];for(const l of e)for(const c in l.components){let i=l.components[c];if(!(t!=="beforeRouteEnter"&&!l.instances[c]))if(Cg(i)){const p=(i.__vccOpts||i)[t];p&&o.push(st(p,s,a,l,c))}else{let u=i();o.push(()=>u.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${l.path}"`));const f=Ik(p)?p.default:p;l.components[c]=f;const h=(f.__vccOpts||f)[t];return h&&st(h,s,a,l,c)()}))}}return o}function Cg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function $c(e){const t=B(Br),s=B(Uu),a=M(()=>t.resolve(w(e.to))),o=M(()=>{const{matched:u}=a.value,{length:p}=u,f=u[p-1],d=s.matched;if(!f||!d.length)return-1;const h=d.findIndex(as.bind(null,f));if(h>-1)return h;const m=Ac(u[p-2]);return p>1&&Ac(f)===m&&d[d.length-1].path!==m?d.findIndex(as.bind(null,u[p-2])):h}),l=M(()=>o.value>-1&&Rg(s.params,a.value.params)),c=M(()=>o.value>-1&&o.value===s.matched.length-1&&Lu(s.params,a.value.params));function i(u={}){return Tg(u)?t[w(e.replace)?"replace":"push"](w(e.to)).catch(Cs):Promise.resolve()}return{route:a,href:M(()=>a.value.href),isActive:l,isExactActive:c,navigate:i}}const $g=Ce({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$c,setup(e,{slots:t}){const s=Le($c(e)),{options:a}=B(Br),o=M(()=>({[Tc(e.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[Tc(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&t.default(s);return e.custom?l:gn("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},l)}}}),Ag=$g;function Tg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Rg(e,t){for(const s in t){const a=t[s],o=e[s];if(typeof a=="string"){if(a!==o)return!1}else if(!Ln(o)||o.length!==a.length||a.some((l,c)=>l!==o[c]))return!1}return!0}function Ac(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Tc=(e,t,s)=>e!=null?e:t!=null?t:s,Pg=Ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const a=B(Go),o=M(()=>e.route||a.value),l=B(Cc,0),c=M(()=>{let p=w(l);const{matched:f}=o.value;let d;for(;(d=f[p])&&!d.components;)p++;return p}),i=M(()=>o.value.matched[c.value]);kn(Cc,M(()=>c.value+1)),kn(Mg,i),kn(Go,o);const u=V();return pe(()=>[u.value,i.value,e.name],([p,f,d],[h,m,k])=>{f&&(f.instances[d]=p,m&&m!==f&&p&&p===h&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),p&&f&&(!m||!as(f,m)||!h)&&(f.enterCallbacks[d]||[]).forEach(y=>y(p))},{flush:"post"}),()=>{const p=o.value,f=e.name,d=i.value,h=d&&d.components[f];if(!h)return Rc(s.default,{Component:h,route:p});const m=d.props[f],k=m?m===!0?p.params:typeof m=="function"?m(p):m:null,v=gn(h,Oe({},k,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[f]=null)},ref:u}));return Rc(s.default,{Component:v,route:p})||v}}});function Rc(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Ig=Pg;function Lg(e){const t=cg(e.routes,e),s=e.parseQuery||Eg,a=e.stringifyQuery||Mc,o=e.history,l=gs(),c=gs(),i=gs(),u=Pn(nt);let p=nt;zt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=po.bind(null,$=>""+$),d=po.bind(null,Sg),h=po.bind(null,$a);function m($,K){let F,G;return Nu($)?(F=t.getRecordMatcher($),G=K):G=$,t.addRoute(G,F)}function k($){const K=t.getRecordMatcher($);K&&t.removeRoute(K)}function y(){return t.getRoutes().map($=>$.record)}function v($){return!!t.getRecordMatcher($)}function E($,K){if(K=Oe({},K||u.value),typeof $=="string"){const ne=fo(s,$,K.path),g=t.resolve({path:ne.path},K),_=o.createHref(ne.fullPath);return Oe(ne,g,{params:h(g.params),hash:$a(ne.hash),redirectedFrom:void 0,href:_})}let F;if("path"in $)F=Oe({},$,{path:fo(s,$.path,K.path).path});else{const ne=Oe({},$.params);for(const g in ne)ne[g]==null&&delete ne[g];F=Oe({},$,{params:d($.params)}),K.params=d(K.params)}const G=t.resolve(F,K),be=$.hash||"";G.params=f(h(G.params));const me=Nk(a,Oe({},$,{hash:wg(be),path:G.path})),re=o.createHref(me);return Oe({fullPath:me,hash:be,query:a===Mc?Og($.query):$.query||{}},G,{redirectedFrom:void 0,href:re})}function S($){return typeof $=="string"?fo(s,$,u.value.path):Oe({},$)}function b($,K){if(p!==$)return os(8,{from:K,to:$})}function C($){return D($)}function L($){return C(Oe(S($),{replace:!0}))}function P($){const K=$.matched[$.matched.length-1];if(K&&K.redirect){const{redirect:F}=K;let G=typeof F=="function"?F($):F;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=S(G):{path:G},G.params={}),Oe({query:$.query,hash:$.hash,params:"path"in G?{}:$.params},G)}}function D($,K){const F=p=E($),G=u.value,be=$.state,me=$.force,re=$.replace===!0,ne=P(F);if(ne)return D(Oe(S(ne),{state:typeof ne=="object"?Oe({},be,ne.state):be,force:me,replace:re}),K||F);const g=F;g.redirectedFrom=K;let _;return!me&&Fk(a,G,F)&&(_=os(16,{to:g,from:G}),$e(G,G,!0,!1)),(_?Promise.resolve(_):oe(g,G)).catch(x=>zn(x)?zn(x,2)?x:ue(x):Z(x,g,G)).then(x=>{if(x){if(zn(x,2))return D(Oe({replace:re},S(x.to),{state:typeof x.to=="object"?Oe({},be,x.to.state):be,force:me}),K||g)}else x=ve(g,G,!0,re,be);return ge(g,G,x),x})}function ee($,K){const F=b($,K);return F?Promise.reject(F):Promise.resolve()}function oe($,K){let F;const[G,be,me]=jg($,K);F=ho(G.reverse(),"beforeRouteLeave",$,K);for(const ne of G)ne.leaveGuards.forEach(g=>{F.push(st(g,$,K))});const re=ee.bind(null,$,K);return F.push(re),Ht(F).then(()=>{F=[];for(const ne of l.list())F.push(st(ne,$,K));return F.push(re),Ht(F)}).then(()=>{F=ho(be,"beforeRouteUpdate",$,K);for(const ne of be)ne.updateGuards.forEach(g=>{F.push(st(g,$,K))});return F.push(re),Ht(F)}).then(()=>{F=[];for(const ne of $.matched)if(ne.beforeEnter&&!K.matched.includes(ne))if(Ln(ne.beforeEnter))for(const g of ne.beforeEnter)F.push(st(g,$,K));else F.push(st(ne.beforeEnter,$,K));return F.push(re),Ht(F)}).then(()=>($.matched.forEach(ne=>ne.enterCallbacks={}),F=ho(me,"beforeRouteEnter",$,K),F.push(re),Ht(F))).then(()=>{F=[];for(const ne of c.list())F.push(st(ne,$,K));return F.push(re),Ht(F)}).catch(ne=>zn(ne,8)?ne:Promise.reject(ne))}function ge($,K,F){for(const G of i.list())G($,K,F)}function ve($,K,F,G,be){const me=b($,K);if(me)return me;const re=K===nt,ne=zt?history.state:{};F&&(G||re?o.replace($.fullPath,Oe({scroll:re&&ne&&ne.scroll},be)):o.push($.fullPath,be)),u.value=$,$e($,K,F,re),ue()}let Be;function Ve(){Be||(Be=o.listen(($,K,F)=>{if(!dt.listening)return;const G=E($),be=P(G);if(be){D(Oe(be,{replace:!0}),G).catch(Cs);return}p=G;const me=u.value;zt&&qk(vc(me.fullPath,F.delta),Ga()),oe(G,me).catch(re=>zn(re,12)?re:zn(re,2)?(D(re.to,G).then(ne=>{zn(ne,20)&&!F.delta&&F.type===Bs.pop&&o.go(-1,!1)}).catch(Cs),Promise.reject()):(F.delta&&o.go(-F.delta,!1),Z(re,G,me))).then(re=>{re=re||ve(G,me,!1),re&&(F.delta&&!zn(re,8)?o.go(-F.delta,!1):F.type===Bs.pop&&zn(re,20)&&o.go(-1,!1)),ge(G,me,re)}).catch(Cs)}))}let He=gs(),Pe=gs(),je;function Z($,K,F){ue($);const G=Pe.list();return G.length?G.forEach(be=>be($,K,F)):console.error($),Promise.reject($)}function te(){return je&&u.value!==nt?Promise.resolve():new Promise(($,K)=>{He.add([$,K])})}function ue($){return je||(je=!$,Ve(),He.list().forEach(([K,F])=>$?F($):K()),He.reset()),$}function $e($,K,F,G){const{scrollBehavior:be}=e;if(!zt||!be)return Promise.resolve();const me=!F&&Kk(vc($.fullPath,0))||(G||!F)&&history.state&&history.state.scroll||null;return Ge().then(()=>be($,K,me)).then(re=>re&&Uk(re)).catch(re=>Z(re,$,K))}const un=$=>o.go($);let Ze;const ln=new Set,dt={currentRoute:u,listening:!0,addRoute:m,removeRoute:k,hasRoute:v,getRoutes:y,resolve:E,options:e,push:C,replace:L,go:un,back:()=>un(-1),forward:()=>un(1),beforeEach:l.add,beforeResolve:c.add,afterEach:i.add,onError:Pe.add,isReady:te,install($){const K=this;$.component("RouterLink",Ag),$.component("RouterView",Ig),$.config.globalProperties.$router=K,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>w(u)}),zt&&!Ze&&u.value===nt&&(Ze=!0,C(o.location).catch(be=>{}));const F={};for(const be in nt)F[be]=M(()=>u.value[be]);$.provide(Br,K),$.provide(Uu,Le(F)),$.provide(Go,u);const G=$.unmount;ln.add($),$.unmount=function(){ln.delete($),ln.size<1&&(p=nt,Be&&Be(),Be=null,u.value=nt,Ze=!1,je=!1),G()}}};return dt}function Ht(e){return e.reduce((t,s)=>t.then(()=>s()),Promise.resolve())}function jg(e,t){const s=[],a=[],o=[],l=Math.max(t.matched.length,e.matched.length);for(let c=0;c<l;c++){const i=t.matched[c];i&&(e.matched.find(p=>as(p,i))?a.push(i):s.push(i));const u=e.matched[c];u&&(t.matched.find(p=>as(p,u))||o.push(u))}return[s,a,o]}const mo=V(!1),As=V(!1),qt=V(!1),Ng=V(!0),Qo=Zm({xs:460,...zm}),Rt=Pk(),qu=bk(),Fg=M(()=>Rt.height.value-Rt.width.value/lt>180),Ku=vk(In?document.body:null),Xt=Vm(),Hg=M(()=>{var e,t;return["INPUT","TEXTAREA"].includes(((e=Xt.value)==null?void 0:e.tagName)||"")||((t=Xt.value)==null?void 0:t.classList.contains("CodeMirror-code"))}),Dg=M(()=>{var e;return["BUTTON","A"].includes(((e=Xt.value)==null?void 0:e.tagName)||"")});jn("slidev-camera","default");jn("slidev-mic","default");const ma=jn("slidev-scale",0),sn=jn("slidev-show-overview",!1),ko=jn("slidev-presenter-cursor",!0),Pc=jn("slidev-show-editor",!1);jn("slidev-editor-width",In?window.innerWidth*.4:100);const Yu=Ru(sn);function Ic(e,t,s,a=o=>o){return e*a(.5-t*(.5-s))}function Wg(e){return[-e[0],-e[1]]}function On(e,t){return[e[0]+t[0],e[1]+t[1]]}function bn(e,t){return[e[0]-t[0],e[1]-t[1]]}function En(e,t){return[e[0]*t,e[1]*t]}function Bg(e,t){return[e[0]/t,e[1]/t]}function _s(e){return[e[1],-e[0]]}function Lc(e,t){return e[0]*t[0]+e[1]*t[1]}function Vg(e,t){return e[0]===t[0]&&e[1]===t[1]}function zg(e){return Math.hypot(e[0],e[1])}function Ug(e){return e[0]*e[0]+e[1]*e[1]}function jc(e,t){return Ug(bn(e,t))}function Zu(e){return Bg(e,zg(e))}function qg(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function vs(e,t,s){let a=Math.sin(s),o=Math.cos(s),l=e[0]-t[0],c=e[1]-t[1],i=l*o-c*a,u=l*a+c*o;return[i+t[0],u+t[1]]}function Xo(e,t,s){return On(e,En(bn(t,e),s))}function Nc(e,t,s){return On(e,En(t,s))}var{min:Dt,PI:Kg}=Math,Fc=.275,ys=Kg+1e-4;function Yg(e,t={}){let{size:s=16,smoothing:a=.5,thinning:o=.5,simulatePressure:l=!0,easing:c=Z=>Z,start:i={},end:u={},last:p=!1}=t,{cap:f=!0,easing:d=Z=>Z*(2-Z)}=i,{cap:h=!0,easing:m=Z=>--Z*Z*Z+1}=u;if(e.length===0||s<=0)return[];let k=e[e.length-1].runningLength,y=i.taper===!1?0:i.taper===!0?Math.max(s,k):i.taper,v=u.taper===!1?0:u.taper===!0?Math.max(s,k):u.taper,E=Math.pow(s*a,2),S=[],b=[],C=e.slice(0,10).reduce((Z,te)=>{let ue=te.pressure;if(l){let $e=Dt(1,te.distance/s),un=Dt(1,1-$e);ue=Dt(1,Z+(un-Z)*($e*Fc))}return(Z+ue)/2},e[0].pressure),L=Ic(s,o,e[e.length-1].pressure,c),P,D=e[0].vector,ee=e[0].point,oe=ee,ge=ee,ve=oe,Be=!1;for(let Z=0;Z<e.length;Z++){let{pressure:te}=e[Z],{point:ue,vector:$e,distance:un,runningLength:Ze}=e[Z];if(Z<e.length-1&&k-Ze<3)continue;if(o){if(l){let me=Dt(1,un/s),re=Dt(1,1-me);te=Dt(1,C+(re-C)*(me*Fc))}L=Ic(s,o,te,c)}else L=s/2;P===void 0&&(P=L);let ln=Ze<y?d(Ze/y):1,dt=k-Ze<v?m((k-Ze)/v):1;L=Math.max(.01,L*Math.min(ln,dt));let $=(Z<e.length-1?e[Z+1]:e[Z]).vector,K=Z<e.length-1?Lc($e,$):1,F=Lc($e,D)<0&&!Be,G=K!==null&&K<0;if(F||G){let me=En(_s(D),L);for(let re=1/13,ne=0;ne<=1;ne+=re)ge=vs(bn(ue,me),ue,ys*ne),S.push(ge),ve=vs(On(ue,me),ue,ys*-ne),b.push(ve);ee=ge,oe=ve,G&&(Be=!0);continue}if(Be=!1,Z===e.length-1){let me=En(_s($e),L);S.push(bn(ue,me)),b.push(On(ue,me));continue}let be=En(_s(Xo($,$e,K)),L);ge=bn(ue,be),(Z<=1||jc(ee,ge)>E)&&(S.push(ge),ee=ge),ve=On(ue,be),(Z<=1||jc(oe,ve)>E)&&(b.push(ve),oe=ve),C=te,D=$e}let Ve=e[0].point.slice(0,2),He=e.length>1?e[e.length-1].point.slice(0,2):On(e[0].point,[1,1]),Pe=[],je=[];if(e.length===1){if(!(y||v)||p){let Z=Nc(Ve,Zu(_s(bn(Ve,He))),-(P||L)),te=[];for(let ue=1/13,$e=ue;$e<=1;$e+=ue)te.push(vs(Z,Ve,ys*2*$e));return te}}else{if(!(y||v&&e.length===1))if(f)for(let te=1/13,ue=te;ue<=1;ue+=te){let $e=vs(b[0],Ve,ys*ue);Pe.push($e)}else{let te=bn(S[0],b[0]),ue=En(te,.5),$e=En(te,.51);Pe.push(bn(Ve,ue),bn(Ve,$e),On(Ve,$e),On(Ve,ue))}let Z=_s(Wg(e[e.length-1].vector));if(v||y&&e.length===1)je.push(He);else if(h){let te=Nc(He,Z,L);for(let ue=1/29,$e=ue;$e<1;$e+=ue)je.push(vs(te,He,ys*3*$e))}else je.push(On(He,En(Z,L)),On(He,En(Z,L*.99)),bn(He,En(Z,L*.99)),bn(He,En(Z,L)))}return S.concat(je,b.reverse(),Pe)}function Zg(e,t={}){var s;let{streamline:a=.5,size:o=16,last:l=!1}=t;if(e.length===0)return[];let c=.15+(1-a)*.85,i=Array.isArray(e[0])?e:e.map(({x:m,y:k,pressure:y=.5})=>[m,k,y]);if(i.length===2){let m=i[1];i=i.slice(0,-1);for(let k=1;k<5;k++)i.push(Xo(i[0],m,k/4))}i.length===1&&(i=[...i,[...On(i[0],[1,1]),...i[0].slice(2)]]);let u=[{point:[i[0][0],i[0][1]],pressure:i[0][2]>=0?i[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],p=!1,f=0,d=u[0],h=i.length-1;for(let m=1;m<i.length;m++){let k=l&&m===h?i[m].slice(0,2):Xo(d.point,i[m],c);if(Vg(d.point,k))continue;let y=qg(k,d.point);if(f+=y,m<h&&!p){if(f<o)continue;p=!0}d={point:k,pressure:i[m][2]>=0?i[m][2]:.5,vector:Zu(bn(d.point,k)),distance:y,runningLength:f},u.push(d)}return u[0].vector=((s=u[1])==null?void 0:s.vector)||[0,0],u}function Jg(e,t={}){return Yg(Zg(e,t),t)}var Gg=()=>({events:{},emit(e,...t){let s=this.events[e]||[];for(let a=0,o=s.length;a<o;a++)s[a](...t)},on(e,t){var s;return(s=this.events[e])!=null&&s.push(t)||(this.events[e]=[t]),()=>{var a;this.events[e]=(a=this.events[e])==null?void 0:a.filter(o=>t!==o)}}});function Aa(e,t){return e-t}function Qg(e){return e<0?-1:1}function Ta(e){return[Math.abs(e),Qg(e)]}function Ju(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var Xg=2,Kn=Xg,ps=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var o;var t;const s=this.drauu.el,a=(o=this.drauu.options.coordinateScale)!=null?o:1;if(this.drauu.options.coordinateTransform===!1){const l=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-l.left)*a,y:(e.pageY-l.top)*a,pressure:e.pressure}}else{const l=this.drauu.svgPoint;l.x=e.clientX,l.y=e.clientY;const c=l.matrixTransform((t=s.getScreenCTM())==null?void 0:t.inverse());return{x:c.x*a,y:c.y*a,pressure:e.pressure}}}createElement(e,t){var o;const s=document.createElementNS("http://www.w3.org/2000/svg",e),a=t?{...this.brush,...t}:this.brush;return s.setAttribute("fill",(o=a.fill)!=null?o:"transparent"),s.setAttribute("stroke",a.color),s.setAttribute("stroke-width",a.size.toString()),s.setAttribute("stroke-linecap","round"),a.dasharray&&s.setAttribute("stroke-dasharray",a.dasharray),s}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed(Kn))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},e_=class extends ps{constructor(){super(...arguments),this.points=[]}onStart(e){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[e],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&this.points.push(e),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!!e}getSvgData(e){const t=Jg(e,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!t.length)return"";const s=t.reduce((a,[o,l],c,i)=>{const[u,p]=i[(c+1)%i.length];return a.push(o,l,(o+u)/2,(l+p)/2),a},["M",...t[0],"Q"]);return s.push("Z"),s.map(a=>typeof a=="number"?a.toFixed(2):a).join(" ")}},n_=class extends ps{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=Ta(e.x-this.start.x),[a,o]=Ta(e.y-this.start.y);if(this.shiftPressed){const l=Math.min(t,a);t=l,a=l}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",a);else{const[l,c]=[this.start.x,this.start.x+t*s].sort(Aa),[i,u]=[this.start.y,this.start.y+a*o].sort(Aa);this.attr("cx",(l+c)/2),this.attr("cy",(i+u)/2),this.attr("rx",(c-l)/2),this.attr("ry",(u-i)/2)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function Gu(e,t){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),a=document.createElementNS("http://www.w3.org/2000/svg","marker"),o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("fill",t),a.setAttribute("id",e),a.setAttribute("viewBox","0 -5 10 10"),a.setAttribute("refX","5"),a.setAttribute("refY","0"),a.setAttribute("markerWidth","4"),a.setAttribute("markerHeight","4"),a.setAttribute("orient","auto"),o.setAttribute("d","M0,-5L10,0L0,5"),a.appendChild(o),s.appendChild(a),s}var t_=class extends ps{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=Ju(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Gu(t,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${t})`),s}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:s}=e;if(this.shiftPressed){const a=e.x-this.start.x,o=e.y-this.start.y;if(o!==0){let l=a/o;l=Math.round(l),Math.abs(l)<=1?(t=this.start.x+o*l,s=this.start.y+o):(t=this.start.x+a,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-s),this.attr("x2",t),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",s)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||e.getTotalLength()<5)}},s_=class extends ps{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=Ta(e.x-this.start.x),[a,o]=Ta(e.y-this.start.y);if(this.shiftPressed){const l=Math.min(t,a);t=l,a=l}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-a),this.attr("width",t*2),this.attr("height",a*2);else{const[l,c]=[this.start.x,this.start.x+t*s].sort(Aa),[i,u]=[this.start.y,this.start.y+a*o].sort(Aa);this.attr("x",l),this.attr("y",i),this.attr("width",c-l),this.attr("height",u-i)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function a_(e,t){const s=e.x-t.x,a=e.y-t.y;return s*s+a*a}function o_(e,t,s){let a=t.x,o=t.y,l=s.x-a,c=s.y-o;if(l!==0||c!==0){const i=((e.x-a)*l+(e.y-o)*c)/(l*l+c*c);i>1?(a=s.x,o=s.y):i>0&&(a+=l*i,o+=c*i)}return l=e.x-a,c=e.y-o,l*l+c*c}function r_(e,t){let s=e[0];const a=[s];let o;for(let l=1,c=e.length;l<c;l++)o=e[l],a_(o,s)>t&&(a.push(o),s=o);return s!==o&&o&&a.push(o),a}function er(e,t,s,a,o){let l=a,c=0;for(let i=t+1;i<s;i++){const u=o_(e[i],e[t],e[s]);u>l&&(c=i,l=u)}l>a&&(c-t>1&&er(e,t,c,a,o),o.push(e[c]),s-c>1&&er(e,c,s,a,o))}function l_(e,t){const s=e.length-1,a=[e[0]];return er(e,0,s,t,a),a.push(e[s]),a}function Hc(e,t,s=!1){if(e.length<=2)return e;const a=t!==void 0?t*t:1;return e=s?e:r_(e,a),e=l_(e,a),e}var c_=class extends ps{constructor(){super(...arguments),this.points=[],this.count=0}onStart(e){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[e],this.brush.arrowEnd){this.arrowId=Ju();const t=Gu(this.arrowId,this.brush.color);this.el.appendChild(t)}return this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&(this.points.push(e),this.count+=1),this.count>5&&(this.points=Hc(this.points,1,!0),this.count=0),this.attr("d",Wc(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||(e.setAttribute("d",Wc(Hc(this.points,1,!0))),!e.getTotalLength()))}};function i_(e,t){const s=t.x-e.x,a=t.y-e.y;return{length:Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),angle:Math.atan2(a,s)}}function Dc(e,t,s,a){const o=t||e,l=s||e,c=.2,i=i_(o,l),u=i.angle+(a?Math.PI:0),p=i.length*c,f=e.x+Math.cos(u)*p,d=e.y+Math.sin(u)*p;return{x:f,y:d}}function u_(e,t,s){const a=Dc(s[t-1],s[t-2],e),o=Dc(e,s[t-1],s[t+1],!0);return`C ${a.x.toFixed(Kn)},${a.y.toFixed(Kn)} ${o.x.toFixed(Kn)},${o.y.toFixed(Kn)} ${e.x.toFixed(Kn)},${e.y.toFixed(Kn)}`}function Wc(e){return e.reduce((t,s,a,o)=>a===0?`M ${s.x.toFixed(Kn)},${s.y.toFixed(Kn)}`:`${t} ${u_(s,a,o)}`,"")}var p_=class extends ps{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(e){const t=(s,a)=>{if(s&&s.length)for(let o=0;o<s.length;o++){const l=s[o];if(l.getTotalLength){const c=l.getTotalLength();for(let i=0;i<this.pathSubFactor;i++){const u=l.getPointAtLength(c*i/this.pathSubFactor),p=l.getPointAtLength(c*(i+1)/this.pathSubFactor);this.pathFragments.push({x1:u.x,x2:p.x,y1:u.y,y2:p.y,segment:i,element:a||l})}}else l.children&&t(l.children,l)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const e=[];if(this.pathFragments.length)for(let t=0;t<this.pathFragments.length;t++){const s=this.pathFragments[t],a={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(s,a)&&(s.element.remove(),e.push(t))}return e.length&&(this.pathFragments=this.pathFragments.filter((t,s)=>!e.includes(s))),e.length>0}lineLineIntersect(e,t){const s=e.x1,a=e.x2,o=t.x1,l=t.x2,c=e.y1,i=e.y2,u=t.y1,p=t.y2,f=(s-a)*(u-p)-(c-i)*(o-l),d=(s*i-c*a)*(o-l)-(s-a)*(o*p-u*l),h=(s*i-c*a)*(u-p)-(c-i)*(o*p-u*l),m=(k,y,v)=>k>=y&&k<=v?!0:k>=v&&k<=y;if(f===0)return!1;{const k={x:d/f,y:h/f};return m(k.x,s,a)&&m(k.y,c,i)&&m(k.x,o,l)&&m(k.y,u,p)}}};function f_(e){return{draw:new c_(e),stylus:new e_(e),line:new t_(e),rectangle:new s_(e),ellipse:new n_(e),eraseLine:new p_(e)}}var d_=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=Gg(),this._models=f_(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(t)||this.el,a=this.eventStart.bind(this),o=this.eventMove.bind(this),l=this.eventEnd.bind(this),c=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",a,{passive:!1}),window.addEventListener("pointermove",o,{passive:!1}),window.addEventListener("pointerup",l,{passive:!1}),window.addEventListener("pointercancel",l,{passive:!1}),window.addEventListener("keydown",c,!1),window.addEventListener("keyup",c,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",a),window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",l),window.removeEventListener("pointercancel",l),window.removeEventListener("keydown",c,!1),window.removeEventListener("keyup",c,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){const e=this.el;return e.lastElementChild?(this._undoStack.push(e.lastElementChild.cloneNode(!0)),e.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var e;return!!((e=this.el)!=null&&e.lastElementChild)}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){!this.acceptsInput(e)||(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);t?(t instanceof Element&&t!==this._currentNode&&(this._currentNode=t),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(e){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}};function h_(e){return new d_(e)}const nr=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],Bn=jn("slidev-drawing-enabled",!1),wO=jn("slidev-drawing-pinned",!1),m_=V(!1),k_=V(!1),g_=V(!1),Vs=V(!1),Ot=dm(jn("slidev-drawing-brush",{color:nr[0],size:4,mode:"stylus"})),Bc=V("stylus"),Qu=M(()=>xe.drawings.syncAll||Dn.value);let zs=!1;const ws=M({get(){return Bc.value},set(e){Bc.value=e,e==="arrow"?(Ot.mode="line",Ot.arrowEnd=!0):(Ot.mode=e,Ot.arrowEnd=!1)}}),__=Le({brush:Ot,acceptsInputTypes:M(()=>Bn.value?void 0:["pen"]),coordinateTransform:!1}),on=Ba(h_(__));function v_(){on.clear(),Qu.value&&Cu(qe.value,"")}function Xu(){var e;k_.value=on.canRedo(),m_.value=on.canUndo(),g_.value=!!((e=on.el)!=null&&e.children.length)}function y_(e){zs=!0;const t=Oa[e||qe.value];t!=null?on.load(t):on.clear(),zs=!1}on.on("changed",()=>{if(Xu(),!zs){const e=on.dump(),t=qe.value;(Oa[t]||"")!==e&&Qu.value&&Cu(t,on.dump())}});tm(e=>{zs=!0,e[qe.value]!=null&&on.load(e[qe.value]||""),zs=!1,Xu()});Ge(()=>{pe(qe,()=>{!on.mounted||y_()},{immediate:!0})});on.on("start",()=>Vs.value=!0);on.on("end",()=>Vs.value=!1);window.addEventListener("keydown",e=>{if(!Bn.value)return;const t=!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey;let s=!0;e.code==="KeyZ"&&(e.ctrlKey||e.metaKey)?e.shiftKey?on.redo():on.undo():e.code==="Escape"?Bn.value=!1:e.code==="KeyL"&&t?ws.value="line":e.code==="KeyA"&&t?ws.value="arrow":e.code==="KeyS"&&t?ws.value="stylus":e.code==="KeyR"&&t?ws.value="rectangle":e.code==="KeyE"&&t?ws.value="ellipse":e.code==="KeyC"&&t?v_():e.code.startsWith("Digit")&&t&&+e.code[5]<=nr.length?Ot.color=nr[+e.code[5]-1]:s=!1,s&&(e.preventDefault(),e.stopPropagation())},!1);function ze(...e){return M(()=>e.every(t=>an(t)))}function dn(e){return M(()=>!an(e))}const Vc=ok(),go=jn("slidev-color-schema","auto"),tr=M(()=>xe.colorSchema!=="auto"),Vr=M({get(){return tr.value?xe.colorSchema==="dark":go.value==="auto"?Vc.value:go.value==="dark"},set(e){tr.value||(go.value=e===Vc.value?"auto":e?"dark":"light")}}),ep=Ru(Vr);In&&pe(Vr,e=>{const t=document.querySelector("html");t.classList.toggle("dark",e),t.classList.toggle("light",!e)},{immediate:!0});const ka=V(1),ga=M(()=>Ue.length-1),_n=V(0),zr=V(0);function w_(){_n.value>ka.value&&(_n.value-=1)}function b_(){_n.value<ga.value&&(_n.value+=1)}function x_(){if(_n.value>ka.value){let e=_n.value-zr.value;e<ka.value&&(e=ka.value),_n.value=e}}function S_(){if(_n.value<ga.value){let e=_n.value+zr.value;e>ga.value&&(e=ga.value),_n.value=e}}function E_(){const{escape:e,space:t,shift:s,left:a,right:o,up:l,down:c,enter:i,d:u,g:p,o:f}=qu;let d=[{name:"next_space",key:ze(t,dn(s)),fn:ct,autoRepeat:!0},{name:"prev_space",key:ze(t,s),fn:it,autoRepeat:!0},{name:"next_right",key:ze(o,dn(s),dn(sn)),fn:ct,autoRepeat:!0},{name:"prev_left",key:ze(a,dn(s),dn(sn)),fn:it,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:ct,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:it,autoRepeat:!0},{name:"next_down",key:ze(c,dn(sn)),fn:qs,autoRepeat:!0},{name:"prev_up",key:ze(l,dn(sn)),fn:()=>Ks(!1),autoRepeat:!0},{name:"next_shift",key:ze(o,s),fn:qs,autoRepeat:!0},{name:"prev_shift",key:ze(a,s),fn:()=>Ks(!1),autoRepeat:!0},{name:"toggle_dark",key:ze(u,dn(Bn)),fn:ep},{name:"toggle_overview",key:ze(f,dn(Bn)),fn:Yu},{name:"hide_overview",key:ze(e,dn(Bn)),fn:()=>sn.value=!1},{name:"goto",key:ze(p,dn(Bn)),fn:()=>qt.value=!qt.value},{name:"next_overview",key:ze(o,sn),fn:b_},{name:"prev_overview",key:ze(a,sn),fn:w_},{name:"up_overview",key:ze(l,sn),fn:x_},{name:"down_overview",key:ze(c,sn),fn:S_},{name:"goto_from_overview",key:ze(i,sn),fn:()=>{rs(_n.value),sn.value=!1}}];const h=new Set(d.map(k=>k.name));if(d.filter(k=>k.name&&h.has(k.name)).length===0){const k=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(k),console.warn(k)}return d}const np=ze(dn(Hg),dn(Dg),Ng);function O_(e,t,s=!1){typeof e=="string"&&(e=qu[e]);const a=ze(e,np);let o=0,l;const c=()=>{if(clearTimeout(l),!a.value){o=0;return}s&&(l=setTimeout(c,Math.max(1e3-o*250,150)),o++),t()};return pe(a,c,{flush:"sync"})}function M_(e,t){return Bm(e,s=>{!np.value||s.repeat||t()})}function C_(){const e=E_();new Map(e.map(s=>[s.key,s])).forEach(s=>{s.fn&&O_(s.key,s.fn,s.autoRepeat)}),M_("f",()=>Ku.toggle())}const $_={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},A_=n("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),T_=[A_];function R_(e,t){return O(),U("svg",$_,T_)}const P_={name:"carbon-close",render:R_};function Ur(e){var s,a;const t=(a=(s=e==null?void 0:e.meta)==null?void 0:s.slide)==null?void 0:a.no;return t!=null?`slidev-page-${t}`:""}const tp=Ce({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(e){const t=e;B(Y);const s=V(),a=_k(s),o=M(()=>t.width?t.width:a.width.value),l=M(()=>t.width?t.width/lt:a.height.value);t.width&&Js(()=>{s.value&&(s.value.style.width=`${o.value}px`,s.value.style.height=`${l.value}px`)});const c=M(()=>o.value/l.value),i=M(()=>t.scale?t.scale:c.value<lt?o.value/At:l.value*lt/At),u=M(()=>({height:`${Eu}px`,width:`${At}px`,transform:`translate(-50%, -50%) scale(${i.value})`})),p=M(()=>({"select-none":!xe.selectable,"slidev-code-line-numbers":xe.lineNumbers}));return kn(Su,i),(f,d)=>(O(),U("div",{id:"slide-container",ref_key:"root",ref:s,class:De(w(p))},[n("div",{id:"slide-content",style:en(w(u))},[Jn(f.$slots,"default")],4),Jn(f.$slots,"controls")],2))}});const qr=Ce({props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(e,{emit:t}){const s=Wn(e,"clicks",t),a=Wn(e,"clicksElements",t),o=Wn(e,"clicksDisabled",t),l=Wn(e,"clicksOrderMap",t);a.value.length=0,kn(Vh,e.route),kn(zh,e.context),kn(Os,s),kn(Ms,o),kn(bt,a),kn(Vo,l)},render(){var e,t;return this.$props.is?gn(this.$props.is):(t=(e=this.$slots)==null?void 0:e.default)==null?void 0:t.call(e)}}),I_=["innerHTML"],L_=Ce({__name:"DrawingPreview",props:{page:null},setup(e){return B(Y),(t,s)=>w(Oa)[e.page]?(O(),U("svg",{key:0,ref:"svg",class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:w(Oa)[e.page]},null,8,I_)):de("v-if",!0)}}),j_={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},N_=["onClick"],F_=Ce({__name:"SlidesOverview",props:{modelValue:{type:Boolean}},emits:[],setup(e,{emit:t}){const s=e;B(Y);const a=Wn(s,"modelValue",t);function o(){a.value=!1}function l(m){rs(m),o()}function c(m){return m===_n.value}const i=Qo.smaller("xs"),u=Qo.smaller("sm"),p=4*16*2,f=2*16,d=M(()=>i.value?Rt.width.value-p:u.value?(Rt.width.value-p-f)/2:300),h=M(()=>Math.floor((Rt.width.value-p)/(d.value+f)));return Js(()=>{_n.value=qe.value,zr.value=h.value}),(m,k)=>{const y=P_;return O(),U(Me,null,[Lr(n("div",j_,[n("div",{class:"grid gap-y-4 gap-x-8 w-full",style:en(`grid-template-columns: repeat(auto-fit,minmax(${w(d)}px,1fr))`)},[(O(!0),U(Me,null,Gs(w(Ue).slice(0,-1),(v,E)=>(O(),U("div",{key:v.path,class:"relative"},[n("div",{class:De(["inline-block border border-gray-400 rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":c(E+1)}]),onClick:S=>l(+v.path)},[(O(),q(tp,{key:v.path,width:w(d),"clicks-disabled":!0,class:"pointer-events-none"},{default:W(()=>[N(w(qr),{is:v==null?void 0:v.component,"clicks-disabled":!0,class:De(w(Ur)(v)),route:v,context:"overview"},null,8,["is","class","route"]),N(L_,{page:+v.path},null,8,["page"])]),_:2},1032,["width"]))],10,N_),n("div",{class:"absolute top-0 opacity-50",style:en(`left: ${w(d)+5}px`)},Pt(E+1),5)]))),128))],4)],512),[[wu,w(a)]]),w(a)?(O(),U("button",{key:0,class:"fixed text-2xl top-4 right-4 icon-btn text-gray-400",onClick:o},[N(y)])):de("v-if",!0)],64)}}});const H_="/rust-chat-workshop/assets/logo.b72bde5d.png",D_={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},W_=Ce({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(e,{emit:t}){const s=e;B(Y);const a=Wn(s,"modelValue",t);function o(){a.value=!1}return(l,c)=>(O(),q(su,null,[w(a)?(O(),U("div",D_,[n("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:c[0]||(c[0]=i=>o())}),n("div",{class:De(["m-auto rounded-md bg-main shadow",s.class]),"dark:border":"~ gray-400 opacity-10"},[Jn(l.$slots,"default")],2)])):de("v-if",!0)],1024))}}),B_={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},V_=["innerHTML"],z_=n("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[n("div",{class:"flex gap-1 children:my-auto"},[n("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),n("img",{class:"w-5 h-5",src:H_,alt:"Slidev"}),n("div",{style:{color:"#2082A6"}},[n("b",null,"Sli"),r("dev ")])])],-1),U_=Ce({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(e,{emit:t}){const s=e;B(Y);const a=Wn(s,"modelValue",t),o=M(()=>typeof xe.info=="string");return(l,c)=>(O(),q(W_,{modelValue:w(a),"onUpdate:modelValue":c[0]||(c[0]=i=>Ee(a)?a.value=i:null),class:"px-6 py-4"},{default:W(()=>[n("div",B_,[w(o)?(O(),U("div",{key:0,class:"mb-4",innerHTML:w(xe).info},null,8,V_)):de("v-if",!0),z_])]),_:1},8,["modelValue"]))}});const q_=["disabled","onKeydown"],K_=Ce({__name:"Goto",setup(e){B(Y);const t=V(),s=V(""),a=M(()=>{if(s.value.startsWith("/"))return!!Ue.find(c=>c.path===s.value.substring(1));{const c=+s.value;return!isNaN(c)&&c>0&&c<=hp.value}});function o(){a.value&&(s.value.startsWith("/")?rs(s.value.substring(1)):rs(+s.value)),l()}function l(){qt.value=!1}return pe(qt,async c=>{var i,u;c?(await Ge(),s.value="",(i=t.value)==null||i.focus()):(u=t.value)==null||u.blur()}),pe(s,c=>{c.match(/^[^0-9/]/)&&(s.value=s.value.substring(1))}),(c,i)=>(O(),U("div",{id:"slidev-goto-dialog",class:De(["fixed right-5 bg-main transform transition-all",w(qt)?"top-5":"-top-20"]),shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:gray-400 dark:opacity-25"},[Lr(n("input",{ref_key:"input",ref:t,"onUpdate:modelValue":i[0]||(i[0]=u=>s.value=u),type:"text",disabled:!w(qt),class:De(["outline-none bg-transparent",{"text-red-400":!w(a)&&s.value}]),placeholder:"Goto...",onKeydown:[zl(o,["enter"]),zl(l,["escape"])],onBlur:l},null,42,q_),[[xh,s.value]])],2))}}),Y_=Ce({__name:"Controls",setup(e){B(Y);const t=Pn(),s=Pn();return(a,o)=>(O(),U(Me,null,[N(F_,{modelValue:w(sn),"onUpdate:modelValue":o[0]||(o[0]=l=>Ee(sn)?sn.value=l:null)},null,8,["modelValue"]),N(K_),w(t)?(O(),q(w(t),{key:0})):de("v-if",!0),w(s)?(O(),q(w(s),{key:1,modelValue:w(mo),"onUpdate:modelValue":o[1]||(o[1]=l=>Ee(mo)?mo.value=l:null)},null,8,["modelValue"])):de("v-if",!0),w(xe).info?(O(),q(U_,{key:2,modelValue:w(As),"onUpdate:modelValue":o[2]||(o[2]=l=>Ee(As)?As.value=l:null)},null,8,["modelValue"])):de("v-if",!0)],64))}}),Z_={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},J_=n("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),G_=[J_];function Q_(e,t){return O(),U("svg",Z_,G_)}const X_={name:"carbon-settings-adjust",render:Q_},ev={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},nv=n("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),tv=n("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),sv=[nv,tv];function av(e,t){return O(),U("svg",ev,sv)}const ov={name:"carbon-information",render:av},rv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},lv=n("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),cv=[lv];function iv(e,t){return O(),U("svg",rv,cv)}const uv={name:"carbon-download",render:iv},pv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},fv=n("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),dv=n("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),hv=[fv,dv];function mv(e,t){return O(),U("svg",pv,hv)}const kv={name:"carbon-user-speaker",render:mv},gv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_v=n("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),vv=n("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),yv=[_v,vv];function wv(e,t){return O(),U("svg",gv,yv)}const bv={name:"carbon-presentation-file",render:wv},xv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Sv=n("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),Ev=[Sv];function Ov(e,t){return O(),U("svg",xv,Ev)}const Mv={name:"carbon-pen",render:Ov},Cv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},$v=n("path",{fill:"currentColor",d:"m38.2 48.5l58.2 155.2a8 8 0 0 0 15-.1l23.3-64.1a8.1 8.1 0 0 1 4.8-4.8l64.1-23.3a8 8 0 0 0 .1-15L48.5 38.2a8 8 0 0 0-10.3 10.3Z",opacity:".2"},null,-1),Av=n("path",{fill:"currentColor",d:"m150.5 139.2l55.9-20.3a16 16 0 0 0 .1-30L51.3 30.7a16 16 0 0 0-20.6 20.6l58.2 155.2a15.9 15.9 0 0 0 15 10.4h.1a15.9 15.9 0 0 0 14.9-10.5l20.3-55.9l63.1 63.2a8.5 8.5 0 0 0 5.7 2.3a8.3 8.3 0 0 0 5.7-2.3a8.1 8.1 0 0 0 0-11.4Zm-46.6 61.7L45.7 45.7l155.2 58.2l-64.1 23.3a15.7 15.7 0 0 0-9.6 9.6Z"},null,-1),Tv=[$v,Av];function Rv(e,t){return O(),U("svg",Cv,Tv)}const Pv={name:"ph-cursor-duotone",render:Rv},Iv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Lv=n("path",{fill:"currentColor",d:"M213.7 202.3a8.1 8.1 0 0 1 0 11.4a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3l-63.1-63.2l-20.3 55.9a15.9 15.9 0 0 1-14.9 10.5h-.1a15.9 15.9 0 0 1-15-10.4L30.7 51.3a16 16 0 0 1 20.6-20.6l155.2 58.2a16 16 0 0 1-.1 30l-55.9 20.3Z"},null,-1),jv=[Lv];function Nv(e,t){return O(),U("svg",Iv,jv)}const sp={name:"ph-cursor-fill",render:Nv},Fv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Hv=n("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),Dv=[Hv];function Wv(e,t){return O(),U("svg",Fv,Dv)}const Bv={name:"carbon-sun",render:Wv},Vv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},zv=n("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),Uv=[zv];function qv(e,t){return O(),U("svg",Vv,Uv)}const Kv={name:"carbon-moon",render:qv},Yv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Zv=n("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),Jv=[Zv];function Gv(e,t){return O(),U("svg",Yv,Jv)}const Qv={name:"carbon-apps",render:Gv},Xv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},e0=n("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),n0=[e0];function t0(e,t){return O(),U("svg",Xv,n0)}const s0={name:"carbon-arrow-right",render:t0},a0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},o0=n("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),r0=[o0];function l0(e,t){return O(),U("svg",a0,r0)}const c0={name:"carbon-arrow-left",render:l0},i0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},u0=n("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),p0=[u0];function f0(e,t){return O(),U("svg",i0,p0)}const d0={name:"carbon-maximize",render:f0},h0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},m0=n("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),k0=[m0];function g0(e,t){return O(),U("svg",h0,k0)}const _0={name:"carbon-minimize",render:g0},v0={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},y0=n("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),w0=[y0];function b0(e,t){return O(),U("svg",v0,w0)}const x0={name:"carbon-checkmark",render:b0},S0={class:"select-list"},E0={class:"title"},O0={class:"items"},M0=["onClick"],C0=Ce({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(e,{emit:t}){const s=e;B(Y);const a=Wn(s,"modelValue",t,{passive:!0});return(o,l)=>{const c=x0;return O(),U("div",S0,[n("div",E0,Pt(e.title),1),n("div",O0,[(O(!0),U(Me,null,Gs(e.items,i=>(O(),U("div",{key:i.value,class:De(["item",{active:w(a)===i.value}]),onClick:()=>{var u;a.value=i.value,(u=i.onClick)==null||u.call(i)}},[N(c,{class:De(["text-green-500",{"opacity-0":w(a)!==i.value}])},null,8,["class"]),r(" "+Pt(i.display||i.value),1)],10,M0))),128))])])}}});const ap=(e,t)=>{const s=e.__vccOpts||e;for(const[a,o]of t)s[a]=o;return s},$0=ap(C0,[["__scopeId","data-v-7dd0eaca"]]),A0={class:"text-sm"},T0=Ce({__name:"Settings",setup(e){B(Y);const t=[{display:"Fit",value:0},{display:"1:1",value:1}];return(s,a)=>(O(),U("div",A0,[N($0,{modelValue:w(ma),"onUpdate:modelValue":a[0]||(a[0]=o=>Ee(ma)?ma.value=o:null),title:"Scale",items:t},null,8,["modelValue"])]))}}),R0={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ gray-400 opacity-10"},P0=Ce({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:t}){const s=e;B(Y);const a=Wn(s,"modelValue",t,{passive:!0}),o=V();return Dm(o,()=>{a.value=!1}),(l,c)=>(O(),U("div",{ref_key:"el",ref:o,class:"flex relative"},[n("button",{class:De({disabled:e.disabled}),onClick:c[0]||(c[0]=i=>a.value=!w(a))},[Jn(l.$slots,"button",{class:De({disabled:e.disabled})})],2),(O(),q(su,null,[w(a)?(O(),U("div",R0,[Jn(l.$slots,"menu")])):de("v-if",!0)],1024))],512))}}),I0={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},ua={__name:"VerticalDivider",setup(e){return B(Y),(t,s)=>(O(),U("div",I0))}},L0={render(){return[]}},j0={class:"icon-btn"},N0={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},F0={class:"my-auto"},H0={class:"opacity-50"},D0=Ce({__name:"NavControls",props:{persist:{default:!1}},setup(e){const t=e;B(Y);const s=Qo.smaller("md"),{isFullscreen:a,toggle:o}=Ku,l=M(()=>ar.value?`?password=${ar.value}`:""),c=M(()=>`/presenter/${qe.value}${l.value}`),i=M(()=>`/${qe.value}${l.value}`),u=V(),p=()=>{u.value&&Xt.value&&u.value.contains(Xt.value)&&Xt.value.blur()},f=M(()=>t.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),d=Pn(),h=Pn();return us(()=>import("./DrawingControls.b6fc1edc.js"),["assets/DrawingControls.b6fc1edc.js","assets/DrawingControls.vue_vue_type_script_setup_true_lang.6498a99d.js"]).then(m=>h.value=m.default),(m,k)=>{const y=_0,v=d0,E=c0,S=s0,b=Qv,C=Kv,L=Bv,P=sp,D=Pv,ee=Mv,oe=bv,ge=xa("RouterLink"),ve=kv,Be=uv,Ve=ov,He=X_;return O(),U("nav",{ref_key:"root",ref:u,class:"flex flex-col"},[n("div",{class:De(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",w(f)]),onMouseleave:p},[w(Un)?de("v-if",!0):(O(),U("button",{key:0,class:"icon-btn",onClick:k[0]||(k[0]=(...Pe)=>w(o)&&w(o)(...Pe))},[w(a)?(O(),q(y,{key:0})):(O(),q(v,{key:1}))])),n("button",{class:De(["icon-btn",{disabled:!w(Bx)}]),onClick:k[1]||(k[1]=(...Pe)=>w(it)&&w(it)(...Pe))},[N(E)],2),n("button",{class:De(["icon-btn",{disabled:!w(Wx)}]),title:"Next",onClick:k[2]||(k[2]=(...Pe)=>w(ct)&&w(ct)(...Pe))},[N(S)],2),w(Un)?de("v-if",!0):(O(),U("button",{key:1,class:"icon-btn",title:"Slides overview",onClick:k[3]||(k[3]=Pe=>w(Yu)())},[N(b)])),w(tr)?de("v-if",!0):(O(),U("button",{key:2,class:"icon-btn",title:"Toggle dark mode",onClick:k[4]||(k[4]=Pe=>w(ep)())},[w(Vr)?(O(),q(C,{key:0})):(O(),q(L,{key:1}))])),N(ua),w(Un)?de("v-if",!0):(O(),U(Me,{key:3},[!w(Dn)&&!w(s)&&w(d)?(O(),U(Me,{key:0},[N(w(d)),N(ua)],64)):de("v-if",!0),w(Dn)?(O(),U("button",{key:1,class:"icon-btn",title:"Show presenter cursor",onClick:k[5]||(k[5]=Pe=>ko.value=!w(ko))},[w(ko)?(O(),q(P,{key:0})):(O(),q(D,{key:1,class:"opacity-50"}))])):de("v-if",!0)],64)),!w(xe).drawings.presenterOnly&&!w(Un)?(O(),U(Me,{key:4},[n("button",{class:"icon-btn relative",title:"Drawing",onClick:k[6]||(k[6]=Pe=>Bn.value=!w(Bn))},[N(ee),w(Bn)?(O(),U("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:en({background:w(Ot).color})},null,4)):de("v-if",!0)]),N(ua)],64)):de("v-if",!0),w(Un)?de("v-if",!0):(O(),U(Me,{key:5},[w(Dn)?(O(),q(ge,{key:0,to:w(i),class:"icon-btn",title:"Play Mode"},{default:W(()=>[N(oe)]),_:1},8,["to"])):de("v-if",!0),w(Fx)?(O(),q(ge,{key:1,to:w(c),class:"icon-btn",title:"Presenter Mode"},{default:W(()=>[N(ve)]),_:1},8,["to"])):de("v-if",!0),de("v-if",!0)],64)),(O(),U(Me,{key:6},[w(xe).download?(O(),U("button",{key:0,class:"icon-btn",onClick:k[8]||(k[8]=(...Pe)=>w(or)&&w(or)(...Pe))},[N(Be)])):de("v-if",!0)],64)),!w(Dn)&&w(xe).info&&!w(Un)?(O(),U("button",{key:7,class:"icon-btn",onClick:k[9]||(k[9]=Pe=>As.value=!w(As))},[N(Ve)])):de("v-if",!0),!w(Dn)&&!w(Un)?(O(),q(P0,{key:8},{button:W(()=>[n("button",j0,[N(He)])]),menu:W(()=>[N(T0)]),_:1})):de("v-if",!0),w(Un)?de("v-if",!0):(O(),q(ua,{key:9})),n("div",N0,[n("div",F0,[r(Pt(w(qe))+" ",1),n("span",H0,"/ "+Pt(w(hp)),1)])]),N(w(L0))],34)],512)}}}),op={render(){return[]}},rp={render(){return[]}},W0={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},B0=Ce({__name:"PresenterMouse",setup(e){return B(Y),(t,s)=>{const a=sp;return w(uo).cursor?(O(),U("div",W0,[N(a,{class:"absolute",style:en({left:`${w(uo).cursor.x}%`,top:`${w(uo).cursor.y}%`})},null,8,["style"])])):de("v-if",!0)}}}),V0=Ce({__name:"SlidesShow",props:{context:null},setup(e){B(Y),pe(mn,()=>{var s,a;((s=mn.value)==null?void 0:s.meta)&&mn.value.meta.preload!==!1&&(mn.value.meta.__preloaded=!0),((a=_o.value)==null?void 0:a.meta)&&_o.value.meta.preload!==!1&&(_o.value.meta.__preloaded=!0)},{immediate:!0});const t=Pn();return us(()=>import("./DrawingLayer.9e9f1762.js"),[]).then(s=>t.value=s.default),(s,a)=>(O(),U(Me,null,[de(" Global Bottom "),N(w(rp)),de(" Slides "),(O(!0),U(Me,null,Gs(w(Ue),o=>{var l,c;return O(),U(Me,{key:o.path},[((l=o.meta)==null?void 0:l.__preloaded)||o===w(mn)?Lr((O(),q(w(qr),{key:0,is:o==null?void 0:o.component,clicks:o===w(mn)?w(Rn):0,"clicks-elements":((c=o.meta)==null?void 0:c.__clicksElements)||[],"clicks-disabled":!1,class:De(w(Ur)(o)),route:o,context:e.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[wu,o===w(mn)]]):de("v-if",!0)],64)}),128)),de(" Global Top "),N(w(op)),w(t)?(O(),q(w(t),{key:0})):de("v-if",!0),w(Dn)?de("v-if",!0):(O(),q(B0,{key:1}))],64))}}),z0=Ce({__name:"Play",setup(e){B(Y),C_();const t=V();function s(l){var c;Pc.value||((c=l.target)==null?void 0:c.id)==="slide-container"&&(l.screenX/window.innerWidth>.6?ct():it())}Ux(t);const a=M(()=>Fg.value||Pc.value);Pn();const o=Pn();return us(()=>import("./DrawingControls.b6fc1edc.js"),["assets/DrawingControls.b6fc1edc.js","assets/DrawingControls.vue_vue_type_script_setup_true_lang.6498a99d.js"]).then(l=>o.value=l.default),(l,c)=>(O(),U(Me,null,[n("div",{id:"page-root",ref_key:"root",ref:t,class:"grid grid-cols-[1fr_max-content]",style:en(w(Ou))},[N(tp,{class:"w-full h-full",style:en({background:"var(--slidev-slide-container-background, black)"}),width:w(Zr)?w(Rt).width.value:void 0,scale:w(ma),onPointerdown:s},{default:W(()=>[N(V0,{context:"slide"})]),controls:W(()=>[n("div",{class:De(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[w(a)?"opacity-100 right-0":"opacity-0 p-2",w(Vs)?"pointer-events-none":""]])},[N(D0,{class:"m-auto",persist:w(a)},null,8,["persist"])],2),!w(xe).drawings.presenterOnly&&!w(Un)&&w(o)?(O(),q(w(o),{key:0,class:"ml-0"})):de("v-if",!0)]),_:1},8,["style","width","scale"]),de("v-if",!0)],4),N(Y_)],64))}});function lp(e){const t=M(()=>e.value.path),s=M(()=>Ue.length-1),a=M(()=>parseInt(t.value.split(/\//g).slice(-1)[0])||1),o=M(()=>Qa(a.value)),l=M(()=>Ue.find(h=>h.path===`${a.value}`)),c=M(()=>{var h,m,k;return(k=(m=(h=l.value)==null?void 0:h.meta)==null?void 0:m.slide)==null?void 0:k.id}),i=M(()=>{var h,m;return(m=(h=l.value)==null?void 0:h.meta)==null?void 0:m.layout}),u=M(()=>Ue.find(h=>h.path===`${Math.min(Ue.length,a.value+1)}`)),p=M(()=>Ue.filter(h=>{var m,k;return(k=(m=h.meta)==null?void 0:m.slide)==null?void 0:k.title}).reduce((h,m)=>(Jr(h,m),h),[])),f=M(()=>Gr(p.value,l.value)),d=M(()=>Qr(f.value));return{route:e,path:t,total:s,currentPage:a,currentPath:o,currentRoute:l,currentSlideId:c,currentLayout:i,nextRoute:u,rawTree:p,treeWithActiveStatuses:f,tree:d}}function cp(e,t,s){const a=V(0);Ge(()=>{vn.afterEach(async()=>{await Ge(),a.value+=1})});const o=M(()=>{var u,p;return a.value,((p=(u=t.value)==null?void 0:u.meta)==null?void 0:p.__clicksElements)||[]}),l=M(()=>{var u,p,f;return+((f=(p=(u=t.value)==null?void 0:u.meta)==null?void 0:p.clicks)!=null?f:o.value.length)}),c=M(()=>s.value<Ue.length-1||e.value<l.value),i=M(()=>s.value>1||e.value>0);return{clicks:e,clicksElements:o,clicksTotal:l,hasNext:c,hasPrev:i}}const U0=["id"],zc=Ce({__name:"PrintSlideClick",props:{clicks:null,clicksElements:null,nav:null,route:null},emits:["update:clicksElements"],setup(e,{emit:t}){const s=e,a=Wn(s,"clicksElements",t),o=M(()=>({height:`${Eu}px`,width:`${At}px`})),l=Pn();us(()=>import("./DrawingPreview.647943f1.js"),[]).then(p=>l.value=p.default);const c=M(()=>s.clicks),i=cp(c,s.nav.currentRoute,s.nav.currentPage),u=M(()=>`${s.route.path.toString().padStart(3,"0")}-${(c.value+1).toString().padStart(2,"0")}`);return kn(Y,Le({nav:{...s.nav,...i},configs:xe,themeConfigs:M(()=>xe.themeConfig)})),(p,f)=>{var d;return O(),U("div",{id:w(u),class:"slide-container",style:en(w(o))},[N(w(rp)),N(w(qr),{is:(d=e.route)==null?void 0:d.component,"clicks-elements":w(a),"onUpdate:clicks-elements":f[0]||(f[0]=h=>Ee(a)?a.value=h:null),clicks:w(c),"clicks-disabled":!1,class:De(w(Ur)(e.route)),route:e.route},null,8,["is","clicks-elements","clicks","class","route"]),w(l)?(O(),q(w(l),{key:0,page:+e.route.path},null,8,["page"])):de("v-if",!0),N(w(op))],12,U0)}}}),q0=Ce({__name:"PrintSlide",props:{route:null},setup(e){var l;const t=e;B(Y);const s=Le(((l=t.route.meta)==null?void 0:l.__clicksElements)||[]),a=M(()=>t.route),o=lp(a);return(c,i)=>(O(),U(Me,null,[N(zc,{"clicks-elements":s,"onUpdate:clicks-elements":i[0]||(i[0]=u=>Ee(s)?s.value=u:null),clicks:0,nav:w(o),route:w(a)},null,8,["clicks-elements","nav","route"]),w(Ts)?de("v-if",!0):(O(!0),U(Me,{key:0},Gs(s.length,u=>(O(),q(zc,{key:u,clicks:u,nav:w(o),route:w(a)},null,8,["clicks","nav","route"]))),128))],64))}}),K0={id:"print-content"},Y0=Ce({__name:"PrintContainer",props:{width:null},setup(e){const t=e;B(Y);const s=M(()=>t.width),a=M(()=>t.width/lt),o=M(()=>s.value/a.value),l=M(()=>o.value<lt?s.value/At:a.value*lt/At),c=Ue.slice(0,-1),i=M(()=>({"select-none":!xe.selectable,"slidev-code-line-numbers":xe.lineNumbers}));return kn(Su,l),(u,p)=>(O(),U("div",{id:"print-container",class:De(w(i))},[n("div",K0,[(O(!0),U(Me,null,Gs(w(c),f=>(O(),q(q0,{key:f.path,route:f},null,8,["route"]))),128))]),Jn(u.$slots,"controls")],2))}});const Z0=Ce({__name:"Print",setup(e){B(Y);const t=Et.canvasWidth,s=Math.round(t/Et.aspectRatio)+1;function a(o,{slots:l}){if(l.default)return gn("style",l.default())}return Js(()=>{Zr?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(o,l)=>(O(),U(Me,null,[N(a,null,{default:W(()=>[r(" @page { size: "+Pt(w(t))+"px "+Pt(s)+"px; margin: 0px; } ",1)]),_:1}),n("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:en(w(Ou))},[N(Y0,{class:"w-full h-full",style:en({background:"var(--slidev-slide-container-background, black)"}),width:w(Rt).width.value},null,8,["style","width"])],4)],64))}});const J0={class:"slidev-layout end"},G0={__name:"end",setup(e){return B(Y),(t,s)=>(O(),U("div",J0," END "))}},Q0=ap(G0,[["__scopeId","data-v-ab32435f"]]);function Uc(e){return e.startsWith("/")?"/rust-chat-workshop/"+e.slice(1):e}function X0(e,t=!1){const s=e&&["#","rgb","hsl"].some(o=>e.indexOf(o)===0),a={background:s?e:void 0,color:e&&!s?"white":void 0,backgroundImage:s?void 0:e?t?`linear-gradient(#0005, #0008), url(${Uc(e)})`:`url("${Uc(e)}")`:void 0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return a.background||delete a.background,a}const ey={class:"my-auto w-full"},ny=Ce({__name:"cover",props:{background:{default:""}},setup(e){const t=e;B(Y);const s=M(()=>X0(t.background,!0));return(a,o)=>(O(),U("div",{class:"slidev-layout cover",style:en(w(s))},[n("div",ey,[Jn(a.$slots,"default")])],4))}}),ty=n("h1",null,"How to build a Rust Chat Server",-1),sy={__name:"1",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ny,he(fe(t)),{default:W(()=>[ty]),_:1},16))}},ay={class:"slidev-layout default"},ke={__name:"default",setup(e){return B(Y),(t,s)=>(O(),U("div",ay,[Jn(t.$slots,"default")]))}},oy=n("h1",null,"About me",-1),ry=n("ul",null,[n("li",null,"Name: Lucas Meurer"),n("li",null,"Working for newcubator since 2020"),n("li",null,[r("Made: "),n("ul",null,[n("li",null,[r("Android Apps: "),n("ul",null,[n("li",null,[n("a",{href:"https://play.google.com/store/apps/developer?id=Lucas+Meurer",target:"_blank",rel:"noopener"},"https://play.google.com/store/apps/developer?id=Lucas+Meurer")])])]),n("li",null,[n("a",{href:"https://malmal.io",target:"_blank",rel:"noopener"},"https://malmal.io"),n("ul",null,[n("li",null,"Made using lots of TypeScript")])]),n("li",null,[n("a",{href:"https://hellopaint.io",target:"_blank",rel:"noopener"},"https://hellopaint.io"),n("ul",null,[n("li",null,"Lots of TypeScript and Rust")])]),n("li",null,[n("a",{href:"https://hurlurl.com",target:"_blank",rel:"noopener"},"https://hurlurl.com"),n("ul",null,[n("li",null,"Pure Rust")])])])])],-1),ly={__name:"2",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[oy,ry]),_:1},16))}},cy=n("h1",null,"Why I learned Rust",-1),iy=n("ul",null,[n("li",null,"I needed a performant, crash resistant and safe backend for HelloPaint"),n("li",null,[r("Previous backend in Go was "),n("ul",null,[n("li",null,"Also fast"),n("li",null,"Did crash from time to time"),n("li",null,"Not fun to work with (I personally dislike Go)")])])],-1),uy={__name:"3",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[cy,iy]),_:1},16))}},py=n("h1",null,"Questions",-1),fy=n("ul",null,[n("li",null,"Who has heard of Rust before?"),n("li",null,[r("Who has tried Rust before? "),n("ul",null,[n("li",null,"How\u2019d it go?")])])],-1),dy={__name:"4",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[py,fy]),_:1},16))}},hy=n("h1",null,"End Goal",-1),my=n("ul",null,[n("li",null,"We\u2019ll build a working chat server with group chats"),n("li",null,"We\u2019ll learn basics about rust and rust concurrency")],-1),ky={__name:"5",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[hy,my]),_:1},16))}},gy=n("h1",null,"Rust Setup",-1),_y=n("p",null,[r("Install rust via "),n("a",{href:"https://rustup.rs/",target:"_blank",rel:"noopener"},"https://rustup.rs/")],-1),vy=n("p",null,"Optional: Install Extension for your favourite IDE",-1),yy=n("ul",null,[n("li",null,[n("a",{href:"https://www.jetbrains.com/de-de/rust/",target:"_blank",rel:"noopener"},"https://www.jetbrains.com/de-de/rust/")]),n("li",null,[n("a",{href:"https://code.visualstudio.com/docs/languages/rust",target:"_blank",rel:"noopener"},"https://code.visualstudio.com/docs/languages/rust")])],-1),wy={__name:"6",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[gy,_y,vy,yy]),_:1},16))}},by=n("h1",null,"Some Rust basics",-1),xy=n("p",null,"While rust is installing, let\u2019s talk about Ownership",-1),Sy=n("blockquote",null,[n("p",null,"Ownership is Rust\u2019s most unique feature"),n("p",null,[r("~ "),n("em",null,"rust book")])],-1),Ey=n("ul",null,[n("li",null,"Rust has no garbage collector"),n("li",null,"To be memory safe, rust has the ownership model"),n("li",null,[r("Every value has an "),n("em",null,"owner")]),n("li",null,"There can only be one owner"),n("li",null,"The value is dropped when the owner goes out of scope")],-1),Oy={__name:"7",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[by,xy,Sy,Ey]),_:1},16))}},My={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Cy=n("path",{fill:"currentColor",d:"M200 32h-36.3a47.8 47.8 0 0 0-71.4 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32.1 32.1 0 0 1 32 32H96a32.1 32.1 0 0 1 32-32Zm72 184H56V48h26.8A47.2 47.2 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.2 47.2 0 0 0-2.8-16H200Z"},null,-1),$y=[Cy];function Ay(e,t){return O(),U("svg",My,$y)}const Ty={name:"ph-clipboard",render:Ay},Ry={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Py=n("path",{fill:"currentColor",d:"M177.8 98.5a8 8 0 0 1-.3 11.3l-58.6 56a8.1 8.1 0 0 1-5.6 2.2a7.9 7.9 0 0 1-5.5-2.2l-29.3-28a8 8 0 1 1 11-11.6l23.8 22.7l53.2-50.7a8 8 0 0 1 11.3.3ZM232 128A104 104 0 1 1 128 24a104.2 104.2 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),Iy=[Py];function Ly(e,t){return O(),U("svg",Ry,Iy)}const jy={name:"ph-check-circle",render:Ly};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function ip(e){return typeof e>"u"||e===null}function Ny(e){return typeof e=="object"&&e!==null}function Fy(e){return Array.isArray(e)?e:ip(e)?[]:[e]}function Hy(e,t){var s,a,o,l;if(t)for(l=Object.keys(t),s=0,a=l.length;s<a;s+=1)o=l[s],e[o]=t[o];return e}function Dy(e,t){var s="",a;for(a=0;a<t;a+=1)s+=e;return s}function Wy(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var By=ip,Vy=Ny,zy=Fy,Uy=Dy,qy=Wy,Ky=Hy,Kr={isNothing:By,isObject:Vy,toArray:zy,repeat:Uy,isNegativeZero:qy,extend:Ky};function up(e,t){var s="",a=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(s+='in "'+e.mark.name+'" '),s+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(s+=`

`+e.mark.snippet),a+" "+s):a}function Us(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=up(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Us.prototype=Object.create(Error.prototype);Us.prototype.constructor=Us;Us.prototype.toString=function(t){return this.name+": "+up(this,t)};var xt=Us,Yy=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Zy=["scalar","sequence","mapping"];function Jy(e){var t={};return e!==null&&Object.keys(e).forEach(function(s){e[s].forEach(function(a){t[String(a)]=s})}),t}function Gy(e,t){if(t=t||{},Object.keys(t).forEach(function(s){if(Yy.indexOf(s)===-1)throw new xt('Unknown option "'+s+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(s){return s},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Jy(t.styleAliases||null),Zy.indexOf(this.kind)===-1)throw new xt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Xe=Gy;function qc(e,t){var s=[];return e[t].forEach(function(a){var o=s.length;s.forEach(function(l,c){l.tag===a.tag&&l.kind===a.kind&&l.multi===a.multi&&(o=c)}),s[o]=a}),s}function Qy(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,s;function a(o){o.multi?(e.multi[o.kind].push(o),e.multi.fallback.push(o)):e[o.kind][o.tag]=e.fallback[o.tag]=o}for(t=0,s=arguments.length;t<s;t+=1)arguments[t].forEach(a);return e}function sr(e){return this.extend(e)}sr.prototype.extend=function(t){var s=[],a=[];if(t instanceof Xe)a.push(t);else if(Array.isArray(t))a=a.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(s=s.concat(t.implicit)),t.explicit&&(a=a.concat(t.explicit));else throw new xt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(l){if(!(l instanceof Xe))throw new xt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new xt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new xt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),a.forEach(function(l){if(!(l instanceof Xe))throw new xt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(sr.prototype);return o.implicit=(this.implicit||[]).concat(s),o.explicit=(this.explicit||[]).concat(a),o.compiledImplicit=qc(o,"implicit"),o.compiledExplicit=qc(o,"explicit"),o.compiledTypeMap=Qy(o.compiledImplicit,o.compiledExplicit),o};var Xy=sr,e1=new Xe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),n1=new Xe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),t1=new Xe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),s1=new Xy({explicit:[e1,n1,t1]});function a1(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function o1(){return null}function r1(e){return e===null}var l1=new Xe("tag:yaml.org,2002:null",{kind:"scalar",resolve:a1,construct:o1,predicate:r1,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function c1(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function i1(e){return e==="true"||e==="True"||e==="TRUE"}function u1(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var p1=new Xe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:c1,construct:i1,predicate:u1,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function f1(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function d1(e){return 48<=e&&e<=55}function h1(e){return 48<=e&&e<=57}function m1(e){if(e===null)return!1;var t=e.length,s=0,a=!1,o;if(!t)return!1;if(o=e[s],(o==="-"||o==="+")&&(o=e[++s]),o==="0"){if(s+1===t)return!0;if(o=e[++s],o==="b"){for(s++;s<t;s++)if(o=e[s],o!=="_"){if(o!=="0"&&o!=="1")return!1;a=!0}return a&&o!=="_"}if(o==="x"){for(s++;s<t;s++)if(o=e[s],o!=="_"){if(!f1(e.charCodeAt(s)))return!1;a=!0}return a&&o!=="_"}if(o==="o"){for(s++;s<t;s++)if(o=e[s],o!=="_"){if(!d1(e.charCodeAt(s)))return!1;a=!0}return a&&o!=="_"}}if(o==="_")return!1;for(;s<t;s++)if(o=e[s],o!=="_"){if(!h1(e.charCodeAt(s)))return!1;a=!0}return!(!a||o==="_")}function k1(e){var t=e,s=1,a;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),a=t[0],(a==="-"||a==="+")&&(a==="-"&&(s=-1),t=t.slice(1),a=t[0]),t==="0")return 0;if(a==="0"){if(t[1]==="b")return s*parseInt(t.slice(2),2);if(t[1]==="x")return s*parseInt(t.slice(2),16);if(t[1]==="o")return s*parseInt(t.slice(2),8)}return s*parseInt(t,10)}function g1(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Kr.isNegativeZero(e)}var _1=new Xe("tag:yaml.org,2002:int",{kind:"scalar",resolve:m1,construct:k1,predicate:g1,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),v1=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function y1(e){return!(e===null||!v1.test(e)||e[e.length-1]==="_")}function w1(e){var t,s;return t=e.replace(/_/g,"").toLowerCase(),s=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:s*parseFloat(t,10)}var b1=/^[-+]?[0-9]+e/;function x1(e,t){var s;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Kr.isNegativeZero(e))return"-0.0";return s=e.toString(10),b1.test(s)?s.replace("e",".e"):s}function S1(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Kr.isNegativeZero(e))}var E1=new Xe("tag:yaml.org,2002:float",{kind:"scalar",resolve:y1,construct:w1,predicate:S1,represent:x1,defaultStyle:"lowercase"}),O1=s1.extend({implicit:[l1,p1,_1,E1]}),M1=O1,pp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),fp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function C1(e){return e===null?!1:pp.exec(e)!==null||fp.exec(e)!==null}function $1(e){var t,s,a,o,l,c,i,u=0,p=null,f,d,h;if(t=pp.exec(e),t===null&&(t=fp.exec(e)),t===null)throw new Error("Date resolve error");if(s=+t[1],a=+t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(s,a,o));if(l=+t[4],c=+t[5],i=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(f=+t[10],d=+(t[11]||0),p=(f*60+d)*6e4,t[9]==="-"&&(p=-p)),h=new Date(Date.UTC(s,a,o,l,c,i,u)),p&&h.setTime(h.getTime()-p),h}function A1(e){return e.toISOString()}var T1=new Xe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:C1,construct:$1,instanceOf:Date,represent:A1});function R1(e){return e==="<<"||e===null}var P1=new Xe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:R1}),Yr=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function I1(e){if(e===null)return!1;var t,s,a=0,o=e.length,l=Yr;for(s=0;s<o;s++)if(t=l.indexOf(e.charAt(s)),!(t>64)){if(t<0)return!1;a+=6}return a%8===0}function L1(e){var t,s,a=e.replace(/[\r\n=]/g,""),o=a.length,l=Yr,c=0,i=[];for(t=0;t<o;t++)t%4===0&&t&&(i.push(c>>16&255),i.push(c>>8&255),i.push(c&255)),c=c<<6|l.indexOf(a.charAt(t));return s=o%4*6,s===0?(i.push(c>>16&255),i.push(c>>8&255),i.push(c&255)):s===18?(i.push(c>>10&255),i.push(c>>2&255)):s===12&&i.push(c>>4&255),new Uint8Array(i)}function j1(e){var t="",s=0,a,o,l=e.length,c=Yr;for(a=0;a<l;a++)a%3===0&&a&&(t+=c[s>>18&63],t+=c[s>>12&63],t+=c[s>>6&63],t+=c[s&63]),s=(s<<8)+e[a];return o=l%3,o===0?(t+=c[s>>18&63],t+=c[s>>12&63],t+=c[s>>6&63],t+=c[s&63]):o===2?(t+=c[s>>10&63],t+=c[s>>4&63],t+=c[s<<2&63],t+=c[64]):o===1&&(t+=c[s>>2&63],t+=c[s<<4&63],t+=c[64],t+=c[64]),t}function N1(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var F1=new Xe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:I1,construct:L1,predicate:N1,represent:j1}),H1=Object.prototype.hasOwnProperty,D1=Object.prototype.toString;function W1(e){if(e===null)return!0;var t=[],s,a,o,l,c,i=e;for(s=0,a=i.length;s<a;s+=1){if(o=i[s],c=!1,D1.call(o)!=="[object Object]")return!1;for(l in o)if(H1.call(o,l))if(!c)c=!0;else return!1;if(!c)return!1;if(t.indexOf(l)===-1)t.push(l);else return!1}return!0}function B1(e){return e!==null?e:[]}var V1=new Xe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:W1,construct:B1}),z1=Object.prototype.toString;function U1(e){if(e===null)return!0;var t,s,a,o,l,c=e;for(l=new Array(c.length),t=0,s=c.length;t<s;t+=1){if(a=c[t],z1.call(a)!=="[object Object]"||(o=Object.keys(a),o.length!==1))return!1;l[t]=[o[0],a[o[0]]]}return!0}function q1(e){if(e===null)return[];var t,s,a,o,l,c=e;for(l=new Array(c.length),t=0,s=c.length;t<s;t+=1)a=c[t],o=Object.keys(a),l[t]=[o[0],a[o[0]]];return l}var K1=new Xe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:U1,construct:q1}),Y1=Object.prototype.hasOwnProperty;function Z1(e){if(e===null)return!0;var t,s=e;for(t in s)if(Y1.call(s,t)&&s[t]!==null)return!1;return!0}function J1(e){return e!==null?e:{}}var G1=new Xe("tag:yaml.org,2002:set",{kind:"mapping",resolve:Z1,construct:J1});M1.extend({implicit:[T1,P1],explicit:[F1,V1,K1,G1]});function Kc(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}var Q1=new Array(256),X1=new Array(256);for(var Wt=0;Wt<256;Wt++)Q1[Wt]=Kc(Wt)?1:0,X1[Wt]=Kc(Wt);function ew(e){return Array.from(new Set(e))}function Yc(...e){let t,s,a;e.length===1?(t=0,a=1,[s]=e):[t,s,a=1]=e;const o=[];let l=t;for(;l<s;)o.push(l),l+=a||1;return o}function nw(e,t){if(!t||t==="all"||t==="*")return Yc(1,e+1);const s=[];for(const a of t.split(/[,;]/g))if(!a.includes("-"))s.push(+a);else{const[o,l]=a.split("-",2);s.push(...Yc(+o,l?+l+1:e+1))}return ew(s).filter(a=>a<=e).sort((a,o)=>a-o)}const tw=["title"],Fe=Ce({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(e){const t=e;B(Y);const s=B(Os),a=B(bt),o=B(Ms);function l(d=5){const h=[],m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",k=m.length;for(let y=0;y<d;y++)h.push(m.charAt(Math.floor(Math.random()*k)));return h.join("")}const c=V(),i=ft();is(()=>{const d=t.at==null?a==null?void 0:a.value.length:t.at,h=M(()=>o!=null&&o.value?t.ranges.length-1:Math.min(Math.max(0,((s==null?void 0:s.value)||0)-(d||0)),t.ranges.length-1)),m=M(()=>t.ranges[h.value]||"");if(t.ranges.length>=2&&!(o!=null&&o.value)){const k=l(),y=qh(t.ranges.length-1).map(v=>k+v);a!=null&&a.value&&(a.value.push(...y),Ya(()=>y.forEach(v=>zo(a.value,v)),i))}Js(()=>{if(!c.value)return;const y=c.value.querySelector(".shiki-dark")?Array.from(c.value.querySelectorAll(".shiki")):[c.value];for(const v of y){const E=Array.from(v.querySelectorAll(".line")),S=nw(E.length,m.value);if(E.forEach((b,C)=>{const L=S.includes(C+1);b.classList.toggle(vt,!0),b.classList.toggle("highlighted",L),b.classList.toggle("dishonored",!L)}),t.maxHeight){const b=v.querySelector(".line.highlighted");b&&b.scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:u,copy:p}=Jm();function f(){var h,m;const d=(m=(h=c.value)==null?void 0:h.querySelector(".slidev-code"))==null?void 0:m.textContent;d&&p(d)}return(d,h)=>{const m=jy,k=Ty;return O(),U("div",{ref_key:"el",ref:c,class:"slidev-code-wrapper relative group",style:en({"max-height":t.maxHeight,"overflow-y":t.maxHeight?"scroll":void 0})},[Jn(d.$slots,"default"),w(xe).codeCopy?(O(),U("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:w(u)?"Copied":"Copy",onClick:h[0]||(h[0]=y=>f())},[w(u)?(O(),q(m,{key:0,class:"p-2 w-8 h-8"})):(O(),q(k,{key:1,class:"p-2 w-8 h-8"}))],8,tw)):de("v-if",!0)],4)}}}),sw=n("h1",null,"Borrowing",-1),aw=n("ul",null,[n("li",null,"We can borrow a value from an owner to get a reference"),n("li",null,"A reference is a bit like a pointer"),n("li",null,"There can only be one mutable reference or multiple immutable references")],-1),ow=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" static_string "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token string"},'"Hello"'),n("span",{class:"token punctuation"},";"),r("                                "),n("span",{class:"token comment"},"// &str, static reference")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token keyword"},"mut"),r(" hello "),n("span",{class:"token operator"},"="),r(" static_string"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),r("                  "),n("span",{class:"token comment"},"// String, owner")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" ref_1 "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token operator"},"&"),r("hello"),n("span",{class:"token punctuation"},";"),r("                                         "),n("span",{class:"token comment"},"// &String, reference")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" ref_2 "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token operator"},"&"),r("hello"),n("span",{class:"token punctuation"},";"),r("                                         "),n("span",{class:"token comment"},"// &String, reference")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token comment"},"// This will be an error because hello is already borrowed")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" mut_ref "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"mut"),r(" hello"),n("span",{class:"token punctuation"},";"),r("                                   "),n("span",{class:"token comment"},"// &mut String, mutable reference")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"{hello}, {ref_1}, {ref_2}, {mut_ref}"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("    mut_ref"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push_str"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'" World"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),r()]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),rw={__name:"8",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[sw,aw,N(o,we({},{ranges:[""]}),{default:W(()=>[ow]),_:1},16)]),_:1},16)}}},lw=n("h1",null,"Traits",-1),cw=n("p",null,"Traits are similar to interfaces in other languages",-1),iw=n("ul",null,[n("li",null,"We won\u2019t write our own traits in this workshop but we\u2019ll use some built in traits"),n("li",null,"Often encountered traits are Clone, Debug, Serialize, Deserialize"),n("li",null,"Some traits can be implemented with a derive macro:")],-1),uw=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token attribute attr-name"},"#[derive(Clone, Debug)]"),r("             "),n("span",{class:"token comment"},"// Adds implementations for Clone and Debug traits")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"struct"),r(),n("span",{class:"token type-definition class-name"},"Test"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    text"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},","),r("                   "),n("span",{class:"token comment"},"// This only works if every member also implements Clone and Debug")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" test "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token class-name"},"Test"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        text"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token string"},'"Hello"'),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"{test:?}"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),r("           "),n("span",{class:"token comment"},'// Will print: Test { text: "Hello" }')]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" clone "),n("span",{class:"token operator"},"="),r(" test"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),r("       "),n("span",{class:"token comment"},"// Calls clone on all members")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),pw=n("p",null,"Instead of using derive we could also add a custom implementation for a trait, e.g. to customize println format.",-1),fw={__name:"9",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[lw,cw,iw,N(o,we({},{ranges:[""]}),{default:W(()=>[uw]),_:1},16),pw]),_:1},16)}}},dw=n("h1",null,"Checkout the github repo",-1),hw=n("p",null,[r("Contains a cargo workspace with the chat ui "),n("a",{href:"https://github.com/lucasmerlin/rust-chat-app",target:"_blank",rel:"noopener"},"https://github.com/lucasmerlin/rust-chat-app")],-1),mw=n("ul",null,[n("li",null,"cargo is rusts package manager, like npm"),n("li",null,"cargo workspaces is similar to nx, lerna, turborepo")],-1),kw=n("pre",{class:"slidev-code language-bash"},[n("code",null,[n("span",{class:"line"},[r("\u251C\u2500\u2500 Cargo.lock             "),n("span",{class:"token comment"},"# Dependency lock file")]),r(`
`),n("span",{class:"line"},[r("\u251C\u2500\u2500 Cargo.toml             "),n("span",{class:"token comment"},"# Workspace configuration")]),r(`
`),n("span",{class:"line"},[r("\u2514\u2500\u2500 app                    "),n("span",{class:"token comment"},"# Ui package")]),r(`
`),n("span",{class:"line"},[r("    \u251C\u2500\u2500 Cargo.toml         "),n("span",{class:"token comment"},"# Project configuration")]),r(`
`),n("span",{class:"line"},"    \u2514\u2500\u2500 src"),r(`
`),n("span",{class:"line"},"        \u251C\u2500\u2500 chat_ui.rs"),r(`
`),n("span",{class:"line"},"        \u251C\u2500\u2500 connection.rs"),r(`
`),n("span",{class:"line"},"        \u251C\u2500\u2500 main.rs"),r(`
`),n("span",{class:"line"},"        \u2514\u2500\u2500 models.rs")])],-1),gw={__name:"10",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[dw,hw,mw,kw]),_:1},16))}},_w=n("h1",null,"Start the existing ui",-1),vw=n("pre",{class:"slidev-code language-bash"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token function"},"cargo"),r(" run "),n("span",{class:"token parameter variable"},"-p"),r(" app                              "),n("span",{class:"token comment"},'# Runs the package "app"')])])],-1),yw=n("p",null,"You should now see the chat ui.",-1),ww=n("h4",null,"\u2013 OR \u2013",-1),bw=n("br",null,null,-1),xw=n("h1",null,"Start the web app",-1),Sw=n("pre",{class:"slidev-code language-bash"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token function"},"cargo"),r(),n("span",{class:"token function"},"install"),r(),n("span",{class:"token parameter variable"},"--locked"),r(" trunk                  "),n("span",{class:"token comment"},"# Trunk is a bundler for rust, a bit like webpack or parcel")]),r(`
`),n("span",{class:"line"},[r("rustup target "),n("span",{class:"token function"},"add"),r(" wasm32-unknown-unknown      "),n("span",{class:"token comment"},"# Install the wasm target, so we can compile to wasm")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token builtin class-name"},"cd"),r(" app                                        "),n("span",{class:"token comment"},"# The app folder contains the index.html file needed by trunk")]),r(`
`),n("span",{class:"line"},[r("trunk serve                                   "),n("span",{class:"token comment"},"# Compiles to wasm and serves on localhost:8080")])])],-1),Ew={__name:"11",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[_w,N(o,we({},{ranges:[""]}),{default:W(()=>[vw]),_:1},16),yw,ww,bw,xw,N(o,we({},{ranges:[""]}),{default:W(()=>[Sw]),_:1},16)]),_:1},16)}}},Ow=n("h1",null,"Create chat server package",-1),Mw=n("pre",{class:"slidev-code language-bash"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token function"},"cargo"),r(" new server")])])],-1),Cw=n("p",null,"You should see a warning like this:",-1),$w=n("blockquote",null,[n("p",null,"current package believes it\u2019s in a workspace when it\u2019s not:")],-1),Aw=n("p",null,"Add the package to the root Cargo.toml to fix it:",-1),Tw=n("pre",{class:"slidev-code language-toml"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"workspace"),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token key property"},"members"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token punctuation"},"[")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token string"},'"app"'),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token string"},'"models"'),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token string"},'"server"'),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"]")])])],-1),Rw=n("p",null,[r("Run it with "),n("code",null,"cargo run -p server")],-1),Pw={__name:"12",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Ow,N(o,we({},{ranges:[""]}),{default:W(()=>[Mw]),_:1},16),Cw,$w,Aw,N(o,we({},{ranges:[""]}),{default:W(()=>[Tw]),_:1},16),Rw]),_:1},16)}}},Iw=n("h1",null,"Add needed dependencies",-1),Lw=n("p",null,[r("Edit "),n("code",null,"server/Cargo.toml")],-1),jw=n("pre",{class:"slidev-code language-toml"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"dependencies"),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token key property"},"tokio"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token punctuation"},"{"),r(),n("span",{class:"token key property"},"version"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token string"},'"1"'),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token key property"},"features"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"full"'),n("span",{class:"token punctuation"},"]"),r(),n("span",{class:"token punctuation"},"}"),r("  "),n("span",{class:"token comment"},"# Async runtime for rust")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token key property"},"tungstenite"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token string"},'"0.17"'),r("                            "),n("span",{class:"token comment"},"# WebSocket server library")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token key property"},"tokio-tungstenite"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token string"},'"0.17"'),r("                      ")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token key property"},"serde"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token string"},'"1"'),r("                                     "),n("span",{class:"token comment"},"# Serialization")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token key property"},"serde_json"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token string"},'"1"'),r("                                "),n("span",{class:"token comment"},"# Json Serialization")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token key property"},"futures-util"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token string"},'"0.3"'),r("                            "),n("span",{class:"token comment"},"# Async utils")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token key property"},"models"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token punctuation"},"{"),r(),n("span",{class:"token key property"},"path"),r(),n("span",{class:"token punctuation"},"="),r(),n("span",{class:"token string"},'"../models"'),n("span",{class:"token punctuation"},"}"),r("                  "),n("span",{class:"token comment"},"# Contains models")])])],-1),Nw=n("p",null,"When you run again, it should automatically download and compile dependencies:",-1),Fw=n("pre",{class:"slidev-code language-bash"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token function"},"cargo"),r(" run "),n("span",{class:"token parameter variable"},"-p"),r(" server")])])],-1),Hw={__name:"13",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Iw,Lw,N(o,we({},{ranges:[""]}),{default:W(()=>[jw]),_:1},16),Nw,N(o,we({},{ranges:[""]}),{default:W(()=>[Fw]),_:1},16)]),_:1},16)}}},Dw=n("h1",null,"Open a tcp port",-1),Ww=n("p",null,[r("Edit "),n("code",null,"server/src/main.rs")],-1),Bw=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("std"),n("span",{class:"token punctuation"},"::"),r("io"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Error"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::"),r("net"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"TcpListener"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token comment"},"// Rust macro that creates a tokio async runtime")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token attribute attr-name"},"#[tokio::main]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"->"),r(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token class-name"},"Error"),n("span",{class:"token operator"},">"),r(),n("span",{class:"token punctuation"},"{"),r("              "),n("span",{class:"token comment"},"// Rust uses the Result enum for error handling")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" addr "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token string"},'"0.0.0.0:6789"'),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" listener "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token class-name"},"TcpListener"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"bind"),n("span",{class:"token punctuation"},"("),r("addr"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";"),r("  "),n("span",{class:"token comment"},"// ? accesses the value in the result or returns an error")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),r("                                          "),n("span",{class:"token comment"},"// Return Result::Ok with an empty tuple")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),Vw=n("p",null,"Rust has two string types:",-1),zw=n("ul",null,[n("li",null,"str: A fixed size, immutable string, mostly seen as &str"),n("li",null,[r("String: A mutable string type, a bit like Java\u2019s StringBuilder String literals are always &str, basically a reference into the programs binary. To get a String instance, call "),n("code",null,".to_string()")])],-1),Uw={__name:"14",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Dw,Ww,N(o,we({},{ranges:[""]}),{default:W(()=>[Bw]),_:1},16),Vw,zw]),_:1},16)}}},qw=n("h1",null,"Accept connections",-1),Kw=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("futures_util"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"TryStreamExt"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),r("                     "),n("span",{class:"token comment"},"// We must import the trait when using a trait's function")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"->"),r(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token class-name"},"Error"),n("span",{class:"token operator"},">"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"while"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),r("stream"),n("span",{class:"token punctuation"},","),r(" _"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" listener"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"accept"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"spawn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"accept_connection"),n("span",{class:"token punctuation"},"("),r("stream"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"accept_connection"),n("span",{class:"token punctuation"},"("),r("stream"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"TcpStream"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"->"),r(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token namespace"},[r("tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Error"),n("span",{class:"token operator"},">"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token keyword"},"mut"),r(" ws_stream "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("tokio_tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"accept_async"),n("span",{class:"token punctuation"},"("),r("stream"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token operator"},"?"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),r("message"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r("  ws_stream"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"try_next"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token operator"},"?"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"{:?}"'),n("span",{class:"token punctuation"},","),r(" message"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),Yw=n("p",null,"If you now run the server and the client, you should be able to connect and the server should log messages you send.",-1),Zw={__name:"15",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[qw,N(o,we({},{ranges:[""]}),{default:W(()=>[Kw]),_:1},16),Yw]),_:1},16)}}},Jw=n("h1",null,"The Protocol",-1),Gw=n("p",null,[r("To underdstand how server and client communicate, let\u2019s take a look at "),n("code",null,"models/src/lib.rs"),r(":")],-1),Qw=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("serde"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"Deserialize"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token class-name"},"Serialize"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),r("                "),n("span",{class:"token comment"},"// Serde is a de/serialization crate for rust")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token attribute attr-name"},"#[derive(Serialize, Deserialize, Debug, Clone)]"),r("     "),n("span",{class:"token comment"},"// Macro that adds implementation for a trait")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token attribute attr-name"},[r("#[serde(tag = "),n("span",{class:"token string"},'"type"'),r(")]")]),r("                              "),n("span",{class:"token comment"},'// Json objects will have a e.g. "type": "Connect" field')]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"enum"),r(),n("span",{class:"token type-definition class-name"},"ClientMessage"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token class-name"},"SendMessage"),r(),n("span",{class:"token punctuation"},"{"),r("                                   ")]),r(`
`),n("span",{class:"line"},[r("        text"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token class-name"},"Connect"),r(),n("span",{class:"token punctuation"},"{"),r("                                       "),n("span",{class:"token comment"},"// Sent after connecting to the server")]),r(`
`),n("span",{class:"line"},[r("        room"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},","),r("                               ")]),r(`
`),n("span",{class:"line"},[r("        user"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),Xw={__name:"16",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Jw,Gw,N(o,we({},{ranges:[""]}),{default:W(()=>[Qw]),_:1},16)]),_:1},16)}}},eb=n("h1",null,"Deserialize Messages",-1),nb=n("p",null,"Let\u2019s parse the received messages with serde_json and get the value with pattern matching:",-1),tb=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("models"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),r("message"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r("  ws_stream"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"try_next"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token operator"},"?"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token namespace"},[r("tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Message"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Text"),n("span",{class:"token punctuation"},"("),r("text"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" message "),n("span",{class:"token punctuation"},"{"),r("                         "),n("span",{class:"token comment"},"// Get the ws message text content")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),r("message"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("serde_json"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"from_str"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),r("text"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{"),r("     "),n("span",{class:"token comment"},"// Parse json")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Connect"),r(),n("span",{class:"token punctuation"},"{"),r(" room"),n("span",{class:"token punctuation"},","),r(" user "),n("span",{class:"token punctuation"},"}"),r(),n("span",{class:"token operator"},"="),r(" message "),n("span",{class:"token punctuation"},"{"),r("            "),n("span",{class:"token comment"},"// Check if msg is of type Connect")]),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"{user} is trying to join {room}"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")])])],-1),sb=r(" One can also match nested structs: "),ab=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token namespace"},[r("tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Message"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Text"),n("span",{class:"token punctuation"},"("),r("text"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" ws_stream"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"try_next"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token operator"},"?"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Connect"),r(),n("span",{class:"token punctuation"},"{"),r(" room"),n("span",{class:"token punctuation"},","),r(" user "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("serde_json"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"from_str"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),r("text"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"{user} is trying to join {room}"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")])])],-1),ob={__name:"17",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[eb,nb,N(o,we({},{ranges:["1,5-11"]}),{default:W(()=>[tb]),_:1},16),sb,N(o,we({},{ranges:[""]}),{default:W(()=>[ab]),_:1},16)]),_:1},16)}}},rb=n("h1",null,"Room and connection modules",-1),lb=n("p",null,"We\u2019ll create a new module for the room and for the connection related code:",-1),cb=n("ul",null,[n("li",null,[r("Create the files "),n("code",null,"room.rs"),r(" and "),n("code",null,"connection.rs"),r(".")]),n("li",null,[r("Add the modules to the top of "),n("code",null,"main.rs"),r(":")])],-1),ib=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"mod"),r(),n("span",{class:"token module-declaration namespace"},"room"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"mod"),r(),n("span",{class:"token module-declaration namespace"},"connection"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("std"),n("span",{class:"token punctuation"},"::"),r("io"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Error"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")])])],-1),ub={__name:"18",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[rb,lb,cb,N(o,we({},{ranges:[""]}),{default:W(()=>[ib]),_:1},16)]),_:1},16)}}},pb=n("h1",null,"Actor pattern",-1),fb=n("ul",null,[n("li",null,"Actors and Handles"),n("li",null,"Actors run in their own task, thread or even on a seperate server"),n("li",null,"Handles and actors communicate via message passing")],-1),db=n("br",null,null,-1),hb=n("br",null,null,-1),mb=n("h3",null,"-> Our rooms will be actors",-1),kb={__name:"19",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[pb,fb,db,hb,mb]),_:1},16))}},gb=n("h1",null,"Room actor",-1),_b=n("p",null,[r("Add structs and enums for the room actor in "),n("code",null,"room.rs"),r(":")],-1),vb=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("std"),n("span",{class:"token punctuation"},"::"),r("collections"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"HashMap"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::"),r("sync"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),r("mpsc"),n("span",{class:"token punctuation"},","),r(" oneshot"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("models"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token keyword"},"crate"),n("span",{class:"token module-declaration namespace"},[n("span",{class:"token punctuation"},"::"),r("connection"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Connection"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token attribute attr-name"},"#[derive(Debug)]"),r("                                    "),n("span",{class:"token comment"},'// Needed so we can printlin!("{:?}", message);')]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"enum"),r(),n("span",{class:"token type-definition class-name"},"RoomMessage"),r(),n("span",{class:"token punctuation"},"{"),r("                                  "),n("span",{class:"token comment"},"// Handle and actor will communicate with this enum")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token class-name"},"Join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Connection"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token namespace"},[r("oneshot"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Sender"),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"u64"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),r("         "),n("span",{class:"token comment"},"// Oneshot channels can only send a single message")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token class-name"},"Leave"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"u64"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"struct"),r(),n("span",{class:"token type-definition class-name"},"RoomActor"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    rx"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token namespace"},[r("mpsc"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Receiver"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),r("                "),n("span",{class:"token comment"},"// Multiple Producer Single Consumer channel for message passing")]),r(`
`),n("span",{class:"line"},[r("                                                    "),n("span",{class:"token comment"},"// The actor is the consumer")]),r(`
`),n("span",{class:"line"},[r("    next_connection_id"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token keyword"},"u64"),n("span",{class:"token punctuation"},","),r("                        "),n("span",{class:"token comment"},"// We'll generate a connection id for each user")]),r(`
`),n("span",{class:"line"},[r("    users"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"HashMap"),n("span",{class:"token operator"},"<"),n("span",{class:"token keyword"},"u64"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token class-name"},"Connection"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token attribute attr-name"},"#[derive(Clone)]"),r("                                    "),n("span",{class:"token comment"},"// We should be able to clone the handle")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"struct"),r(),n("span",{class:"token type-definition class-name"},"RoomHandle"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    tx"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token namespace"},[r("mpsc"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Sender"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},","),r("                  "),n("span",{class:"token comment"},"// The handle is the producer")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),yb={__name:"20",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[gb,_b,N(o,we({},{ranges:[""]}),{default:W(()=>[vb]),_:1},16)]),_:1},16)}}},wb=n("h1",null,"Connection struct",-1),bb=n("p",null,[r("Add a connection struct to "),n("code",null,"connection.rs"),r(":")],-1),xb=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::"),r("sync"),n("span",{class:"token punctuation"},"::")]),r("mpsc"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token attribute attr-name"},"#[derive(Debug)]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"struct"),r(),n("span",{class:"token type-definition class-name"},"Connection"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(" user"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(" sender"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token namespace"},[r("mpsc"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Sender"),n("span",{class:"token operator"},"<"),n("span",{class:"token namespace"},[r("tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Message"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),Sb={__name:"21",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[wb,bb,N(o,we({},{ranges:[""]}),{default:W(()=>[xb]),_:1},16)]),_:1},16)}}},Eb=n("h1",null,"Room actor impl",-1),Ob=n("p",null,"In rust, a struct\u2019s functions are in an impl block. Add a run function to the actor:",-1),Mb=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"impl"),r(),n("span",{class:"token class-name"},"RoomActor"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"mut"),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"while"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),r("msg"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("rx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"recv"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"match"),r(" msg "),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Join"),n("span",{class:"token punctuation"},"("),r("connection"),n("span",{class:"token punctuation"},","),r(" send_conn_id"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"=>"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"User {} joined"'),n("span",{class:"token punctuation"},","),r(" connection"),n("span",{class:"token punctuation"},"."),r("user"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},"                    "),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("users"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("next_connection_id"),n("span",{class:"token punctuation"},","),r(" connection"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("                    send_conn_id"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("next_connection_id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("next_connection_id "),n("span",{class:"token operator"},"+="),r(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("                _ "),n("span",{class:"token operator"},"=>"),r(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r("             "),n("span",{class:"token comment"},"// We'll handle the other cases later")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),Cb={__name:"22",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[Eb,Ob,Mb]),_:1},16))}},$b=n("h1",null,"Room handle impl",-1),Ab=n("p",null,"Add a new fn to the room handle. It will spawn a new task and run the actor, then return the room handle.",-1),Tb=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"impl"),r(),n("span",{class:"token class-name"},"RoomHandle"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"->"),r(),n("span",{class:"token keyword"},"Self"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token punctuation"},"("),r("tx"),n("span",{class:"token punctuation"},","),r(" rx"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("mpsc"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"channel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),r("      "),n("span",{class:"token comment"},"// channel buffer size, 100 worked well during load testing")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token keyword"},"mut"),r(" actor "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token class-name"},"RoomActor"),r(),n("span",{class:"token punctuation"},"{"),r("             ")]),r(`
`),n("span",{class:"line"},[r("            rx"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("            users"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"HashMap"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("            next_connection_id"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"spawn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"move"),r(),n("span",{class:"token punctuation"},"{"),r("               "),n("span",{class:"token comment"},"// Spawn a new tokio task, so the actor can run in parallel")]),r(`
`),n("span",{class:"line"},[r("            actor"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token class-name"},"RoomHandle"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            tx"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),Rb={__name:"23",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[$b,Ab,N(o,we({},{ranges:[""]}),{default:W(()=>[Tb]),_:1},16)]),_:1},16)}}},Pb=n("h1",null,"Room join function",-1),Ib=n("p",null,"Add a function to the Room Handle that let\u2019s people join rooms.",-1),Lb=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::"),r("net"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"TcpStream"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("tokio_tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"WebSocketStream"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"impl"),r(),n("span",{class:"token class-name"},"RoomHandle"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},","),r(" user"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},","),r(" stream"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"WebSocketStream"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"TcpStream"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token punctuation"},"("),r("conn_id_tx"),n("span",{class:"token punctuation"},","),r(" conn_id_rx"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("oneshot"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"channel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token punctuation"},"("),r("sender_tx"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token keyword"},"mut"),r(" sender_rx"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("mpsc"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"channel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("tx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Connection"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            sender"),n("span",{class:"token punctuation"},":"),r(" sender_tx"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("            user"),n("span",{class:"token punctuation"},":"),r(" user"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),r(" conn_id_tx"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"let"),r(" conn_id "),n("span",{class:"token operator"},"="),r(" conn_id_rx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token macro property"},"println!"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"{user} successfully joined room with user id {conn_id}"'),n("span",{class:"token punctuation"},")")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),jb={__name:"24",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Pb,Ib,N(o,we({},{ranges:["1-2,8-19"]}),{default:W(()=>[Lb]),_:1},16)]),_:1},16)}}},Nb=n("h1",null,"Global room state",-1),Fb=n("p",null,[r("To store our rooms, well use an "),n("code",null,"Arc<Mutex<HashMap<String, RoomHandle>>"),r(".")],-1),Hb=n("ul",null,[n("li",null,"Arc is an atomic reference count"),n("li",null,"Mutex is a lock")],-1),Db=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("std"),n("span",{class:"token punctuation"},"::"),r("collections"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"HashMap"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("std"),n("span",{class:"token punctuation"},"::"),r("sync"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"Arc"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token class-name"},"Mutex"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token keyword"},"crate"),n("span",{class:"token module-declaration namespace"},[n("span",{class:"token punctuation"},"::"),r("room"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"RoomHandle"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"type"),r(),n("span",{class:"token type-definition class-name"},"Rooms"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token class-name"},"Arc"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"Mutex"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"HashMap"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token class-name"},"RoomHandle"),n("span",{class:"token operator"},">>"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},";"),r("               "),n("span",{class:"token comment"},"// We can define a type")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"->"),r(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token class-name"},"Error"),n("span",{class:"token operator"},">"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" rooms "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token class-name"},"Arc"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Mutex"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"HashMap"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"while"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),r("stream"),n("span",{class:"token punctuation"},","),r(" _"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" listener"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"accept"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"spawn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"accept_connection"),n("span",{class:"token punctuation"},"("),r("stream"),n("span",{class:"token punctuation"},","),r(" rooms"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),r("     "),n("span",{class:"token comment"},"// Clone the Arc to get a new reference")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}"),r("                                                               "),n("span",{class:"token comment"},"// and pass it to the accept_connection function")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),Wb={__name:"25",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Nb,Fb,Hb,N(o,we({},{ranges:["2-6,10-14"]}),{default:W(()=>[Db]),_:1},16)]),_:1},16)}}},Bb=n("h1",null,"Global room state II",-1),Vb=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"accept_connection"),n("span",{class:"token punctuation"},"("),r("stream"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"TcpStream"),n("span",{class:"token punctuation"},","),r(" rooms"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"Rooms"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"->"),r(),n("span",{class:"token class-name"},"Result"),n("span",{class:"token operator"},"<"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token namespace"},[r("tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Error"),n("span",{class:"token operator"},">"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token namespace"},[r("tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Message"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Text"),n("span",{class:"token punctuation"},"("),r("text"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" ws_stream"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"try_next"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token operator"},"?"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Connect"),r(),n("span",{class:"token punctuation"},"{"),r(" room"),n("span",{class:"token punctuation"},","),r(" user "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("serde_json"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"from_str"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),r("text"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"let"),r(" handle "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token keyword"},"mut"),r(" rooms "),n("span",{class:"token operator"},"="),r(" rooms"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"lock"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),r("              "),n("span",{class:"token comment"},"// Lock the room mutex to get the HashMap")]),r(`
`),n("span",{class:"line"},"                rooms"),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"entry"),n("span",{class:"token punctuation"},"("),r("room"),n("span",{class:"token punctuation"},")")]),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"or_insert_with"),n("span",{class:"token punctuation"},"("),n("span",{class:"token closure-params"},[n("span",{class:"token closure-punctuation punctuation"},"|"),n("span",{class:"token closure-punctuation punctuation"},"|")]),r(),n("span",{class:"token class-name"},"RoomHandle"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r("   "),n("span",{class:"token comment"},"// Clone the room because the reference can't ")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),r("                                                      "),n("span",{class:"token comment"},"// be held across an .await")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("            handle"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),r("user"),n("span",{class:"token punctuation"},","),r(" ws_stream"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),zb=n("p",null,"When joining a room you should now see the following logs on the server:",-1),Ub=n("pre",{class:"slidev-code language-bash"},[n("code",null,[n("span",{class:"line"},"User lucas2 joined"),r(`
`),n("span",{class:"line"},[r("lucas2 successfully joined room with user "),n("span",{class:"token function"},"id"),r(),n("span",{class:"token number"},"0")])])],-1),qb={__name:"26",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Bb,N(o,we({},{ranges:["5-12"]}),{default:W(()=>[Vb]),_:1},16),zb,N(o,we({},{ranges:[""]}),{default:W(()=>[Ub]),_:1},16)]),_:1},16)}}},Kb=n("h1",null,"Sending Messages",-1),Yb=n("p",null,[r("We\u2019ll start a new task to send messages recieved through the "),n("code",null,"sender_rx"),r(" channel")],-1),Zb=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("futures_util"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"SinkExt"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"impl"),r(),n("span",{class:"token class-name"},"RoomHandle"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},","),r(" user"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},","),r(" stream"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"WebSocketStream"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"TcpStream"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"mut"),r(" ws_tx"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token keyword"},"mut"),r(" ws_rx"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" stream"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"split"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),r("                                    ")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"let"),r(" actor_tx "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("tx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),r("                         "),n("span",{class:"token comment"},"// Clone tx so it can be moved into task")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"spawn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"move"),r(),n("span",{class:"token punctuation"},"{"),r("                               "),n("span",{class:"token comment"},"// Spawn new task to send messages")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"while"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),r("msg"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" sender_rx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"recv"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Err"),n("span",{class:"token punctuation"},"("),r("_"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" ws_tx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),r("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),r(),n("span",{class:"token punctuation"},"{"),r("         "),n("span",{class:"token comment"},"// Kick the user if there was an error")]),r(`
`),n("span",{class:"line"},[r("                    actor_tx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Leave"),n("span",{class:"token punctuation"},"("),r("conn_id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),Jb={__name:"27",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Kb,Yb,N(o,we({},{ranges:[""]}),{default:W(()=>[Zb]),_:1},16)]),_:1},16)}}},Gb=n("h1",null,"Sending Messages II",-1),Qb=n("p",null,"Add a broadcast function that sends messages to all users",-1),Xb=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"use"),r(),n("span",{class:"token namespace"},[r("models"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token punctuation"},"{"),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token class-name"},"ServerMessage"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"impl"),r(),n("span",{class:"token class-name"},"RoomActor"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"broadcast"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"mut"),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},","),r(" msg"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"ServerMessage"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),r("json"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("serde_json"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),r("msg"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{"),r("             "),n("span",{class:"token comment"},"// Convert our message to json")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"for"),r(" connection "),n("span",{class:"token keyword"},"in"),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("users"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"values"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                connection"),n("span",{class:"token punctuation"},"."),r("sender"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token namespace"},[r("tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Message"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Text"),n("span",{class:"token punctuation"},"("),r("json"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),ex={__name:"28",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Gb,Qb,N(o,we({},{ranges:["1,4-14"]}),{default:W(()=>[Xb]),_:1},16)]),_:1},16)}}},nx=n("h1",null,"Sending Messages III",-1),tx=n("p",null,"Update the Join handle to send a join message",-1),sx=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"impl"),r(),n("span",{class:"token class-name"},"RoomActor"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"mut"),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"while"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),r("msg"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("rx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"recv"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"match"),r(" msg "),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Join"),n("span",{class:"token punctuation"},"("),r("connection"),n("span",{class:"token punctuation"},","),r(" send_conn_id"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"=>"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token keyword"},"let"),r(" user "),n("span",{class:"token operator"},"="),r(" connection"),n("span",{class:"token punctuation"},"."),r("user"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"broadcast"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"ServerMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Joined"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                        user"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),ax=n("p",null,[r("Now when joining a room you should see "),n("code",null,"<user> joined the room"),r(" in the app")],-1),ox={__name:"29",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[nx,tx,N(o,we({},{ranges:["6,10-12"]}),{default:W(()=>[sx]),_:1},16),ax]),_:1},16)}}},rx=n("h1",null,"Sending Chat Messages",-1),lx=n("p",null,"If the user sends a SendMessage message we\u2019ll broadcast it to all room members",-1),cx=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"impl"),r(),n("span",{class:"token class-name"},"RoomActor"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"mut"),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"while"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),r("msg"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("rx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"recv"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"match"),r(" msg "),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"SendMessage"),r(),n("span",{class:"token punctuation"},"{"),r(" text "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),r(" user"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"=>"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"broadcast"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"ServerMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Message"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                        text"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("                        user"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),ix=n("p",null,"We still need to read messages sent by the client",-1),ux={__name:"30",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[rx,lx,N(o,we({},{ranges:["6-11"]}),{default:W(()=>[cx]),_:1},16),ix]),_:1},16)}}},px=n("h1",null,"Sending Chat Messages II",-1),fx=n("p",null,"Spawn another task that listens for new messages from the client and sends them to the actor",-1),dx=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"impl"),r(),n("span",{class:"token class-name"},"RoomHandle"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},","),r(" user"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},","),r(" stream"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"WebSocketStream"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"TcpStream"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},"        "),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"spawn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"move"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"while"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),n("span",{class:"token namespace"},[r("tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Message"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Text"),n("span",{class:"token punctuation"},"("),r("text"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" ws_rx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"next"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Ok"),n("span",{class:"token punctuation"},"("),r("value"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("serde_json"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"from_str"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token operator"},"<"),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),r("text"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                    actor_tx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"ClientMessage"),n("span",{class:"token punctuation"},"("),r("value"),n("span",{class:"token punctuation"},","),r(" user"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"clone"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("            actor_tx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Leave"),n("span",{class:"token punctuation"},"("),r("conn_id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),hx=n("p",null,"We can now send and receive chat messages! Yay!",-1),mx={__name:"31",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[px,fx,N(o,we({},{ranges:[""]}),{default:W(()=>[dx]),_:1},16),hx]),_:1},16)}}},kx=n("h1",null,"Remove users",-1),gx=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token keyword"},"impl"),r(),n("span",{class:"token class-name"},"RoomActor"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"pub"),r(),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"mut"),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"while"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),r("msg"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("rx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"recv"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"match"),r(" msg "),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Leave"),n("span",{class:"token punctuation"},"("),r("conn_id"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"=>"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                    "),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove_user"),n("span",{class:"token punctuation"},"("),r("conn_id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("                "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("                _ "),n("span",{class:"token operator"},"=>"),r(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r("                                 "),n("span",{class:"token comment"},"// This needs to stay because we didn't handle the ")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}"),r("                                           "),n("span",{class:"token comment"},"// RoomMessage::ClientMessage(ClientMessage::Connect) case")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"..."),n("span",{class:"token punctuation"},"]")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"remove_user"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),n("span",{class:"token keyword"},"mut"),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},","),r(" conn_id"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token keyword"},"u64"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"let"),r(" connection "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),r("users"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"&"),r("conn_id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token keyword"},"if"),r(),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token class-name"},"Some"),n("span",{class:"token punctuation"},"("),r("connection"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(" connection "),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token keyword"},"self"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"broadcast"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"ServerMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Left"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("                user"),n("span",{class:"token punctuation"},":"),r(" connection"),n("span",{class:"token punctuation"},"."),r("user"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("            "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("        "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),_x={__name:"32",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[kx,N(o,we({},{ranges:[""]}),{default:W(()=>[gx]),_:1},16)]),_:1},16)}}},vx=n("h1",null,"We\u2019re done!",-1),yx=n("p",null,"Things that could be improved upon:",-1),wx=n("ul",null,[n("li",null,"Remove empty chat rooms"),n("li",null,"Authentication, user list, etc"),n("li",null,"Move connection logic into another actor")],-1),bx={__name:"33",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[vx,yx,wx]),_:1},16))}},xx=n("h1",null,"Further Reading",-1),Sx=n("ul",null,[n("li",null,[n("a",{href:"https://doc.rust-lang.org/book/",target:"_blank",rel:"noopener"},"https://doc.rust-lang.org/book/"),n("ul",null,[n("li",null,"Especially the chapter about ownership")])]),n("li",null,[n("a",{href:"https://ryhl.io/blog/actors-with-tokio/",target:"_blank",rel:"noopener"},"https://ryhl.io/blog/actors-with-tokio/"),n("ul",null,[n("li",null,"Blog post about actors with rust")])])],-1),Ex={__name:"34",setup(e){const t={};return B(Y),(s,a)=>(O(),q(ke,he(fe(t)),{default:W(()=>[xx,Sx]),_:1},16))}},Ox=n("h1",null,"Testing",-1),Mx=n("p",null,"Tests in Rust are written in the same File as the code it\u2019s testing. A simple test looks like this:",-1),Cx=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token attribute attr-name"},"#[cfg(test)]")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"mod"),r(),n("span",{class:"token module-declaration namespace"},"tests"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token attribute attr-name"},"#[test]")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"it_works"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token keyword"},"let"),r(" result "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token number"},"2"),r(),n("span",{class:"token operator"},"+"),r(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("    "),n("span",{class:"token macro property"},"assert_eq!"),n("span",{class:"token punctuation"},"("),r("result"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token number"},"4"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token punctuation"},"}")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),$x=n("p",null,"The module is optional, it can include helper functions, e.g. for test setup logic.",-1),Ax={__name:"35",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Ox,Mx,N(o,we({},{ranges:[""]}),{default:W(()=>[Cx]),_:1},16),$x]),_:1},16)}}},Tx=n("h1",null,"Example Test",-1),Rx=n("pre",{class:"slidev-code language-rust"},[n("code",null,[n("span",{class:"line"},[n("span",{class:"token attribute attr-name"},"#[tokio::test]"),r("                                  "),n("span",{class:"token comment"},"// ")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"fn"),r(),n("span",{class:"token function-definition function"},"room_actor_join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token punctuation"},"{"),r("                    "),n("span",{class:"token comment"},"// ")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token punctuation"},"("),r("tx"),n("span",{class:"token punctuation"},","),r(" rx"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("mpsc"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"channel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token keyword"},"mut"),r(" actor "),n("span",{class:"token operator"},"="),r(),n("span",{class:"token class-name"},"RoomActor"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    rx"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    next_connection_id"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    users"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token class-name"},"HashMap"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token function"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token namespace"},[r("tokio"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"spawn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"async"),r(),n("span",{class:"token keyword"},"move"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    actor"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"run"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token punctuation"},"("),r("ws_tx"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token keyword"},"mut"),r(" ws_rx"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("mpsc"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"channel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token keyword"},"let"),r(),n("span",{class:"token punctuation"},"("),r("join_tx"),n("span",{class:"token punctuation"},","),r(" join_rx"),n("span",{class:"token punctuation"},")"),r(),n("span",{class:"token operator"},"="),r(),n("span",{class:"token namespace"},[r("oneshot"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token function"},"channel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("  tx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"send"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"RoomMessage"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Connection"),r(),n("span",{class:"token punctuation"},"{")]),r(`
`),n("span",{class:"line"},[r("    user"),n("span",{class:"token punctuation"},":"),r(),n("span",{class:"token string"},'"test"'),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("    sender"),n("span",{class:"token punctuation"},":"),r(" ws_tx"),n("span",{class:"token punctuation"},",")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),r(" join_tx"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"}),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token keyword"},"let"),r(" conn_id "),n("span",{class:"token operator"},"="),r(" join_rx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token macro property"},"assert_eq!"),n("span",{class:"token punctuation"},"("),r("conn_id"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";")]),r(`
`),n("span",{class:"line"},[r("  "),n("span",{class:"token macro property"},"assert_eq!"),n("span",{class:"token punctuation"},"("),r("ws_rx"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"recv"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"await"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"unwrap"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),r(),n("span",{class:"token namespace"},[r("tungstenite"),n("span",{class:"token punctuation"},"::")]),n("span",{class:"token class-name"},"Message"),n("span",{class:"token punctuation"},"::"),n("span",{class:"token class-name"},"Text"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'r#"{"type":"Joined","user":"test"}"#'),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"to_string"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")")]),r(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")])])],-1),Px={__name:"36",setup(e){const t={};return B(Y),(s,a)=>{const o=Fe;return O(),q(ke,he(fe(t)),{default:W(()=>[Tx,N(o,we({},{ranges:[""]}),{default:W(()=>[Rx]),_:1},16)]),_:1},16)}}},Ix=[{path:"1",name:"page-1",component:sy,meta:{title:"How to build a Rust Chat Server",slide:{raw:`# How to build a Rust Chat Server
`,title:"How to build a Rust Chat Server",level:1,content:"# How to build a Rust Chat Server",frontmatter:{title:"How to build a Rust Chat Server"},index:0,start:0,end:2,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:ly,meta:{slide:{raw:`
# About me
- Name: Lucas Meurer
- Working for newcubator since 2020
- Made:
  - Android Apps: 
    - https://play.google.com/store/apps/developer?id=Lucas+Meurer
  - https://malmal.io
    - Made using lots of TypeScript
  - https://hellopaint.io
    - Lots of TypeScript and Rust
  - https://hurlurl.com
    - Pure Rust
`,title:"About me",level:1,content:`# About me
- Name: Lucas Meurer
- Working for newcubator since 2020
- Made:
  - Android Apps: 
    - https://play.google.com/store/apps/developer?id=Lucas+Meurer
  - https://malmal.io
    - Made using lots of TypeScript
  - https://hellopaint.io
    - Lots of TypeScript and Rust
  - https://hurlurl.com
    - Pure Rust`,frontmatter:{},index:1,start:3,end:17,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:uy,meta:{slide:{raw:`
# Why I learned Rust

- I needed a performant, crash resistant and safe backend for HelloPaint 
- Previous backend in Go was
  - Also fast
  - Did crash from time to time
  - Not fun to work with (I personally dislike Go)
`,title:"Why I learned Rust",level:1,content:`# Why I learned Rust

- I needed a performant, crash resistant and safe backend for HelloPaint 
- Previous backend in Go was
  - Also fast
  - Did crash from time to time
  - Not fun to work with (I personally dislike Go)`,frontmatter:{},index:2,start:18,end:27,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:dy,meta:{slide:{raw:`
# Questions

- Who has heard of Rust before?
- Who has tried Rust before?
  - How'd it go?
`,title:"Questions",level:1,content:`# Questions

- Who has heard of Rust before?
- Who has tried Rust before?
  - How'd it go?`,frontmatter:{},index:3,start:28,end:35,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:ky,meta:{slide:{raw:`
# End Goal

- We'll build a working chat server with group chats
- We'll learn basics about rust and rust concurrency
`,title:"End Goal",level:1,content:`# End Goal

- We'll build a working chat server with group chats
- We'll learn basics about rust and rust concurrency`,frontmatter:{},index:4,start:36,end:42,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:wy,meta:{slide:{raw:`
# Rust Setup

Install rust via https://rustup.rs/

Optional: Install Extension for your favourite IDE
 - https://www.jetbrains.com/de-de/rust/
 - https://code.visualstudio.com/docs/languages/rust`,title:"Rust Setup",level:1,content:`# Rust Setup

Install rust via https://rustup.rs/

Optional: Install Extension for your favourite IDE
 - https://www.jetbrains.com/de-de/rust/
 - https://code.visualstudio.com/docs/languages/rust`,frontmatter:{},index:5,start:43,end:51,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:Oy,meta:{slide:{raw:`
# Some Rust basics
While rust is installing, let's talk about Ownership
> Ownership is Rust\u2019s most unique feature
> 
> ~ *rust book*


- Rust has no garbage collector
- To be memory safe, rust has the ownership model
- Every value has an *owner*
- There can only be one owner
- The value is dropped when the owner goes out of scope
`,title:"Some Rust basics",level:1,content:`# Some Rust basics
While rust is installing, let's talk about Ownership
> Ownership is Rust\u2019s most unique feature
> 
> ~ *rust book*


- Rust has no garbage collector
- To be memory safe, rust has the ownership model
- Every value has an *owner*
- There can only be one owner
- The value is dropped when the owner goes out of scope`,frontmatter:{},index:6,start:52,end:66,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:rw,meta:{slide:{raw:`
# Borrowing
- We can borrow a value from an owner to get a reference
- A reference is a bit like a pointer
- There can only be one mutable reference or multiple immutable references

\`\`\`rust
fn main() {
    let static_string = "Hello";                                // &str, static reference
    let mut hello = static_string.to_string();                  // String, owner
    let ref_1 = &hello;                                         // &String, reference
    let ref_2 = &hello;                                         // &String, reference
    // This will be an error because hello is already borrowed
    let mut_ref = &mut hello;                                   // &mut String, mutable reference
    println!("{hello}, {ref_1}, {ref_2}, {mut_ref}");
    mut_ref.push_str(" World"); 
}
\`\`\`
`,title:"Borrowing",level:1,content:`# Borrowing
- We can borrow a value from an owner to get a reference
- A reference is a bit like a pointer
- There can only be one mutable reference or multiple immutable references

\`\`\`rust
fn main() {
    let static_string = "Hello";                                // &str, static reference
    let mut hello = static_string.to_string();                  // String, owner
    let ref_1 = &hello;                                         // &String, reference
    let ref_2 = &hello;                                         // &String, reference
    // This will be an error because hello is already borrowed
    let mut_ref = &mut hello;                                   // &mut String, mutable reference
    println!("{hello}, {ref_1}, {ref_2}, {mut_ref}");
    mut_ref.push_str(" World"); 
}
\`\`\``,frontmatter:{},index:7,start:67,end:86,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:fw,meta:{slide:{raw:`
# Traits
Traits are similar to interfaces in other languages
- We won't write our own traits in this workshop but we'll use some built in traits
- Often encountered traits are Clone, Debug, Serialize, Deserialize
- Some traits can be implemented with a derive macro:

\`\`\`rust
#[derive(Clone, Debug)]             // Adds implementations for Clone and Debug traits
struct Test {
    text: String,                   // This only works if every member also implements Clone and Debug
}

fn main() {
    let test = Test {
        text: "Hello".to_string(),
    };
    println!("{test:?}");           // Will print: Test { text: "Hello" }
    let clone = test.clone();       // Calls clone on all members
}
\`\`\`

Instead of using derive we could also add a custom implementation for a trait, e.g. to customize println format.
`,title:"Traits",level:1,content:`# Traits
Traits are similar to interfaces in other languages
- We won't write our own traits in this workshop but we'll use some built in traits
- Often encountered traits are Clone, Debug, Serialize, Deserialize
- Some traits can be implemented with a derive macro:

\`\`\`rust
#[derive(Clone, Debug)]             // Adds implementations for Clone and Debug traits
struct Test {
    text: String,                   // This only works if every member also implements Clone and Debug
}

fn main() {
    let test = Test {
        text: "Hello".to_string(),
    };
    println!("{test:?}");           // Will print: Test { text: "Hello" }
    let clone = test.clone();       // Calls clone on all members
}
\`\`\`

Instead of using derive we could also add a custom implementation for a trait, e.g. to customize println format.`,frontmatter:{},index:8,start:87,end:111,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:gw,meta:{slide:{raw:`
# Checkout the github repo
Contains a cargo workspace with the chat ui
https://github.com/lucasmerlin/rust-chat-app
- cargo is rusts package manager, like npm
- cargo workspaces is similar to nx, lerna, turborepo
\`\`\`bash 
\u251C\u2500\u2500 Cargo.lock             # Dependency lock file
\u251C\u2500\u2500 Cargo.toml             # Workspace configuration
\u2514\u2500\u2500 app                    # Ui package
    \u251C\u2500\u2500 Cargo.toml         # Project configuration
    \u2514\u2500\u2500 src
        \u251C\u2500\u2500 chat_ui.rs
        \u251C\u2500\u2500 connection.rs
        \u251C\u2500\u2500 main.rs
        \u2514\u2500\u2500 models.rs
\`\`\``,title:"Checkout the github repo",level:1,content:`# Checkout the github repo
Contains a cargo workspace with the chat ui
https://github.com/lucasmerlin/rust-chat-app
- cargo is rusts package manager, like npm
- cargo workspaces is similar to nx, lerna, turborepo
\`\`\`bash 
\u251C\u2500\u2500 Cargo.lock             # Dependency lock file
\u251C\u2500\u2500 Cargo.toml             # Workspace configuration
\u2514\u2500\u2500 app                    # Ui package
    \u251C\u2500\u2500 Cargo.toml         # Project configuration
    \u2514\u2500\u2500 src
        \u251C\u2500\u2500 chat_ui.rs
        \u251C\u2500\u2500 connection.rs
        \u251C\u2500\u2500 main.rs
        \u2514\u2500\u2500 models.rs
\`\`\``,frontmatter:{},index:9,start:112,end:129,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:Ew,meta:{slide:{raw:`
# Start the existing ui

\`\`\`bash
cargo run -p app                              # Runs the package "app"
\`\`\`

You should now see the chat ui.

#### -- OR --
<br>

# Start the web app
\`\`\`bash
cargo install --locked trunk                  # Trunk is a bundler for rust, a bit like webpack or parcel
rustup target add wasm32-unknown-unknown      # Install the wasm target, so we can compile to wasm

cd app                                        # The app folder contains the index.html file needed by trunk
trunk serve                                   # Compiles to wasm and serves on localhost:8080
\`\`\`
`,title:"Start the existing ui",level:1,content:`# Start the existing ui

\`\`\`bash
cargo run -p app                              # Runs the package "app"
\`\`\`

You should now see the chat ui.

#### -- OR --
<br>

# Start the web app
\`\`\`bash
cargo install --locked trunk                  # Trunk is a bundler for rust, a bit like webpack or parcel
rustup target add wasm32-unknown-unknown      # Install the wasm target, so we can compile to wasm

cd app                                        # The app folder contains the index.html file needed by trunk
trunk serve                                   # Compiles to wasm and serves on localhost:8080
\`\`\``,frontmatter:{},index:10,start:130,end:151,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:Pw,meta:{slide:{raw:`
# Create chat server package

\`\`\`bash
cargo new server
\`\`\`

You should see a warning like this:
> current package believes it's in a workspace when it's not:

Add the package to the root Cargo.toml to fix it:
\`\`\`toml
[workspace]

members = [
    "app",
    "models",
    "server",
]
\`\`\`

Run it with \`cargo run -p server\`
`,title:"Create chat server package",level:1,content:`# Create chat server package

\`\`\`bash
cargo new server
\`\`\`

You should see a warning like this:
> current package believes it's in a workspace when it's not:

Add the package to the root Cargo.toml to fix it:
\`\`\`toml
[workspace]

members = [
    "app",
    "models",
    "server",
]
\`\`\`

Run it with \`cargo run -p server\``,frontmatter:{},index:11,start:152,end:175,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:Hw,meta:{slide:{raw:`
# Add needed dependencies

Edit \`server/Cargo.toml\`
\`\`\`toml
[dependencies]
tokio = { version = "1", features = ["full"] }  # Async runtime for rust
tungstenite = "0.17"                            # WebSocket server library
tokio-tungstenite = "0.17"                      
serde = "1"                                     # Serialization
serde_json = "1"                                # Json Serialization
futures-util = "0.3"                            # Async utils

models = { path = "../models"}                  # Contains models 
\`\`\`

When you run again, it should automatically download and compile dependencies:

\`\`\`bash
cargo run -p server
\`\`\`
`,title:"Add needed dependencies",level:1,content:`# Add needed dependencies

Edit \`server/Cargo.toml\`
\`\`\`toml
[dependencies]
tokio = { version = "1", features = ["full"] }  # Async runtime for rust
tungstenite = "0.17"                            # WebSocket server library
tokio-tungstenite = "0.17"                      
serde = "1"                                     # Serialization
serde_json = "1"                                # Json Serialization
futures-util = "0.3"                            # Async utils

models = { path = "../models"}                  # Contains models 
\`\`\`

When you run again, it should automatically download and compile dependencies:

\`\`\`bash
cargo run -p server
\`\`\``,frontmatter:{},index:12,start:176,end:198,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:Uw,meta:{slide:{raw:`
# Open a tcp port

Edit \`server/src/main.rs\`
\`\`\`rust
use std::io::Error;
use tokio::net::TcpListener;

// Rust macro that creates a tokio async runtime
#[tokio::main]
async fn main() -> Result<(), Error> {              // Rust uses the Result enum for error handling
    let addr = "0.0.0.0:6789".to_string();

    let listener = TcpListener::bind(addr).await?;  // ? accesses the value in the result or returns an error

    Ok(())                                          // Return Result::Ok with an empty tuple
}
\`\`\`
 
Rust has two string types:
- str: A fixed size, immutable string, mostly seen as &str
- String: A mutable string type, a bit like Java's StringBuilder
String literals are always &str, basically a reference into the programs binary.
To get a String instance, call \`.to_string()\`
`,title:"Open a tcp port",level:1,content:`# Open a tcp port

Edit \`server/src/main.rs\`
\`\`\`rust
use std::io::Error;
use tokio::net::TcpListener;

// Rust macro that creates a tokio async runtime
#[tokio::main]
async fn main() -> Result<(), Error> {              // Rust uses the Result enum for error handling
    let addr = "0.0.0.0:6789".to_string();

    let listener = TcpListener::bind(addr).await?;  // ? accesses the value in the result or returns an error

    Ok(())                                          // Return Result::Ok with an empty tuple
}
\`\`\`
 
Rust has two string types:
- str: A fixed size, immutable string, mostly seen as &str
- String: A mutable string type, a bit like Java's StringBuilder
String literals are always &str, basically a reference into the programs binary.
To get a String instance, call \`.to_string()\``,frontmatter:{},index:13,start:199,end:224,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:Zw,meta:{slide:{raw:`
# Accept connections
\`\`\`rust
use futures_util::{TryStreamExt};                     // We must import the trait when using a trait's function

async fn main() -> Result<(), Error> {
    [...]
    while let Ok((stream, _)) = listener.accept().await {
        tokio::spawn(accept_connection(stream));
    }
    Ok(())
}

async fn accept_connection(stream: TcpStream) -> Result<(), tungstenite::Error> {
    let mut ws_stream = tokio_tungstenite::accept_async(stream).await?;

    if let Some(message) =  ws_stream.try_next().await? {
        println!("{:?}", message);
    }
    Ok(())
}
\`\`\`

If you now run the server and the client, you should be able to connect and the server should log messages you send.
`,title:"Accept connections",level:1,content:`# Accept connections
\`\`\`rust
use futures_util::{TryStreamExt};                     // We must import the trait when using a trait's function

async fn main() -> Result<(), Error> {
    [...]
    while let Ok((stream, _)) = listener.accept().await {
        tokio::spawn(accept_connection(stream));
    }
    Ok(())
}

async fn accept_connection(stream: TcpStream) -> Result<(), tungstenite::Error> {
    let mut ws_stream = tokio_tungstenite::accept_async(stream).await?;

    if let Some(message) =  ws_stream.try_next().await? {
        println!("{:?}", message);
    }
    Ok(())
}
\`\`\`

If you now run the server and the client, you should be able to connect and the server should log messages you send.`,frontmatter:{},index:14,start:225,end:250,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:Xw,meta:{slide:{raw:`
# The Protocol
To underdstand how server and client communicate, let's take a look at \`models/src/lib.rs\`:
\`\`\`rust
use serde::{Deserialize, Serialize};                // Serde is a de/serialization crate for rust

#[derive(Serialize, Deserialize, Debug, Clone)]     // Macro that adds implementation for a trait
#[serde(tag = "type")]                              // Json objects will have a e.g. "type": "Connect" field
pub enum ClientMessage {
    SendMessage {                                   
        text: String,
    },
    Connect {                                       // Sent after connecting to the server
        room: String,                               
        user: String,
    },
}
\`\`\`
`,title:"The Protocol",level:1,content:`# The Protocol
To underdstand how server and client communicate, let's take a look at \`models/src/lib.rs\`:
\`\`\`rust
use serde::{Deserialize, Serialize};                // Serde is a de/serialization crate for rust

#[derive(Serialize, Deserialize, Debug, Clone)]     // Macro that adds implementation for a trait
#[serde(tag = "type")]                              // Json objects will have a e.g. "type": "Connect" field
pub enum ClientMessage {
    SendMessage {                                   
        text: String,
    },
    Connect {                                       // Sent after connecting to the server
        room: String,                               
        user: String,
    },
}
\`\`\``,frontmatter:{},index:15,start:251,end:270,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:ob,meta:{slide:{raw:`
# Deserialize Messages
Let's parse the received messages with serde_json and get the value with pattern matching:
\`\`\`rust {1,5-11}
use models::ClientMessage;
[...]

    if let Some(message) =  ws_stream.try_next().await? {
        if let tungstenite::Message::Text(text) = message {                         // Get the ws message text content
            if let Ok(message) = serde_json::from_str::<ClientMessage>(&text) {     // Parse json
                if let ClientMessage::Connect { room, user } = message {            // Check if msg is of type Connect
                    println!("{user} is trying to join {room}");
                }
            }
        }
    }
\`\`\`
One can also match nested structs: 
\`\`\`rust
    if let Some(tungstenite::Message::Text(text)) = ws_stream.try_next().await? {
        if let Ok(ClientMessage::Connect { room, user }) = serde_json::from_str::<ClientMessage>(&text) {
            println!("{user} is trying to join {room}");
        }
    }
\`\`\`
`,title:"Deserialize Messages",level:1,content:`# Deserialize Messages
Let's parse the received messages with serde_json and get the value with pattern matching:
\`\`\`rust {1,5-11}
use models::ClientMessage;
[...]

    if let Some(message) =  ws_stream.try_next().await? {
        if let tungstenite::Message::Text(text) = message {                         // Get the ws message text content
            if let Ok(message) = serde_json::from_str::<ClientMessage>(&text) {     // Parse json
                if let ClientMessage::Connect { room, user } = message {            // Check if msg is of type Connect
                    println!("{user} is trying to join {room}");
                }
            }
        }
    }
\`\`\`
One can also match nested structs: 
\`\`\`rust
    if let Some(tungstenite::Message::Text(text)) = ws_stream.try_next().await? {
        if let Ok(ClientMessage::Connect { room, user }) = serde_json::from_str::<ClientMessage>(&text) {
            println!("{user} is trying to join {room}");
        }
    }
\`\`\``,frontmatter:{},index:16,start:271,end:297,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:ub,meta:{slide:{raw:"\n# Room and connection modules\nWe'll create a new module for the room and for the connection related code:\n- Create the files `room.rs` and `connection.rs`.\n- Add the modules to the top of `main.rs`:\n```rust\nmod room;\nmod connection;\n\nuse std::io::Error;\n[...]\n```\n",title:"Room and connection modules",level:1,content:"# Room and connection modules\nWe'll create a new module for the room and for the connection related code:\n- Create the files `room.rs` and `connection.rs`.\n- Add the modules to the top of `main.rs`:\n```rust\nmod room;\nmod connection;\n\nuse std::io::Error;\n[...]\n```",frontmatter:{},index:17,start:298,end:311,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:kb,meta:{slide:{raw:`
# Actor pattern
- Actors and Handles
- Actors run in their own task, thread or even on a seperate server
- Handles and actors communicate via message passing

<br/>
<br/>

### -> Our rooms will be actors
`,title:"Actor pattern",level:1,content:`# Actor pattern
- Actors and Handles
- Actors run in their own task, thread or even on a seperate server
- Handles and actors communicate via message passing

<br/>
<br/>

### -> Our rooms will be actors`,frontmatter:{},index:18,start:312,end:323,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:yb,meta:{slide:{raw:`
# Room actor
Add structs and enums for the room actor in \`room.rs\`:
\`\`\`rust
use std::collections::HashMap;
use tokio::sync::{mpsc, oneshot};
use models::ClientMessage;
use crate::connection::Connection;

#[derive(Debug)]                                    // Needed so we can printlin!("{:?}", message);
enum RoomMessage {                                  // Handle and actor will communicate with this enum
    Join(Connection, oneshot::Sender<u64>),         // Oneshot channels can only send a single message
    ClientMessage(ClientMessage, String),
    Leave(u64),
}
struct RoomActor {
    rx: mpsc::Receiver<RoomMessage>,                // Multiple Producer Single Consumer channel for message passing
                                                    // The actor is the consumer
    next_connection_id: u64,                        // We'll generate a connection id for each user
    users: HashMap<u64, Connection>,
}
#[derive(Clone)]                                    // We should be able to clone the handle
pub struct RoomHandle {
    tx: mpsc::Sender<RoomMessage>,                  // The handle is the producer
}
\`\`\`
`,title:"Room actor",level:1,content:`# Room actor
Add structs and enums for the room actor in \`room.rs\`:
\`\`\`rust
use std::collections::HashMap;
use tokio::sync::{mpsc, oneshot};
use models::ClientMessage;
use crate::connection::Connection;

#[derive(Debug)]                                    // Needed so we can printlin!("{:?}", message);
enum RoomMessage {                                  // Handle and actor will communicate with this enum
    Join(Connection, oneshot::Sender<u64>),         // Oneshot channels can only send a single message
    ClientMessage(ClientMessage, String),
    Leave(u64),
}
struct RoomActor {
    rx: mpsc::Receiver<RoomMessage>,                // Multiple Producer Single Consumer channel for message passing
                                                    // The actor is the consumer
    next_connection_id: u64,                        // We'll generate a connection id for each user
    users: HashMap<u64, Connection>,
}
#[derive(Clone)]                                    // We should be able to clone the handle
pub struct RoomHandle {
    tx: mpsc::Sender<RoomMessage>,                  // The handle is the producer
}
\`\`\``,frontmatter:{},index:19,start:324,end:351,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:Sb,meta:{slide:{raw:`
# Connection struct
Add a connection struct to \`connection.rs\`:
\`\`\`rust
use tokio::sync::mpsc;

#[derive(Debug)]
pub struct Connection {
    pub user: String,
    pub sender: mpsc::Sender<tungstenite::Message>,
}
\`\`\`
`,title:"Connection struct",level:1,content:`# Connection struct
Add a connection struct to \`connection.rs\`:
\`\`\`rust
use tokio::sync::mpsc;

#[derive(Debug)]
pub struct Connection {
    pub user: String,
    pub sender: mpsc::Sender<tungstenite::Message>,
}
\`\`\``,frontmatter:{},index:20,start:352,end:365,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:Cb,meta:{slide:{raw:`
# Room actor impl

In rust, a struct's functions are in an impl block. Add a run function to the actor:
\`\`\`rust 
[...]

impl RoomActor {
    pub async fn run(&mut self) {
        while let Some(msg) = self.rx.recv().await {
            match msg {
                RoomMessage::Join(connection, send_conn_id) => {
                    println!("User {} joined", connection.user);
                    
                    self.users.insert(self.next_connection_id, connection);
                    send_conn_id.send(self.next_connection_id).unwrap();
                    self.next_connection_id += 1;
                }
                _ => ()             // We'll handle the other cases later
            }
        }
    }
}
\`\`\`
`,title:"Room actor impl",level:1,content:`# Room actor impl

In rust, a struct's functions are in an impl block. Add a run function to the actor:
\`\`\`rust 
[...]

impl RoomActor {
    pub async fn run(&mut self) {
        while let Some(msg) = self.rx.recv().await {
            match msg {
                RoomMessage::Join(connection, send_conn_id) => {
                    println!("User {} joined", connection.user);
                    
                    self.users.insert(self.next_connection_id, connection);
                    send_conn_id.send(self.next_connection_id).unwrap();
                    self.next_connection_id += 1;
                }
                _ => ()             // We'll handle the other cases later
            }
        }
    }
}
\`\`\``,frontmatter:{},index:21,start:366,end:391,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:Rb,meta:{slide:{raw:`
# Room handle impl
Add a new fn to the room handle. It will spawn a new task and run the actor, then return the room handle.
\`\`\`rust
impl RoomHandle {
    pub fn new() -> Self {
        let (tx, rx) = mpsc::channel(100);      // channel buffer size, 100 worked well during load testing

        let mut actor = RoomActor {             
            rx,
            users: HashMap::new(),
            next_connection_id: 0,
        };

        tokio::spawn(async move {               // Spawn a new tokio task, so the actor can run in parallel
            actor.run().await
        });

        RoomHandle {
            tx,
        }
    }
}
\`\`\`
`,title:"Room handle impl",level:1,content:`# Room handle impl
Add a new fn to the room handle. It will spawn a new task and run the actor, then return the room handle.
\`\`\`rust
impl RoomHandle {
    pub fn new() -> Self {
        let (tx, rx) = mpsc::channel(100);      // channel buffer size, 100 worked well during load testing

        let mut actor = RoomActor {             
            rx,
            users: HashMap::new(),
            next_connection_id: 0,
        };

        tokio::spawn(async move {               // Spawn a new tokio task, so the actor can run in parallel
            actor.run().await
        });

        RoomHandle {
            tx,
        }
    }
}
\`\`\``,frontmatter:{},index:22,start:392,end:417,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:jb,meta:{slide:{raw:`
# Room join function
Add a function to the Room Handle that let's people join rooms.
\`\`\`rust {1-2,8-19}
use tokio::net::TcpStream;
use tokio_tungstenite::WebSocketStream;
[...]

impl RoomHandle {
    [...]

    pub async fn join(&self, user: String, stream: WebSocketStream<TcpStream>) {
        let (conn_id_tx, conn_id_rx) = oneshot::channel();
        let (sender_tx, mut sender_rx) = mpsc::channel(100);

        self.tx.send(RoomMessage::Join(Connection {
            sender: sender_tx,
            user: user.clone(),
        }, conn_id_tx)).await.unwrap();

        let conn_id = conn_id_rx.await.unwrap();
        println!("{user} successfully joined room with user id {conn_id}")
    }
}
\`\`\`
`,title:"Room join function",level:1,content:`# Room join function
Add a function to the Room Handle that let's people join rooms.
\`\`\`rust {1-2,8-19}
use tokio::net::TcpStream;
use tokio_tungstenite::WebSocketStream;
[...]

impl RoomHandle {
    [...]

    pub async fn join(&self, user: String, stream: WebSocketStream<TcpStream>) {
        let (conn_id_tx, conn_id_rx) = oneshot::channel();
        let (sender_tx, mut sender_rx) = mpsc::channel(100);

        self.tx.send(RoomMessage::Join(Connection {
            sender: sender_tx,
            user: user.clone(),
        }, conn_id_tx)).await.unwrap();

        let conn_id = conn_id_rx.await.unwrap();
        println!("{user} successfully joined room with user id {conn_id}")
    }
}
\`\`\``,frontmatter:{},index:23,start:418,end:444,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:Wb,meta:{slide:{raw:`
# Global room state
To store our rooms, well use an \`Arc<Mutex<HashMap<String, RoomHandle>>\`.
- Arc is an atomic reference count
- Mutex is a lock
\`\`\`rust {2-6,10-14}
[...]
use std::collections::HashMap;
use std::sync::{Arc, Mutex};
use crate::room::RoomHandle;

type Rooms = Arc<Mutex<HashMap<String, RoomHandle>>>;               // We can define a type

async fn main() -> Result<(), Error> {
    [...]
    let rooms = Arc::new(Mutex::new(HashMap::new()));

    while let Ok((stream, _)) = listener.accept().await {
        tokio::spawn(accept_connection(stream, rooms.clone()));     // Clone the Arc to get a new reference
    }                                                               // and pass it to the accept_connection function
    [...]
}


\`\`\`
`,title:"Global room state",level:1,content:`# Global room state
To store our rooms, well use an \`Arc<Mutex<HashMap<String, RoomHandle>>\`.
- Arc is an atomic reference count
- Mutex is a lock
\`\`\`rust {2-6,10-14}
[...]
use std::collections::HashMap;
use std::sync::{Arc, Mutex};
use crate::room::RoomHandle;

type Rooms = Arc<Mutex<HashMap<String, RoomHandle>>>;               // We can define a type

async fn main() -> Result<(), Error> {
    [...]
    let rooms = Arc::new(Mutex::new(HashMap::new()));

    while let Ok((stream, _)) = listener.accept().await {
        tokio::spawn(accept_connection(stream, rooms.clone()));     // Clone the Arc to get a new reference
    }                                                               // and pass it to the accept_connection function
    [...]
}


\`\`\``,frontmatter:{},index:24,start:445,end:471,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:qb,meta:{slide:{raw:`
# Global room state II

\`\`\`rust {5-12}
async fn accept_connection(stream: TcpStream, rooms: Rooms) -> Result<(), tungstenite::Error> {
    [...]
    if let Some(tungstenite::Message::Text(text)) = ws_stream.try_next().await? {
        if let Ok(ClientMessage::Connect { room, user }) = serde_json::from_str::<ClientMessage>(&text) {
            let handle = {
                let mut rooms = rooms.lock().unwrap();              // Lock the room mutex to get the HashMap
                rooms
                    .entry(room)
                    .or_insert_with(|| RoomHandle::new()).clone()   // Clone the room because the reference can't 
            };                                                      // be held across an .await

            handle.join(user, ws_stream).await;
        }
    }
    [...]
}
\`\`\`

When joining a room you should now see the following logs on the server:
\`\`\`bash
User lucas2 joined
lucas2 successfully joined room with user id 0
\`\`\`
`,title:"Global room state II",level:1,content:`# Global room state II

\`\`\`rust {5-12}
async fn accept_connection(stream: TcpStream, rooms: Rooms) -> Result<(), tungstenite::Error> {
    [...]
    if let Some(tungstenite::Message::Text(text)) = ws_stream.try_next().await? {
        if let Ok(ClientMessage::Connect { room, user }) = serde_json::from_str::<ClientMessage>(&text) {
            let handle = {
                let mut rooms = rooms.lock().unwrap();              // Lock the room mutex to get the HashMap
                rooms
                    .entry(room)
                    .or_insert_with(|| RoomHandle::new()).clone()   // Clone the room because the reference can't 
            };                                                      // be held across an .await

            handle.join(user, ws_stream).await;
        }
    }
    [...]
}
\`\`\`

When joining a room you should now see the following logs on the server:
\`\`\`bash
User lucas2 joined
lucas2 successfully joined room with user id 0
\`\`\``,frontmatter:{},index:25,start:472,end:500,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:Jb,meta:{slide:{raw:`
# Sending Messages
We'll start a new task to send messages recieved through the \`sender_rx\` channel
\`\`\`rust
use futures_util::SinkExt;
[...]

impl RoomHandle {
    pub async fn join(&self, user: String, stream: WebSocketStream<TcpStream>) {
        [...]
        let (mut ws_tx, mut ws_rx) = stream.split();                                    
        let actor_tx = self.tx.clone();                         // Clone tx so it can be moved into task

        tokio::spawn(async move {                               // Spawn new task to send messages
            while let Some(msg) = sender_rx.recv().await {
                if let Err(_) = ws_tx.send(msg).await {         // Kick the user if there was an error
                    actor_tx.send(RoomMessage::Leave(conn_id)).await.unwrap();
                }
            }
        });
    }
}
\`\`\`
`,title:"Sending Messages",level:1,content:`# Sending Messages
We'll start a new task to send messages recieved through the \`sender_rx\` channel
\`\`\`rust
use futures_util::SinkExt;
[...]

impl RoomHandle {
    pub async fn join(&self, user: String, stream: WebSocketStream<TcpStream>) {
        [...]
        let (mut ws_tx, mut ws_rx) = stream.split();                                    
        let actor_tx = self.tx.clone();                         // Clone tx so it can be moved into task

        tokio::spawn(async move {                               // Spawn new task to send messages
            while let Some(msg) = sender_rx.recv().await {
                if let Err(_) = ws_tx.send(msg).await {         // Kick the user if there was an error
                    actor_tx.send(RoomMessage::Leave(conn_id)).await.unwrap();
                }
            }
        });
    }
}
\`\`\``,frontmatter:{},index:26,start:501,end:525,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:ex,meta:{slide:{raw:`
# Sending Messages II
Add a broadcast function that sends messages to all users
\`\`\`rust {1,4-14}
use models::{ClientMessage, ServerMessage};
[...]
impl RoomActor {
    async fn broadcast(&mut self, msg: ServerMessage) {
        if let Ok(json) = serde_json::to_string(&msg) {             // Convert our message to json
            for connection in self.users.values() {
                connection.sender.send(tungstenite::Message::Text(json.clone())).await.unwrap();
            }
        }
    }
}
\`\`\`
`,title:"Sending Messages II",level:1,content:`# Sending Messages II
Add a broadcast function that sends messages to all users
\`\`\`rust {1,4-14}
use models::{ClientMessage, ServerMessage};
[...]
impl RoomActor {
    async fn broadcast(&mut self, msg: ServerMessage) {
        if let Ok(json) = serde_json::to_string(&msg) {             // Convert our message to json
            for connection in self.users.values() {
                connection.sender.send(tungstenite::Message::Text(json.clone())).await.unwrap();
            }
        }
    }
}
\`\`\``,frontmatter:{},index:27,start:526,end:543,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:ox,meta:{slide:{raw:`
# Sending Messages III
Update the Join handle to send a join message
\`\`\`rust {6,10-12}
impl RoomActor {
    pub async fn run(&mut self) {
        while let Some(msg) = self.rx.recv().await {
            match msg {
                RoomMessage::Join(connection, send_conn_id) => {
                    let user = connection.user.clone();

                    [...]

                    self.broadcast(ServerMessage::Joined {
                        user,
                    }).await;
                }
            }
        }
    }
    [...]
}
\`\`\`

Now when joining a room you should see \`<user> joined the room\` in the app
`,title:"Sending Messages III",level:1,content:`# Sending Messages III
Update the Join handle to send a join message
\`\`\`rust {6,10-12}
impl RoomActor {
    pub async fn run(&mut self) {
        while let Some(msg) = self.rx.recv().await {
            match msg {
                RoomMessage::Join(connection, send_conn_id) => {
                    let user = connection.user.clone();

                    [...]

                    self.broadcast(ServerMessage::Joined {
                        user,
                    }).await;
                }
            }
        }
    }
    [...]
}
\`\`\`

Now when joining a room you should see \`<user> joined the room\` in the app`,frontmatter:{},index:28,start:544,end:570,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:ux,meta:{slide:{raw:`
# Sending Chat Messages

If the user sends a SendMessage message we'll broadcast it to all room members

\`\`\`rust {6-11}
impl RoomActor {
    pub async fn run(&mut self) {
        while let Some(msg) = self.rx.recv().await {
            match msg {
                [...]
                RoomMessage::ClientMessage(ClientMessage::SendMessage { text }, user) => {
                    self.broadcast(ServerMessage::Message {
                        text,
                        user,
                    }).await;
                }
            }
        }
    }
    [...]
}
\`\`\`

We still need to read messages sent by the client
`,title:"Sending Chat Messages",level:1,content:`# Sending Chat Messages

If the user sends a SendMessage message we'll broadcast it to all room members

\`\`\`rust {6-11}
impl RoomActor {
    pub async fn run(&mut self) {
        while let Some(msg) = self.rx.recv().await {
            match msg {
                [...]
                RoomMessage::ClientMessage(ClientMessage::SendMessage { text }, user) => {
                    self.broadcast(ServerMessage::Message {
                        text,
                        user,
                    }).await;
                }
            }
        }
    }
    [...]
}
\`\`\`

We still need to read messages sent by the client`,frontmatter:{},index:29,start:571,end:597,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",name:"page-31",component:mx,meta:{slide:{raw:`
# Sending Chat Messages II

Spawn another task that listens for new messages from the client and sends them to the actor

\`\`\`rust
impl RoomHandle {
    [...]

    pub async fn join(&self, user: String, stream: WebSocketStream<TcpStream>) {
        [...]
        
        tokio::spawn(async move {
            while let Some(Ok(tungstenite::Message::Text(text))) = ws_rx.next().await {
                if let Ok(value) = serde_json::from_str::<ClientMessage>(&text) {
                    actor_tx.send(RoomMessage::ClientMessage(value, user.clone())).await.unwrap();
                }
            }
            actor_tx.send(RoomMessage::Leave(conn_id)).await.unwrap();
        });
    }
}
\`\`\`

We can now send and receive chat messages! Yay!
`,title:"Sending Chat Messages II",level:1,content:`# Sending Chat Messages II

Spawn another task that listens for new messages from the client and sends them to the actor

\`\`\`rust
impl RoomHandle {
    [...]

    pub async fn join(&self, user: String, stream: WebSocketStream<TcpStream>) {
        [...]
        
        tokio::spawn(async move {
            while let Some(Ok(tungstenite::Message::Text(text))) = ws_rx.next().await {
                if let Ok(value) = serde_json::from_str::<ClientMessage>(&text) {
                    actor_tx.send(RoomMessage::ClientMessage(value, user.clone())).await.unwrap();
                }
            }
            actor_tx.send(RoomMessage::Leave(conn_id)).await.unwrap();
        });
    }
}
\`\`\`

We can now send and receive chat messages! Yay!`,frontmatter:{},index:30,start:598,end:624,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:30,no:31},__clicksElements:[],__preloaded:!1}},{path:"32",name:"page-32",component:_x,meta:{slide:{raw:`
# Remove users

\`\`\`rust
impl RoomActor {
    pub async fn run(&mut self) {
        while let Some(msg) = self.rx.recv().await {
            match msg {
                [...]
                RoomMessage::Leave(conn_id) => {
                    self.remove_user(conn_id);
                }
                _ => ()                                 // This needs to stay because we didn't handle the 
            }                                           // RoomMessage::ClientMessage(ClientMessage::Connect) case
        }
    }
    [...]
    fn remove_user(&mut self, conn_id: u64) {
        let connection = self.users.remove(&conn_id);
        if let Some(connection) = connection {
            self.broadcast(ServerMessage::Left {
                user: connection.user,
            });
        }
    }
}
\`\`\`
`,title:"Remove users",level:1,content:`# Remove users

\`\`\`rust
impl RoomActor {
    pub async fn run(&mut self) {
        while let Some(msg) = self.rx.recv().await {
            match msg {
                [...]
                RoomMessage::Leave(conn_id) => {
                    self.remove_user(conn_id);
                }
                _ => ()                                 // This needs to stay because we didn't handle the 
            }                                           // RoomMessage::ClientMessage(ClientMessage::Connect) case
        }
    }
    [...]
    fn remove_user(&mut self, conn_id: u64) {
        let connection = self.users.remove(&conn_id);
        if let Some(connection) = connection {
            self.broadcast(ServerMessage::Left {
                user: connection.user,
            });
        }
    }
}
\`\`\``,frontmatter:{},index:31,start:625,end:653,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:31,no:32},__clicksElements:[],__preloaded:!1}},{path:"33",name:"page-33",component:bx,meta:{slide:{raw:`
# We're done!

Things that could be improved upon:
- Remove empty chat rooms
- Authentication, user list, etc
- Move connection logic into another actor
`,title:"We're done!",level:1,content:`# We're done!

Things that could be improved upon:
- Remove empty chat rooms
- Authentication, user list, etc
- Move connection logic into another actor`,frontmatter:{},index:32,start:654,end:662,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:32,no:33},__clicksElements:[],__preloaded:!1}},{path:"34",name:"page-34",component:Ex,meta:{slide:{raw:`
# Further Reading

- https://doc.rust-lang.org/book/
  - Especially the chapter about ownership
- https://ryhl.io/blog/actors-with-tokio/
  - Blog post about actors with rust
`,title:"Further Reading",level:1,content:`# Further Reading

- https://doc.rust-lang.org/book/
  - Especially the chapter about ownership
- https://ryhl.io/blog/actors-with-tokio/
  - Blog post about actors with rust`,frontmatter:{},index:33,start:663,end:671,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:33,no:34},__clicksElements:[],__preloaded:!1}},{path:"35",name:"page-35",component:Ax,meta:{slide:{raw:`
# Testing

Tests in Rust are written in the same File as the code it's testing.
A simple test looks like this:

\`\`\`rust
#[cfg(test)]
mod tests {
  #[test]
  fn it_works() {
    let result = 2 + 2;
    assert_eq!(result, 4);
  }
}
\`\`\`

The module is optional, it can include helper functions, e.g. for test setup logic.
`,title:"Testing",level:1,content:`# Testing

Tests in Rust are written in the same File as the code it's testing.
A simple test looks like this:

\`\`\`rust
#[cfg(test)]
mod tests {
  #[test]
  fn it_works() {
    let result = 2 + 2;
    assert_eq!(result, 4);
  }
}
\`\`\`

The module is optional, it can include helper functions, e.g. for test setup logic.`,frontmatter:{},index:34,start:672,end:691,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:34,no:35},__clicksElements:[],__preloaded:!1}},{path:"36",name:"page-36",component:Px,meta:{slide:{raw:`
# Example Test

\`\`\`rust
#[tokio::test]                                  // 
async fn room_actor_join() {                    // 
  let (tx, rx) = mpsc::channel(1);
  let mut actor = RoomActor {
    rx,
    next_connection_id: 0,
    users: HashMap::new(),
  };

  tokio::spawn(async move {
    actor.run().await
  });

  let (ws_tx, mut ws_rx) = mpsc::channel(1);
  let (join_tx, join_rx) = oneshot::channel();
  tx.send(RoomMessage::Join(Connection {
    user: "test".to_string(),
    sender: ws_tx,
  }, join_tx)).await.unwrap();

  let conn_id = join_rx.await.unwrap();
  assert_eq!(conn_id, 0);
  assert_eq!(ws_rx.recv().await.unwrap(), tungstenite::Message::Text(r#"{"type":"Joined","user":"test"}"#.to_string()))
}
\`\`\``,title:"Example Test",level:1,content:`# Example Test

\`\`\`rust
#[tokio::test]                                  // 
async fn room_actor_join() {                    // 
  let (tx, rx) = mpsc::channel(1);
  let mut actor = RoomActor {
    rx,
    next_connection_id: 0,
    users: HashMap::new(),
  };

  tokio::spawn(async move {
    actor.run().await
  });

  let (ws_tx, mut ws_rx) = mpsc::channel(1);
  let (join_tx, join_rx) = oneshot::channel();
  tx.send(RoomMessage::Join(Connection {
    user: "test".to_string(),
    sender: ws_tx,
  }, join_tx)).await.unwrap();

  let conn_id = join_rx.await.unwrap();
  assert_eq!(conn_id, 0);
  assert_eq!(ws_rx.recv().await.unwrap(), tungstenite::Message::Text(r#"{"type":"Joined","user":"test"}"#.to_string()))
}
\`\`\``,frontmatter:{},index:35,start:692,end:721,notesHTML:"",filepath:"/home/runner/work/rust-chat-workshop/rust-chat-workshop/slides/slides.md",id:35,no:36},__clicksElements:[],__preloaded:!1}},{path:"37",component:Q0,meta:{layout:"end"}}],Ue=Ix,Lx=[{name:"play",path:"/",component:z0,children:[...Ue]},{name:"print",path:"/print",component:Z0},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}},{name:"presenter",path:"/presenter/:no",component:()=>us(()=>import("./Presenter.22d08692.js"),["assets/Presenter.22d08692.js","assets/Presenter.1ea605f8.css","assets/DrawingControls.vue_vue_type_script_setup_true_lang.6498a99d.js"]),beforeEnter:e=>{if(!Et.remote||Et.remote===e.query.password)return!0;if(Et.remote&&e.query.password===void 0){const t=prompt("Enter password");if(Et.remote===t)return!0}return e.params.no?{path:`/${e.params.no}`}:{path:""}}},{path:"/presenter",redirect:{path:"/presenter/1"}}],vn=Lg({history:Gk("/rust-chat-workshop/"),routes:Lx});function jx(e,t,{mode:s="replace"}={}){return M({get(){const a=vn.currentRoute.value.query[e];return a==null?t!=null?t:null:Array.isArray(a)?a.filter(Boolean):a},set(a){Ge(()=>{vn[w(s)]({query:{...vn.currentRoute.value.query,[e]:a}})})}})}const dp=V(0);Ge(()=>{vn.afterEach(async()=>{await Ge(),dp.value+=1})});const Xn=M(()=>vn.currentRoute.value),Zr=M(()=>Xn.value.query.print!==void 0),Nx=M(()=>Xn.value.query.print==="clicks"),Un=M(()=>Xn.value.query.embedded!==void 0),Dn=M(()=>Xn.value.path.startsWith("/presenter")),Ts=M(()=>Zr.value&&!Nx.value),ar=M(()=>Xn.value.query.password),Fx=M(()=>!Dn.value&&(!xe.remote||ar.value===xe.remote)),Zc=jx("clicks","0"),hp=M(()=>Ue.length-1),Hx=M(()=>Xn.value.path),qe=M(()=>parseInt(Hx.value.split(/\//g).slice(-1)[0])||1);M(()=>Qa(qe.value));const mn=M(()=>Ue.find(e=>e.path===`${qe.value}`));M(()=>{var e,t,s;return(s=(t=(e=mn.value)==null?void 0:e.meta)==null?void 0:t.slide)==null?void 0:s.id});M(()=>{var e,t;return(t=(e=mn.value)==null?void 0:e.meta)==null?void 0:t.layout});const _o=M(()=>Ue.find(e=>e.path===`${Math.min(Ue.length,qe.value+1)}`)),Dx=M(()=>{var e,t;return dp.value,((t=(e=mn.value)==null?void 0:e.meta)==null?void 0:t.__clicksElements)||[]}),Rn=M({get(){if(Ts.value)return 99999;let e=+(Zc.value||0);return isNaN(e)&&(e=0),e},set(e){Zc.value=e.toString()}}),Ra=M(()=>{var e,t,s;return+((s=(t=(e=mn.value)==null?void 0:e.meta)==null?void 0:t.clicks)!=null?s:Dx.value.length)}),Wx=M(()=>qe.value<Ue.length-1||Rn.value<Ra.value),Bx=M(()=>qe.value>1||Rn.value>0),Vx=M(()=>Ue.filter(e=>{var t,s;return(s=(t=e.meta)==null?void 0:t.slide)==null?void 0:s.title}).reduce((e,t)=>(Jr(e,t),e),[])),zx=M(()=>Gr(Vx.value,mn.value));M(()=>Qr(zx.value));function ct(){Ra.value<=Rn.value?qs():Rn.value+=1}async function it(){Rn.value<=0?await Ks():Rn.value-=1}function Qa(e){return Dn.value?`/presenter/${e}`:`/${e}`}function qs(){const e=Math.min(Ue.length,qe.value+1);return rs(e)}async function Ks(e=!0){const t=Math.max(1,qe.value-1);await rs(t),e&&Ra.value&&vn.replace({query:{...Xn.value.query,clicks:Ra.value}})}function rs(e,t){return vn.push({path:Qa(e),query:{...Xn.value.query,clicks:t}})}function Ux(e){const t=V(0),{direction:s,distanceX:a,distanceY:o}=xk(e,{onSwipeStart(l){l.pointerType==="touch"&&(Vs.value||(t.value=qo()))},onSwipeEnd(l){if(l.pointerType!=="touch"||!t.value||Vs.value)return;const c=Math.abs(a.value),i=Math.abs(o.value);c/window.innerWidth>.3||c>100?s.value===Yn.LEFT?ct():it():(i/window.innerHeight>.4||i>200)&&(s.value===Yn.DOWN?Ks():qs())}})}async function or(){const{saveAs:e}=await us(()=>import("./FileSaver.min.7f56e709.js").then(t=>t.F),[]);e($u(xe.download)?xe.download:xe.exportFilename?`${xe.exportFilename}.pdf`:"/rust-chat-workshop/slidev-exported.pdf",`${xe.title}.pdf`)}async function qx(e){var t,s;if(e==null){const a=(s=(t=mn.value)==null?void 0:t.meta)==null?void 0:s.slide;if(!(a!=null&&a.filepath))return!1;e=`${a.filepath}:${a.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(e)}`),!0}function Jr(e,t,s=1){var o,l,c,i,u;const a=(l=(o=t.meta)==null?void 0:o.slide)==null?void 0:l.level;a&&a>s&&e.length>0?Jr(e[e.length-1].children,t,s+1):e.push({children:[],level:s,path:t.path,hideInToc:Boolean((c=t.meta)==null?void 0:c.hideInToc),title:(u=(i=t.meta)==null?void 0:i.slide)==null?void 0:u.title})}function Gr(e,t,s=!1,a){return e.map(o=>{const l={...o,active:o.path===(t==null?void 0:t.path),hasActiveParent:s};return l.children.length>0&&(l.children=Gr(l.children,t,l.active||l.hasActiveParent,l)),a&&(l.active||l.activeParent)&&(a.activeParent=!0),l})}function Qr(e,t=1){return e.filter(s=>!s.hideInToc).map(s=>({...s,children:Qr(s.children,t+1)}))}function Kx(){const e=xe.titleTemplate.replace("%s",xe.title||"Slidev");Bh({title:e}),Gh(`${e} - shared`),nm(`${e} - drawings`);function t(){Dn.value&&(Gl("page",+qe.value),Gl("clicks",Rn.value))}vn.afterEach(t),pe(Rn,t),Qh(s=>{(+s.page!=+qe.value||Rn.value!==s.clicks)&&vn.replace({path:Qa(s.page),query:{...vn.currentRoute.value.query,clicks:s.clicks||0}})})}const Yx=Ce({__name:"App",setup(e){return B(Y),Kx(),(t,s)=>{const a=xa("RouterView"),o=xa("StarportCarrier");return O(),U(Me,null,[N(a),N(o)],64)}}});function vo(e){return e!==null&&typeof e=="object"}function rr(e,t,s=".",a){if(!vo(t))return rr(e,{},s,a);const o=Object.assign({},t);for(const l in e){if(l==="__proto__"||l==="constructor")continue;const c=e[l];c!=null&&(a&&a(o,l,c,s)||(Array.isArray(c)&&Array.isArray(o[l])?o[l]=c.concat(o[l]):vo(c)&&vo(o[l])?o[l]=rr(c,o[l],(s?`${s}.`:"")+l.toString(),a):o[l]=c))}return o}function Zx(e){return(...t)=>t.reduce((s,a)=>rr(s,a,"",e),{})}const Jx=Zx(),mp=1/60*1e3,Gx=typeof performance<"u"?()=>performance.now():()=>Date.now(),kp=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(Gx()),mp);function Qx(e){let t=[],s=[],a=0,o=!1,l=!1;const c=new WeakSet,i={schedule:(u,p=!1,f=!1)=>{const d=f&&o,h=d?t:s;return p&&c.add(u),h.indexOf(u)===-1&&(h.push(u),d&&o&&(a=t.length)),u},cancel:u=>{const p=s.indexOf(u);p!==-1&&s.splice(p,1),c.delete(u)},process:u=>{if(o){l=!0;return}if(o=!0,[t,s]=[s,t],s.length=0,a=t.length,a)for(let p=0;p<a;p++){const f=t[p];f(u),c.has(f)&&(i.schedule(f),e())}o=!1,l&&(l=!1,i.process(u))}};return i}const Xx=40;let lr=!0,Ys=!1,cr=!1;const es={delta:0,timestamp:0},Xs=["read","update","preRender","render","postRender"],Xa=Xs.reduce((e,t)=>(e[t]=Qx(()=>Ys=!0),e),{}),ir=Xs.reduce((e,t)=>{const s=Xa[t];return e[t]=(a,o=!1,l=!1)=>(Ys||tS(),s.schedule(a,o,l)),e},{}),eS=Xs.reduce((e,t)=>(e[t]=Xa[t].cancel,e),{});Xs.reduce((e,t)=>(e[t]=()=>Xa[t].process(es),e),{});const nS=e=>Xa[e].process(es),gp=e=>{Ys=!1,es.delta=lr?mp:Math.max(Math.min(e-es.timestamp,Xx),1),es.timestamp=e,cr=!0,Xs.forEach(nS),cr=!1,Ys&&(lr=!1,kp(gp))},tS=()=>{Ys=!0,lr=!0,cr||kp(gp)},_p=()=>es;function vp(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s}var sS=function(){},Jc=function(){};const ur=(e,t,s)=>Math.min(Math.max(s,e),t),yo=.001,aS=.01,Gc=10,oS=.05,rS=1;function lS({duration:e=800,bounce:t=.25,velocity:s=0,mass:a=1}){let o,l;sS(e<=Gc*1e3);let c=1-t;c=ur(oS,rS,c),e=ur(aS,Gc,e/1e3),c<1?(o=p=>{const f=p*c,d=f*e,h=f-s,m=pr(p,c),k=Math.exp(-d);return yo-h/m*k},l=p=>{const d=p*c*e,h=d*s+s,m=Math.pow(c,2)*Math.pow(p,2)*e,k=Math.exp(-d),y=pr(Math.pow(p,2),c);return(-o(p)+yo>0?-1:1)*((h-m)*k)/y}):(o=p=>{const f=Math.exp(-p*e),d=(p-s)*e+1;return-yo+f*d},l=p=>{const f=Math.exp(-p*e),d=(s-p)*(e*e);return f*d});const i=5/e,u=iS(o,l,i);if(e=e*1e3,isNaN(u))return{stiffness:100,damping:10,duration:e};{const p=Math.pow(u,2)*a;return{stiffness:p,damping:c*2*Math.sqrt(a*p),duration:e}}}const cS=12;function iS(e,t,s){let a=s;for(let o=1;o<cS;o++)a=a-e(a)/t(a);return a}function pr(e,t){return e*Math.sqrt(1-t*t)}const uS=["duration","bounce"],pS=["stiffness","damping","mass"];function Qc(e,t){return t.some(s=>e[s]!==void 0)}function fS(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Qc(e,pS)&&Qc(e,uS)){const s=lS(e);t=Object.assign(Object.assign(Object.assign({},t),s),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function Xr(e){var{from:t=0,to:s=1,restSpeed:a=2,restDelta:o}=e,l=vp(e,["from","to","restSpeed","restDelta"]);const c={done:!1,value:t};let{stiffness:i,damping:u,mass:p,velocity:f,duration:d,isResolvedFromDuration:h}=fS(l),m=Xc,k=Xc;function y(){const v=f?-(f/1e3):0,E=s-t,S=u/(2*Math.sqrt(i*p)),b=Math.sqrt(i/p)/1e3;if(o===void 0&&(o=Math.min(Math.abs(s-t)/100,.4)),S<1){const C=pr(b,S);m=L=>{const P=Math.exp(-S*b*L);return s-P*((v+S*b*E)/C*Math.sin(C*L)+E*Math.cos(C*L))},k=L=>{const P=Math.exp(-S*b*L);return S*b*P*(Math.sin(C*L)*(v+S*b*E)/C+E*Math.cos(C*L))-P*(Math.cos(C*L)*(v+S*b*E)-C*E*Math.sin(C*L))}}else if(S===1)m=C=>s-Math.exp(-b*C)*(E+(v+b*E)*C);else{const C=b*Math.sqrt(S*S-1);m=L=>{const P=Math.exp(-S*b*L),D=Math.min(C*L,300);return s-P*((v+S*b*E)*Math.sinh(D)+C*E*Math.cosh(D))/C}}}return y(),{next:v=>{const E=m(v);if(h)c.done=v>=d;else{const S=k(v)*1e3,b=Math.abs(S)<=a,C=Math.abs(s-E)<=o;c.done=b&&C}return c.value=c.done?s:E,c},flipTarget:()=>{f=-f,[t,s]=[s,t],y()}}}Xr.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const Xc=e=>0,yp=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a},el=(e,t,s)=>-s*e+s*t+e,wp=(e,t)=>s=>Math.max(Math.min(s,t),e),Rs=e=>e%1?Number(e.toFixed(5)):e,Zs=/(-)?([\d]*\.?[\d])+/g,fr=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,dS=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ea(e){return typeof e=="string"}const na={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ps=Object.assign(Object.assign({},na),{transform:wp(0,1)}),pa=Object.assign(Object.assign({},na),{default:1}),nl=e=>({test:t=>ea(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kt=nl("deg"),Is=nl("%"),le=nl("px"),ei=Object.assign(Object.assign({},Is),{parse:e=>Is.parse(e)/100,transform:e=>Is.transform(e*100)}),tl=(e,t)=>s=>Boolean(ea(s)&&dS.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),bp=(e,t,s)=>a=>{if(!ea(a))return a;const[o,l,c,i]=a.match(Zs);return{[e]:parseFloat(o),[t]:parseFloat(l),[s]:parseFloat(c),alpha:i!==void 0?parseFloat(i):1}},Mt={test:tl("hsl","hue"),parse:bp("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+Is.transform(Rs(t))+", "+Is.transform(Rs(s))+", "+Rs(Ps.transform(a))+")"},hS=wp(0,255),wo=Object.assign(Object.assign({},na),{transform:e=>Math.round(hS(e))}),at={test:tl("rgb","red"),parse:bp("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+wo.transform(e)+", "+wo.transform(t)+", "+wo.transform(s)+", "+Rs(Ps.transform(a))+")"};function mS(e){let t="",s="",a="",o="";return e.length>5?(t=e.substr(1,2),s=e.substr(3,2),a=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),s=e.substr(2,1),a=e.substr(3,1),o=e.substr(4,1),t+=t,s+=s,a+=a,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const dr={test:tl("#"),parse:mS,transform:at.transform},cn={test:e=>at.test(e)||dr.test(e)||Mt.test(e),parse:e=>at.test(e)?at.parse(e):Mt.test(e)?Mt.parse(e):dr.parse(e),transform:e=>ea(e)?e:e.hasOwnProperty("red")?at.transform(e):Mt.transform(e)},xp="${c}",Sp="${n}";function kS(e){var t,s,a,o;return isNaN(e)&&ea(e)&&((s=(t=e.match(Zs))===null||t===void 0?void 0:t.length)!==null&&s!==void 0?s:0)+((o=(a=e.match(fr))===null||a===void 0?void 0:a.length)!==null&&o!==void 0?o:0)>0}function Ep(e){typeof e=="number"&&(e=`${e}`);const t=[];let s=0;const a=e.match(fr);a&&(s=a.length,e=e.replace(fr,xp),t.push(...a.map(cn.parse)));const o=e.match(Zs);return o&&(e=e.replace(Zs,Sp),t.push(...o.map(na.parse))),{values:t,numColors:s,tokenised:e}}function Op(e){return Ep(e).values}function Mp(e){const{values:t,numColors:s,tokenised:a}=Ep(e),o=t.length;return l=>{let c=a;for(let i=0;i<o;i++)c=c.replace(i<s?xp:Sp,i<s?cn.transform(l[i]):Rs(l[i]));return c}}const gS=e=>typeof e=="number"?0:e;function _S(e){const t=Op(e);return Mp(e)(t.map(gS))}const ta={test:kS,parse:Op,createTransformer:Mp,getAnimatableNone:_S},vS=new Set(["brightness","contrast","saturate","opacity"]);function yS(e){let[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(Zs)||[];if(!a)return e;const o=s.replace(a,"");let l=vS.has(t)?1:0;return a!==s&&(l*=100),t+"("+l+o+")"}const wS=/([a-z-]*)\(.*?\)/g,hr=Object.assign(Object.assign({},ta),{getAnimatableNone:e=>{const t=e.match(wS);return t?t.map(yS).join(" "):e}});function bo(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function ni({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let o=0,l=0,c=0;if(!t)o=l=c=s;else{const i=s<.5?s*(1+t):s+t-s*t,u=2*s-i;o=bo(u,i,e+1/3),l=bo(u,i,e),c=bo(u,i,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:a}}const bS=(e,t,s)=>{const a=e*e,o=t*t;return Math.sqrt(Math.max(0,s*(o-a)+a))},xS=[dr,at,Mt],ti=e=>xS.find(t=>t.test(e)),Cp=(e,t)=>{let s=ti(e),a=ti(t),o=s.parse(e),l=a.parse(t);s===Mt&&(o=ni(o),s=at),a===Mt&&(l=ni(l),a=at);const c=Object.assign({},o);return i=>{for(const u in c)u!=="alpha"&&(c[u]=bS(o[u],l[u],i));return c.alpha=el(o.alpha,l.alpha,i),s.transform(c)}},SS=e=>typeof e=="number",ES=(e,t)=>s=>t(e(s)),$p=(...e)=>e.reduce(ES);function Ap(e,t){return SS(e)?s=>el(e,t,s):cn.test(e)?Cp(e,t):Rp(e,t)}const Tp=(e,t)=>{const s=[...e],a=s.length,o=e.map((l,c)=>Ap(l,t[c]));return l=>{for(let c=0;c<a;c++)s[c]=o[c](l);return s}},OS=(e,t)=>{const s=Object.assign(Object.assign({},e),t),a={};for(const o in s)e[o]!==void 0&&t[o]!==void 0&&(a[o]=Ap(e[o],t[o]));return o=>{for(const l in a)s[l]=a[l](o);return s}};function si(e){const t=ta.parse(e),s=t.length;let a=0,o=0,l=0;for(let c=0;c<s;c++)a||typeof t[c]=="number"?a++:t[c].hue!==void 0?l++:o++;return{parsed:t,numNumbers:a,numRGB:o,numHSL:l}}const Rp=(e,t)=>{const s=ta.createTransformer(t),a=si(e),o=si(t);return a.numHSL===o.numHSL&&a.numRGB===o.numRGB&&a.numNumbers>=o.numNumbers?$p(Tp(a.parsed,o.parsed),s):c=>`${c>0?t:e}`},MS=(e,t)=>s=>el(e,t,s);function CS(e){if(typeof e=="number")return MS;if(typeof e=="string")return cn.test(e)?Cp:Rp;if(Array.isArray(e))return Tp;if(typeof e=="object")return OS}function $S(e,t,s){const a=[],o=s||CS(e[0]),l=e.length-1;for(let c=0;c<l;c++){let i=o(e[c],e[c+1]);if(t){const u=Array.isArray(t)?t[c]:t;i=$p(u,i)}a.push(i)}return a}function AS([e,t],[s]){return a=>s(yp(e,t,a))}function TS(e,t){const s=e.length,a=s-1;return o=>{let l=0,c=!1;if(o<=e[0]?c=!0:o>=e[a]&&(l=a-1,c=!0),!c){let u=1;for(;u<s&&!(e[u]>o||u===a);u++);l=u-1}const i=yp(e[l],e[l+1],o);return t[l](i)}}function Pp(e,t,{clamp:s=!0,ease:a,mixer:o}={}){const l=e.length;Jc(l===t.length),Jc(!a||!Array.isArray(a)||a.length===l-1),e[0]>e[l-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const c=$S(t,a,o),i=l===2?AS(e,c):TS(e,c);return s?u=>i(ur(e[0],e[l-1],u)):i}const eo=e=>t=>1-e(1-t),sl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,RS=e=>t=>Math.pow(t,e),Ip=e=>t=>t*t*((e+1)*t-e),PS=e=>{const t=Ip(e);return s=>(s*=2)<1?.5*t(s):.5*(2-Math.pow(2,-10*(s-1)))},Lp=1.525,IS=4/11,LS=8/11,jS=9/10,jp=e=>e,al=RS(2),NS=eo(al),Np=sl(al),Fp=e=>1-Math.sin(Math.acos(e)),Hp=eo(Fp),FS=sl(Hp),ol=Ip(Lp),HS=eo(ol),DS=sl(ol),WS=PS(Lp),BS=4356/361,VS=35442/1805,zS=16061/1805,Pa=e=>{if(e===1||e===0)return e;const t=e*e;return e<IS?7.5625*t:e<LS?9.075*t-9.9*e+3.4:e<jS?BS*t-VS*e+zS:10.8*e*e-20.52*e+10.72},US=eo(Pa),qS=e=>e<.5?.5*(1-Pa(1-e*2)):.5*Pa(e*2-1)+.5;function KS(e,t){return e.map(()=>t||Np).splice(0,e.length-1)}function YS(e){const t=e.length;return e.map((s,a)=>a!==0?a/(t-1):0)}function ZS(e,t){return e.map(s=>s*t)}function _a({from:e=0,to:t=1,ease:s,offset:a,duration:o=300}){const l={done:!1,value:e},c=Array.isArray(t)?t:[e,t],i=ZS(a&&a.length===c.length?a:YS(c),o);function u(){return Pp(i,c,{ease:Array.isArray(s)?s:KS(c,s)})}let p=u();return{next:f=>(l.value=p(f),l.done=f>=o,l),flipTarget:()=>{c.reverse(),p=u()}}}function JS({velocity:e=0,from:t=0,power:s=.8,timeConstant:a=350,restDelta:o=.5,modifyTarget:l}){const c={done:!1,value:t};let i=s*e;const u=t+i,p=l===void 0?u:l(u);return p!==u&&(i=p-t),{next:f=>{const d=-i*Math.exp(-f/a);return c.done=!(d>o||d<-o),c.value=c.done?p:p+d,c},flipTarget:()=>{}}}const ai={keyframes:_a,spring:Xr,decay:JS};function GS(e){if(Array.isArray(e.to))return _a;if(ai[e.type])return ai[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?_a:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Xr:_a}function Dp(e,t,s=0){return e-t-s}function QS(e,t,s=0,a=!0){return a?Dp(t+-e,t,s):t-(e-t)+s}function XS(e,t,s,a){return a?e>=t+s:e<=-s}const e2=e=>{const t=({delta:s})=>e(s);return{start:()=>ir.update(t,!0),stop:()=>eS.update(t)}};function Wp(e){var t,s,{from:a,autoplay:o=!0,driver:l=e2,elapsed:c=0,repeat:i=0,repeatType:u="loop",repeatDelay:p=0,onPlay:f,onStop:d,onComplete:h,onRepeat:m,onUpdate:k}=e,y=vp(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:v}=y,E,S=0,b=y.duration,C,L=!1,P=!0,D;const ee=GS(y);!((s=(t=ee).needsInterpolation)===null||s===void 0)&&s.call(t,a,v)&&(D=Pp([0,100],[a,v],{clamp:!1}),a=0,v=100);const oe=ee(Object.assign(Object.assign({},y),{from:a,to:v}));function ge(){S++,u==="reverse"?(P=S%2===0,c=QS(c,b,p,P)):(c=Dp(c,b,p),u==="mirror"&&oe.flipTarget()),L=!1,m&&m()}function ve(){E.stop(),h&&h()}function Be(He){if(P||(He=-He),c+=He,!L){const Pe=oe.next(Math.max(0,c));C=Pe.value,D&&(C=D(C)),L=P?Pe.done:c<=0}k==null||k(C),L&&(S===0&&(b!=null||(b=c)),S<i?XS(c,b,p,P)&&ge():ve())}function Ve(){f==null||f(),E=l(Be),E.start()}return o&&Ve(),{stop:()=>{d==null||d(),E.stop()}}}function Bp(e,t){return t?e*(1e3/t):0}function n2({from:e=0,velocity:t=0,min:s,max:a,power:o=.8,timeConstant:l=750,bounceStiffness:c=500,bounceDamping:i=10,restDelta:u=1,modifyTarget:p,driver:f,onUpdate:d,onComplete:h,onStop:m}){let k;function y(b){return s!==void 0&&b<s||a!==void 0&&b>a}function v(b){return s===void 0?a:a===void 0||Math.abs(s-b)<Math.abs(a-b)?s:a}function E(b){k==null||k.stop(),k=Wp(Object.assign(Object.assign({},b),{driver:f,onUpdate:C=>{var L;d==null||d(C),(L=b.onUpdate)===null||L===void 0||L.call(b,C)},onComplete:h,onStop:m}))}function S(b){E(Object.assign({type:"spring",stiffness:c,damping:i,restDelta:u},b))}if(y(e))S({from:e,velocity:t,to:v(e)});else{let b=o*t+e;typeof p<"u"&&(b=p(b));const C=v(b),L=C===s?-1:1;let P,D;const ee=oe=>{P=D,D=oe,t=Bp(oe-P,_p().delta),(L===1&&oe>C||L===-1&&oe<C)&&S({from:oe,to:C,velocity:t})};E({type:"decay",from:e,velocity:t,timeConstant:l,power:o,restDelta:u,modifyTarget:p,onUpdate:y(b)?ee:void 0})}return{stop:()=>k==null?void 0:k.stop()}}const Vp=(e,t)=>1-3*t+3*e,zp=(e,t)=>3*t-6*e,Up=e=>3*e,Ia=(e,t,s)=>((Vp(t,s)*e+zp(t,s))*e+Up(t))*e,qp=(e,t,s)=>3*Vp(t,s)*e*e+2*zp(t,s)*e+Up(t),t2=1e-7,s2=10;function a2(e,t,s,a,o){let l,c,i=0;do c=t+(s-t)/2,l=Ia(c,a,o)-e,l>0?s=c:t=c;while(Math.abs(l)>t2&&++i<s2);return c}const o2=8,r2=.001;function l2(e,t,s,a){for(let o=0;o<o2;++o){const l=qp(t,s,a);if(l===0)return t;t-=(Ia(t,s,a)-e)/l}return t}const va=11,fa=1/(va-1);function c2(e,t,s,a){if(e===t&&s===a)return jp;const o=new Float32Array(va);for(let c=0;c<va;++c)o[c]=Ia(c*fa,e,s);function l(c){let i=0,u=1;const p=va-1;for(;u!==p&&o[u]<=c;++u)i+=fa;--u;const f=(c-o[u])/(o[u+1]-o[u]),d=i+f*fa,h=qp(d,e,s);return h>=r2?l2(c,d,e,s):h===0?d:a2(c,i,i+fa,e,s)}return c=>c===0||c===1?c:Ia(l(c),t,a)}const xo={};class i2{constructor(){this.subscriptions=new Set}add(t){return this.subscriptions.add(t),()=>this.subscriptions.delete(t)}notify(t,s,a){if(!!this.subscriptions.size)for(const o of this.subscriptions)o(t,s,a)}clear(){this.subscriptions.clear()}}const oi=e=>!isNaN(parseFloat(e));class u2{constructor(t){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new i2,this.canTrackVelocity=!1,this.updateAndNotify=s=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=_p();this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o),ir.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>ir.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{this.canTrackVelocity||(this.canTrackVelocity=oi(this.current)),s!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=t,this.canTrackVelocity=oi(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}set(t){this.updateAndNotify(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Bp(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{const{stop:a}=t(s);this.stopAnimation=a}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function p2(e){return new u2(e)}const{isArray:f2}=Array;function d2(){const e=V({}),t=a=>{const o=l=>{!e.value[l]||(e.value[l].stop(),e.value[l].destroy(),delete e.value[l])};a?f2(a)?a.forEach(o):o(a):Object.keys(e.value).forEach(o)},s=(a,o,l)=>{if(e.value[a])return e.value[a];const c=p2(o);return c.onChange(i=>l[a]=i),e.value[a]=c,c};return Sm(t),{motionValues:e,get:s,stop:t}}const h2=e=>Array.isArray(e),gt=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),So=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),m2=e=>({type:"spring",stiffness:550,damping:e===0?100:30,restDelta:.01,restSpeed:10}),Eo=()=>({type:"keyframes",ease:"linear",duration:300}),k2=e=>({type:"keyframes",duration:800,values:e}),ri={default:m2,x:gt,y:gt,z:gt,rotate:gt,rotateX:gt,rotateY:gt,rotateZ:gt,scaleX:So,scaleY:So,scale:So,backgroundColor:Eo,color:Eo,opacity:Eo},Kp=(e,t)=>{let s;return h2(t)?s=k2:s=ri[e]||ri.default,{to:t,...s(t)}},li={...na,transform:Math.round},Yp={color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,size:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,rotate:kt,rotateX:kt,rotateY:kt,rotateZ:kt,scale:pa,scaleX:pa,scaleY:pa,scaleZ:pa,skew:kt,skewX:kt,skewY:kt,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Ps,originX:ei,originY:ei,originZ:le,zIndex:li,filter:hr,WebkitFilter:hr,fillOpacity:Ps,strokeOpacity:Ps,numOctaves:li},rl=e=>Yp[e],Zp=(e,t)=>t&&typeof e=="number"&&t.transform?t.transform(e):e;function g2(e,t){let s=rl(e);return s!==hr&&(s=ta),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const _2={linear:jp,easeIn:al,easeInOut:Np,easeOut:NS,circIn:Fp,circInOut:FS,circOut:Hp,backIn:ol,backInOut:DS,backOut:HS,anticipate:WS,bounceIn:US,bounceInOut:qS,bounceOut:Pa},ci=e=>{if(Array.isArray(e)){const[t,s,a,o]=e;return c2(t,s,a,o)}else if(typeof e=="string")return _2[e];return e},v2=e=>Array.isArray(e)&&typeof e[0]!="number",ii=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&ta.test(t)&&!t.startsWith("url("));function y2(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function w2({ease:e,times:t,delay:s,...a}){const o={...a};return t&&(o.offset=t),e&&(o.ease=v2(e)?e.map(ci):ci(e)),s&&(o.elapsed=-s),o}function b2(e,t,s){return Array.isArray(t.to)&&(e.duration||(e.duration=800)),y2(t),x2(e)||(e={...e,...Kp(s,t.to)}),{...t,...w2(e)}}function x2({delay:e,repeat:t,repeatType:s,repeatDelay:a,from:o,...l}){return!!Object.keys(l).length}function S2(e,t){return e[t]||e.default||e}function E2(e,t,s,a,o){const l=S2(a,e);let c=l.from===null||l.from===void 0?t.get():l.from;const i=ii(e,s);c==="none"&&i&&typeof s=="string"&&(c=g2(e,s));const u=ii(e,c);function p(d){const h={from:c,to:s,velocity:a.velocity?a.velocity:t.getVelocity(),onUpdate:m=>t.set(m)};return l.type==="inertia"||l.type==="decay"?n2({...h,...l}):Wp({...b2(l,h,e),onUpdate:m=>{h.onUpdate(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a.onComplete&&a.onComplete(),o&&o(),d&&d()}})}function f(d){return t.set(s),a.onComplete&&a.onComplete(),o&&o(),d&&d(),{stop:()=>{}}}return!u||!i||l.type===!1?f:p}function O2(){const{motionValues:e,stop:t,get:s}=d2();return{motionValues:e,stop:t,push:(o,l,c,i={},u)=>{const p=c[o],f=s(o,p,c);if(i&&i.immediate){f.set(l);return}const d=E2(o,f,l,i,u);f.start(d)}}}function M2(e,t={},{motionValues:s,push:a,stop:o}=O2()){const l=w(t),c=V(!1);pe(s,d=>{c.value=Object.values(d).filter(h=>h.isAnimating()).length>0},{immediate:!0,deep:!0});const i=d=>{if(!l||!l[d])throw new Error(`The variant ${d} does not exist.`);return l[d]},u=d=>(typeof d=="string"&&(d=i(d)),Promise.all(Object.entries(d).map(([h,m])=>{if(h!=="transition")return new Promise(k=>{a(h,m,e,d.transition||Kp(h,d[h]),k)})}).filter(Boolean)));return{isAnimating:c,apply:u,set:d=>{const h=Uo(d)?d:i(d);Object.entries(h).forEach(([m,k])=>{m!=="transition"&&a(m,k,e,{immediate:!0})})},leave:async d=>{let h;if(l&&(l.leave&&(h=l.leave),!l.leave&&l.initial&&(h=l.initial)),!h){d();return}await u(h),d()},stop:o}}const ll=typeof window<"u",C2=()=>ll&&window.onpointerdown===null,$2=()=>ll&&window.ontouchstart===null,A2=()=>ll&&window.onmousedown===null;function T2({target:e,state:t,variants:s,apply:a}){const o=w(s),l=V(!1),c=V(!1),i=V(!1),u=M(()=>{let f=[];return o&&(o.hovered&&(f=[...f,...Object.keys(o.hovered)]),o.tapped&&(f=[...f,...Object.keys(o.tapped)]),o.focused&&(f=[...f,...Object.keys(o.focused)])),f}),p=M(()=>{const f={};Object.assign(f,t.value),l.value&&o.hovered&&Object.assign(f,o.hovered),c.value&&o.tapped&&Object.assign(f,o.tapped),i.value&&o.focused&&Object.assign(f,o.focused);for(const d in f)u.value.includes(d)||delete f[d];return f});o.hovered&&(ie(e,"mouseenter",()=>l.value=!0),ie(e,"mouseleave",()=>{l.value=!1,c.value=!1}),ie(e,"mouseout",()=>{l.value=!1,c.value=!1})),o.tapped&&(A2()&&(ie(e,"mousedown",()=>c.value=!0),ie(e,"mouseup",()=>c.value=!1)),C2()&&(ie(e,"pointerdown",()=>c.value=!0),ie(e,"pointerup",()=>c.value=!1)),$2()&&(ie(e,"touchstart",()=>c.value=!0),ie(e,"touchend",()=>c.value=!1))),o.focused&&(ie(e,"focus",()=>i.value=!0),ie(e,"blur",()=>i.value=!1)),pe(p,a)}function R2({set:e,target:t,apply:s,variants:a,variant:o}){const l=w(a);pe(()=>t,()=>{!l||(l.initial&&e("initial"),l.enter&&(o.value="enter"))},{immediate:!0,flush:"pre"})}function P2({state:e,apply:t}){pe(e,s=>{s&&t(s)},{immediate:!0})}function I2({target:e,variants:t,variant:s}){const a=w(t);a&&(a.visible||a.visibleOnce)&&yk(e,([{isIntersecting:o}])=>{a.visible?o?s.value="visible":s.value="initial":a.visibleOnce&&(o&&s.value!=="visibleOnce"?s.value="visibleOnce":s.value||(s.value="initial"))})}function L2(e,t={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){t.lifeCycleHooks&&R2(e),t.syncVariants&&P2(e),t.visibilityHooks&&I2(e),t.eventListeners&&T2(e)}function Jp(e={}){const t=Le({...e}),s=V({});return pe(t,()=>{const a={};for(const[o,l]of Object.entries(t)){const c=rl(o),i=Zp(l,c);a[o]=i}s.value=a},{immediate:!0,deep:!0}),{state:t,style:s}}function cl(e,t){pe(()=>$n(e),s=>{!s||t(s)},{immediate:!0})}const j2={x:"translateX",y:"translateY",z:"translateZ"};function Gp(e={},t=!0){const s=Le({...e}),a=V("");return pe(s,o=>{let l="",c=!1;t&&(o.x||o.y||o.z)&&(l+=`translate3d(${[o.x||0,o.y||0,o.z||0].map(le.transform).join(",")}) `,c=!0);for(const[i,u]of Object.entries(o)){if(t&&(i==="x"||i==="y"||i==="z"))continue;const p=rl(i),f=Zp(u,p);l+=`${j2[i]||i}(${f}) `}t&&!c&&(l+="translateZ(0px) "),a.value=l.trim()},{immediate:!0,deep:!0}),{state:s,transform:a}}const N2=["","X","Y","Z"],F2=["perspective","translate","scale","rotate","skew"],Qp=["transformPerspective","x","y","z"];F2.forEach(e=>{N2.forEach(t=>{const s=e+t;Qp.push(s)})});const H2=new Set(Qp);function il(e){return H2.has(e)}const D2=new Set(["originX","originY","originZ"]);function Xp(e){return D2.has(e)}function W2(e){const t={},s={};return Object.entries(e).forEach(([a,o])=>{il(a)||Xp(a)?t[a]=o:s[a]=o}),{transform:t,style:s}}function ef(e){const{transform:t,style:s}=W2(e),{transform:a}=Gp(t),{style:o}=Jp(s);return a.value&&(o.value.transform=a.value),o.value}function B2(e,t){let s,a;const{state:o,style:l}=Jp();return cl(e,c=>{a=c;for(const i of Object.keys(Yp))c.style[i]===null||c.style[i]===""||il(i)||Xp(i)||(o[i]=c.style[i]);s&&Object.entries(s).forEach(([i,u])=>c.style[i]=u),t&&t(o)}),pe(l,c=>{if(!a){s=c;return}for(const i in c)a.style[i]=c[i]},{immediate:!0}),{style:o}}function V2(e){const t=e.trim().split(/\) |\)/);if(t.length===1)return{};const s=a=>a.endsWith("px")||a.endsWith("deg")?parseFloat(a):isNaN(Number(a))?Number(a):a;return t.reduce((a,o)=>{if(!o)return a;const[l,c]=o.split("("),u=c.split(",").map(f=>s(f.endsWith(")")?f.replace(")",""):f.trim())),p=u.length===1?u[0]:u;return{...a,[l]:p}},{})}function z2(e,t){Object.entries(V2(t)).forEach(([s,a])=>{const o=["x","y","z"];if(s==="translate3d"){if(a===0){o.forEach(l=>e[l]=0);return}a.forEach((l,c)=>e[o[c]]=l);return}if(a=parseFloat(a),s==="translateX"){e.x=a;return}if(s==="translateY"){e.y=a;return}if(s==="translateZ"){e.z=a;return}e[s]=a})}function U2(e,t){let s,a;const{state:o,transform:l}=Gp();return cl(e,c=>{a=c,c.style.transform&&z2(o,c.style.transform),s&&(c.style.transform=s),t&&t(o)}),pe(l,c=>{if(!a){s=c;return}a.style.transform=c},{immediate:!0}),{transform:o}}function q2(e,t){const s=Le({}),a=c=>Object.entries(c).forEach(([i,u])=>s[i]=u),{style:o}=B2(e,a),{transform:l}=U2(e,a);return pe(s,c=>{Object.entries(c).forEach(([i,u])=>{const p=il(i)?l:o;p[i]&&p[i]===u||(p[i]=u)})},{immediate:!0,deep:!0}),cl(e,()=>t&&a(t)),{motionProperties:s,style:o,transform:l}}function K2(e={}){const t=w(e),s=V();return{state:M(()=>{if(!!s.value)return t[s.value]}),variant:s}}function nf(e,t={},s){const{motionProperties:a}=q2(e),{variant:o,state:l}=K2(t),c=M2(a,t),i={target:e,variant:o,variants:t,state:l,motionProperties:a,...c};return L2(i,s),i}const Y2=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"],Z2=(e,t)=>{const s=e.props?e.props:e.data&&e.data.attrs?e.data.attrs:{};s&&(s.variants&&Uo(s.variants)&&(t.value={...t.value,...s.variants}),Y2.forEach(a=>{if(a==="delay"){if(s&&s[a]&&lm(s[a])){const o=s[a];t&&t.value&&(t.value.enter&&(t.value.enter.transition||(t.value.enter.transition={}),t.value.enter.transition={delay:o,...t.value.enter.transition}),t.value.visible&&(t.value.visible.transition||(t.value.visible.transition={}),t.value.visible.transition={delay:o,...t.value.visible.transition}),t.value.visibleOnce&&(t.value.visibleOnce.transition||(t.value.visibleOnce.transition={}),t.value.visibleOnce.transition={delay:o,...t.value.visibleOnce.transition}))}return}a==="visible-once"&&(a="visibleOnce"),s&&s[a]&&Uo(s[a])&&(t.value[a]=s[a])}))},Oo=e=>({created:(a,o,l)=>{const c=o.value&&typeof o.value=="string"?o.value:l.key;c&&xo[c]&&xo[c].stop();const i=V(e||{});typeof o.value=="object"&&(i.value=o.value),Z2(l,i);const u=nf(a,i);a.motionInstance=u,c&&(xo[c]=u)},unmounted:a=>{a.motionInstance&&a.motionInstance.stop()},getSSRProps(a,o){let{initial:l}=a.value||o&&(o==null?void 0:o.props)||{};l=w(l);const c=Jx((e==null?void 0:e.initial)||{},l||{});return!c||Object.keys(c).length===0?void 0:{style:ef(c)}}}),J2={initial:{opacity:0},enter:{opacity:1}},G2={initial:{opacity:0},visible:{opacity:1}},Q2={initial:{opacity:0},visibleOnce:{opacity:1}},X2={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},eE={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},nE={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},tE={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},sE={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},aE={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},oE={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},rE={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},lE={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},cE={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},iE={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},uE={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},pE={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},fE={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},dE={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},hE={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},mE={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},kE={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},gE={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},_E={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},vE={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},yE={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},wE={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},bE={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},xE={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},SE={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},EE={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},mr={__proto__:null,fade:J2,fadeVisible:G2,fadeVisibleOnce:Q2,pop:X2,popVisible:eE,popVisibleOnce:nE,rollBottom:pE,rollLeft:tE,rollRight:oE,rollTop:cE,rollVisibleBottom:fE,rollVisibleLeft:sE,rollVisibleRight:rE,rollVisibleTop:iE,rollVisibleOnceBottom:dE,rollVisibleOnceLeft:aE,rollVisibleOnceRight:lE,rollVisibleOnceTop:uE,slideBottom:xE,slideLeft:hE,slideRight:gE,slideTop:yE,slideVisibleBottom:SE,slideVisibleLeft:mE,slideVisibleRight:_E,slideVisibleTop:wE,slideVisibleOnceBottom:EE,slideVisibleOnceLeft:kE,slideVisibleOnceRight:vE,slideVisibleOnceTop:bE},OE=Ce({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(e){var i;const t=nh(),s=Le({});if(!e.is&&!t.default)return()=>gn("div",{});const a=M(()=>{let u;return e.preset&&(u=mr[e.preset]),u}),o=M(()=>({initial:e.initial,enter:e.enter,leave:e.leave,visible:e.visible,visibleOnce:e.visibleOnce,hovered:e.hovered,tapped:e.tapped,focused:e.focused})),l=M(()=>{const u={...o.value,...a.value||{},...e.variants||{}};return e.delay&&(u.enter.transition={...u.enter.transition},u.enter.transition.delay=parseInt(e.delay)),u}),c=M(()=>{if(!e.is)return;let u=e.is;return typeof c.value=="string"&&!df(u)&&(u=xa(u)),u});if(((i=process==null?void 0:process.env)==null?void 0:i.NODE_ENV)==="development"||(process==null?void 0:process.dev)){const u=p=>{var f;(f=p.variants)!=null&&f.initial&&p.set("initial"),setTimeout(()=>{var d,h,m;(d=p.variants)!=null&&d.enter&&p.apply("enter"),(h=p.variants)!=null&&h.visible&&p.apply("visible"),(m=p.variants)!=null&&m.visibleOnce&&p.apply("visibleOnce")},10)};Ir(()=>Object.entries(s).forEach(([p,f])=>u(f)))}return{slots:t,component:c,motionConfig:l,instances:s}},render({slots:e,motionConfig:t,instances:s,component:a}){var i;const o=ef(t.initial||{}),l=(u,p)=>(u.props||(u.props={}),u.props.style=o,u.props.onVnodeMounted=({el:f})=>{const d=nf(f,t);s[p]=d},u);if(a){const u=gn(a,void 0,e);return l(u,0),u}return(((i=e.default)==null?void 0:i.call(e))||[]).map((u,p)=>l(u,p))}});function ME(e){const t="\xE0\xE1\xE2\xE4\xE6\xE3\xE5\u0101\u0103\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\xEA\xEB\u0113\u0117\u0119\u011B\u011F\u01F5\u1E27\xEE\xEF\xED\u012B\u012F\xEC\u0142\u1E3F\xF1\u0144\u01F9\u0148\xF4\xF6\xF2\xF3\u0153\xF8\u014D\xF5\u0151\u1E55\u0155\u0159\xDF\u015B\u0161\u015F\u0219\u0165\u021B\xFB\xFC\xF9\xFA\u016B\u01D8\u016F\u0171\u0173\u1E83\u1E8D\xFF\xFD\u017E\u017A\u017C\xB7/_,:;",s="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",a=new RegExp(t.split("").join("|"),"g");return e.toString().replace(/[A-Z]/g,o=>`-${o}`).toLowerCase().replace(/\s+/g,"-").replace(a,o=>s.charAt(t.indexOf(o))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const CE={install(e,t){if(e.directive("motion",Oo()),e.component("Motion",OE),!t||t&&!t.excludePresets)for(const s in mr){const a=mr[s];e.directive(`motion-${ME(s)}`,Oo(a))}if(t&&t.directives)for(const s in t.directives){const a=t.directives[s];a.initial,e.directive(`motion-${s}`,Oo(a))}}};var ui;const Ls=typeof window<"u",$E=Object.prototype.toString,AE=e=>$E.call(e)==="[object Object]";Ls&&((ui=window==null?void 0:window.navigator)==null?void 0:ui.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function TE(e){return Ti()?(Ri(e),!0):!1}function RE(e){var t;const s=w(e);return(t=s==null?void 0:s.$el)!=null?t:s}const PE=Ls?window:void 0,kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gr="__vueuse_ssr_handlers__";kr[gr]=kr[gr]||{};kr[gr];function IE(e,t={}){const{immediate:s=!0,window:a=PE}=t,o=V(!1);let l=null;function c(){!o.value||!a||(e(),l=a.requestAnimationFrame(c))}function i(){!o.value&&a&&(o.value=!0,c())}function u(){o.value=!1,l!=null&&a&&(a.cancelAnimationFrame(l),l=null)}return s&&i(),TE(u),{isActive:o,pause:u,resume:i}}var pi;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(pi||(pi={}));const ul="vue-starport-injection",tf="vue-starport-options",LE={duration:800,easing:"cubic-bezier(0.45, 0, 0.55, 1)",keepAlive:!1},sf={port:{type:String,required:!0},duration:{type:Number,required:!1},easing:{type:String,required:!1},keepAlive:{type:Boolean,required:!1,default:void 0},mountedProps:{type:Object,required:!1},initialProps:{type:Object,required:!1}};var jE=Object.defineProperty,La=Object.getOwnPropertySymbols,af=Object.prototype.hasOwnProperty,of=Object.prototype.propertyIsEnumerable,fi=(e,t,s)=>t in e?jE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,NE=(e,t)=>{for(var s in t||(t={}))af.call(t,s)&&fi(e,s,t[s]);if(La)for(var s of La(t))of.call(t,s)&&fi(e,s,t[s]);return e},di=(e,t)=>{var s={};for(var a in e)af.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&La)for(var a of La(e))t.indexOf(a)<0&&of.call(e,a)&&(s[a]=e[a]);return s};const FE=Ce({name:"StarportProxy",props:NE({props:{type:Object,default:()=>({})},component:{type:Object,required:!0}},sf),setup(e,t){const s=B(ul),a=M(()=>s.getInstance(e.port,e.component)),o=V(),l=a.value.generateId(),c=V(!1);return a.value.isVisible||(a.value.land(),c.value=!0),is(async()=>{a.value.el||(a.value.el=o.value,await Ge(),c.value=!0,a.value.rect.update())}),Ka(async()=>{a.value.rect.update(),a.value.liftOff(),a.value.el=void 0,c.value=!1,!a.value.options.keepAlive&&(await Ge(),await Ge(),!a.value.el&&s.dispose(a.value.port))}),pe(()=>e,async()=>{a.value.props&&await Ge();const i=e,{props:u}=i,p=di(i,["props"]);a.value.props=u||{},a.value.setLocalOptions(p)},{deep:!0,immediate:!0}),()=>{const i=e,{initialProps:u,mountedProps:p}=i,f=di(i,["initialProps","mountedProps"]),d=we(f,(c.value?p:u)||{});return gn("div",we(d,{id:l,ref:o,"data-starport-proxy":a.value.componentId,"data-starport-landed":a.value.isLanded?"true":void 0,"data-starport-floating":a.value.isLanded?void 0:"true"}),t.slots.default?gn(t.slots.default):void 0)}}});var HE=Object.defineProperty,DE=Object.defineProperties,WE=Object.getOwnPropertyDescriptors,hi=Object.getOwnPropertySymbols,BE=Object.prototype.hasOwnProperty,VE=Object.prototype.propertyIsEnumerable,mi=(e,t,s)=>t in e?HE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,zE=(e,t)=>{for(var s in t||(t={}))BE.call(t,s)&&mi(e,s,t[s]);if(hi)for(var s of hi(t))VE.call(t,s)&&mi(e,s,t[s]);return e},UE=(e,t)=>DE(e,WE(t));const qE=Ce({name:"Starport",inheritAttrs:!0,props:sf,setup(e,t){const s=V(!1);return is(()=>{s.value=!0}),()=>{var c,i;const a=(i=(c=t.slots).default)==null?void 0:i.call(c);if(!a)throw new Error("[Vue Starport] Slot is required to use <Starport>");if(a.length!==1)throw new Error(`[Vue Starport] <Starport> requires exactly one slot, but got ${a.length}`);const o=a[0];let l=o.type;return(!AE(l)||ts(l))&&(l={render(){return a}}),gn(FE,UE(zE({},e),{key:e.port,component:Ba(l),props:o.props}))}}});function KE(e){const t=Le({height:0,width:0,left:0,top:0,update:a,listen:l,pause:c,margin:"0px",padding:"0px"}),s=Ls?document.documentElement||document.body:void 0;function a(){if(!Ls)return;const i=RE(e);if(!i)return;const{height:u,width:p,left:f,top:d}=i.getBoundingClientRect(),h=window.getComputedStyle(i),m=h.margin,k=h.padding;Object.assign(t,{height:u,width:p,left:f,top:s.scrollTop+d,margin:m,padding:k})}const o=IE(a,{immediate:!1});function l(){!Ls||(a(),o.resume())}function c(){o.pause()}return t}let YE=(e,t=21)=>(s=t)=>{let a="",o=s;for(;o--;)a+=e[Math.random()*e.length|0];return a};const ki=YE("abcdefghijklmnopqrstuvwxyz",5);function gi(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^\w\d_-]/g,"")}function ZE(e){var t;return e.name||((t=e.__file)==null?void 0:t.split(/[\/\\.]/).slice(-2)[0])||""}var JE=Object.defineProperty,_i=Object.getOwnPropertySymbols,GE=Object.prototype.hasOwnProperty,QE=Object.prototype.propertyIsEnumerable,vi=(e,t,s)=>t in e?JE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Mo=(e,t)=>{for(var s in t||(t={}))GE.call(t,s)&&vi(e,s,t[s]);if(_i)for(var s of _i(t))QE.call(t,s)&&vi(e,s,t[s]);return e};function XE(e,t,s={}){const a=ZE(t),o=gi(a)||ki(),l=V(),c=V(null),i=V(!1),u=V(!1),p=wf(!0),f=V({}),d=M(()=>Mo(Mo(Mo({},LE),s),f.value)),h=V(0);let m;p.run(()=>{m=KE(l),pe(l,async E=>{E&&(u.value=!0),await Ge(),l.value||(u.value=!1)})});const k=gi(e);function y(){return`starport-${o}-${k}-${ki()}`}const v=y();return Le({el:l,id:v,port:e,props:c,rect:m,scope:p,isLanded:i,isVisible:u,options:d,liftOffTime:h,component:t,componentName:a,componentId:o,generateId:y,setLocalOptions(E={}){f.value=JSON.parse(JSON.stringify(E))},elRef(){return l},liftOff(){!i.value||(i.value=!1,h.value=Date.now(),m.listen())},land(){i.value||(i.value=!0,m.pause())}})}function eO(e){const t=Le(new Map);function s(o,l){let c=t.get(o);return c||(c=XE(o,l,e),t.set(o,c)),c.component=l,c}function a(o){var l;(l=t.get(o))==null||l.scope.stop(),t.delete(o)}return{portMap:t,dispose:a,getInstance:s}}var nO=Object.defineProperty,tO=Object.defineProperties,sO=Object.getOwnPropertyDescriptors,yi=Object.getOwnPropertySymbols,aO=Object.prototype.hasOwnProperty,oO=Object.prototype.propertyIsEnumerable,wi=(e,t,s)=>t in e?nO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,rO=(e,t)=>{for(var s in t||(t={}))aO.call(t,s)&&wi(e,s,t[s]);if(yi)for(var s of yi(t))oO.call(t,s)&&wi(e,s,t[s]);return e},lO=(e,t)=>tO(e,sO(t));const cO=Ce({name:"StarportCraft",props:{port:{type:String,required:!0},component:{type:Object,required:!0}},setup(e){const t=B(ul);if(!t)throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.");const s=M(()=>t.getInstance(e.port,e.component)),a=M(()=>{var c;return((c=s.value.el)==null?void 0:c.id)||s.value.id}),o=M(()=>{const c=Date.now()-s.value.liftOffTime,i=Math.max(0,s.value.options.duration-c),u=s.value.rect,p={position:"absolute",left:0,top:0,width:`${u.width}px`,height:`${u.height}px`,margin:u.margin,padding:u.padding,transform:`translate3d(${u.left}px,${u.top}px,0px)`};return!s.value.isVisible||!s.value.el?lO(rO({},p),{zIndex:-1,display:"none"}):(s.value.isLanded?p.display="none":Object.assign(p,{transitionProperty:"all",transitionDuration:`${i}ms`,transitionTimingFunction:s.value.options.easing}),p)}),l={};return()=>{const c=!!(s.value.isLanded&&s.value.el);return gn("div",{style:o.value,"data-starport-craft":s.value.componentId,"data-starport-landed":s.value.isLanded?"true":void 0,"data-starport-floating":s.value.isLanded?void 0:"true",onTransitionend:s.value.land},gn(Ud,{to:c?`#${a.value}`:"body",disabled:!c},gn(s.value.component,we(l,s.value.props))))}}}),iO=Ce({name:"StarportCarrier",setup(e,{slots:t}){const s=eO(B(tf,{}));return ft().appContext.app.provide(ul,s),()=>{var o;return[(o=t.default)==null?void 0:o.call(t),Array.from(s.portMap.entries()).map(([l,{component:c}])=>gn(cO,{key:l,port:l,component:c}))]}}});function uO(e={}){return{install(t){t.provide(tf,e),t.component("Starport",qE),t.component("StarportCarrier",iO)}}}function pO(e){function t(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}t(),window.addEventListener("resize",t),e.app.use(CE),e.app.use(uO({keepAlive:!0}))}function fn(e,t,s){var a,o;return(o=((a=e.instance)==null?void 0:a.$).provides[t])!=null?o:s}function fO(){return{install(e){e.directive("click",{name:"v-click",mounted(t,s){var f,d,h,m;if(Ts.value||((f=fn(s,Ms))==null?void 0:f.value))return;const a=fn(s,bt),o=fn(s,Os),l=fn(s,Vo),c=s.modifiers.hide!==!1&&s.modifiers.hide!=null,i=s.modifiers.fade!==!1&&s.modifiers.fade!=null,u=((d=a==null?void 0:a.value)==null?void 0:d.length)||0,p=i?Uh:co;if(a&&!((h=a==null?void 0:a.value)!=null&&h.includes(t))&&a.value.push(t),s.value===null&&(s.value=a==null?void 0:a.value.length),!(l!=null&&l.value.has(s.value)))l==null||l.value.set(s.value,[t]);else if(!((m=l==null?void 0:l.value.get(s.value))!=null&&m.includes(t))){const k=(l==null?void 0:l.value.get(s.value))||[];l==null||l.value.set(s.value,[t].concat(k))}t==null||t.classList.toggle(vt,!0),o&&pe(o,()=>{var E;const k=(E=o==null?void 0:o.value)!=null?E:0,y=s.value!=null?k>=s.value:k>u;t.classList.contains(io)||t.classList.toggle(p,!y),c!==!1&&c!==void 0&&t.classList.toggle(p,y),t.classList.toggle(ks,!1);const v=l==null?void 0:l.value.get(k);v==null||v.forEach((S,b)=>{S.classList.toggle(ia,!1),b===v.length-1?S.classList.toggle(ks,!0):S.classList.toggle(ia,!0)}),t.classList.contains(ks)||t.classList.toggle(ia,y)},{immediate:!0})},unmounted(t,s){t==null||t.classList.toggle(vt,!1);const a=fn(s,bt);a!=null&&a.value&&zo(a.value,t)}}),e.directive("after",{name:"v-after",mounted(t,s){var i,u;if(Ts.value||((i=fn(s,Ms))==null?void 0:i.value))return;const a=fn(s,bt),o=fn(s,Os),l=fn(s,Vo),c=a==null?void 0:a.value.length;s.value===void 0&&(s.value=a==null?void 0:a.value.length),l!=null&&l.value.has(s.value)?(u=l==null?void 0:l.value.get(s.value))==null||u.push(t):l==null||l.value.set(s.value,[t]),t==null||t.classList.toggle(vt,!0),o&&pe(o,()=>{var f,d,h;const p=((f=o.value)!=null?f:0)>=((h=(d=s.value)!=null?d:c)!=null?h:0);t.classList.contains(io)||t.classList.toggle(co,!p),t.classList.toggle(ks,!1),t.classList.contains(ks)||t.classList.toggle(ia,p)},{immediate:!0})},unmounted(t){t==null||t.classList.toggle(vt,!0)}}),e.directive("click-hide",{name:"v-click-hide",mounted(t,s){var c,i,u;if(Ts.value||((c=fn(s,Ms))==null?void 0:c.value))return;const a=fn(s,bt),o=fn(s,Os),l=((i=a==null?void 0:a.value)==null?void 0:i.length)||0;a&&!((u=a==null?void 0:a.value)!=null&&u.includes(t))&&a.value.push(t),t==null||t.classList.toggle(vt,!0),o&&pe(o,()=>{var d;const p=(d=o==null?void 0:o.value)!=null?d:0,f=s.value!=null?p>=s.value:p>l;t.classList.toggle(co,f),t.classList.toggle(io,f)},{immediate:!0})},unmounted(t,s){t==null||t.classList.toggle(vt,!1);const a=fn(s,bt);a!=null&&a.value&&zo(a.value,t)}})}}}function dO(e,t){const s=lp(e),a=cp(t,s.currentRoute,s.currentPage);return{nav:{...s,...a,downloadPDF:or,next:ct,nextSlide:qs,openInEditor:qx,prev:it,prevSlide:Ks},configs:xe,themeConfigs:M(()=>xe.themeConfig)}}function hO(){return{install(e){const t=dO(Xn,Rn);e.provide(Y,Le(t))}}}const fs=Mh(Yx);fs.use(vn);fs.use(Dh());fs.use(fO());fs.use(hO());pO({app:fs,router:vn});fs.mount("#app");export{ws as $,de as A,Ee as B,sn as C,F_ as D,mO as E,Me as F,kO as G,Rn as H,Ra as I,Wx as J,_o as K,uo as L,Vs as M,ko as N,Ou as O,V0 as P,Ur as Q,D0 as R,qr as S,qe as T,hp as U,K_ as V,ap as W,jn as X,gO as Y,Jn as Z,tp as _,n as a,ua as a0,Gs as a1,Ot as a2,Bn as a3,nr as a4,m_ as a5,k_ as a6,g_ as a7,v_ as a8,Lr as a9,wu as aa,wO as ab,on as ac,Mv as ad,Su as ae,y_ as af,Ka as ag,L_ as ah,M as b,U as c,Ce as d,Y as e,mn as f,q as g,w as h,B as i,C_ as j,Ux as k,xe as l,Bh as m,De as n,O as o,is as p,Le as q,V as r,_O as s,Pt as t,vO as u,yO as v,pe as w,N as x,en as y,W as z};
